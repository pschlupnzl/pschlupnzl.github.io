!function(){var lang,la,Debounce;!function(e){var t=document.createElement("style");t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t);for(var a=0;a<e.length;a+=1)t.sheet.insertRule(e[a])}([".infoPropertiesPanel h1 {margin: 0.5em 0 0 0;padding: 0.2em 0;text-align: center;font-size: 1em;cursor: default;transition: background-color 150ms;}",".infoPropertiesPanel.panel-highlight h1 {background-color: rgba(217, 218, 57, 0.5);}",".infoPropertiesPanel table {width: 100%;border-collapse: collapse;}",".infoPropertiesPanel table td {padding: 0.2em;border-top: 1px solid;border-bottom: 1px solid;border-color: #aaa;}",".infoPropertiesPanel td[data-cell] {text-align: right;}",'.infoPropertiesPanel td[data-cell="label"],.infoPropertiesPanel td[data-cell="unit"] {text-align: left;}','[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="abcdSag"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="abcdTan"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="angleOfIncidence"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="curvatureFace1"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="curvatureFace2"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="distanceToNext"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="elementDistanceToNext"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="focalLength"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="groupDelayDispersion"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="groupVelocityDispersion"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="modeSpacing"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="opticalLength"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="physicalLength"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="radiusOfCurvature"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="rayleighLength"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="refractiveIndex"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="thickness"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="waistSize"],[data-show-advanced="false"] .infoPropertiesPanel [data-property-name="wavefrontROC"] {display: none;}','[data-variables-visible="false"] [data-cell="graph"] > span {display: none;}','[data-cell="graph"] input[type="checkbox"] {position: relative;visibility: hidden;cursor: pointer;}','[data-cell="graph"] input[type="checkbox"]::after {content: "\\1f441";position: absolute;left: 0;top: -0.1em;visibility: visible;opacity: 0.2;transition: opacity 150ms;}','[data-cell="graph"] input[type="checkbox"]:checked::after {opacity: 1;}',".selectInput select {padding: 0.1em 0.5em;min-width: 6em;background: white;border-radius: 0.5em;font-family: inherit;font-size: inherit;}",".mainMenuAnchor {position: relative;display: inline-block;vertical-align: top;}",".mainMenuAnchor .mainMenuToggle {position: relative;width: 64px;height: 64px;}",".mainMenuAnchor .mainMenu {position: absolute;left: 0;bottom: 64px;width: 240px;background: #fff;border: 1px solid;}",".mainMenuAnchor .mainMenu ul {margin: 0;padding: 0;list-style-type: none;text-align: left;}",".laserCanvasInspect {position: absolute;margin-left: -24px;margin-top: 8px;padding: 4px 0.6em;border-radius: 1em;background-color: rgba(255, 255, 255, 0.8);pointer-events: none;}",'.laserCanvasInspect:before {content: " ";position: absolute;left: 16px;top: -16px;width: 0;height: 0;border: 8px solid transparent;border-bottom-color: #fff;}',".laserCanvasInspect .ellipse {display: inline-block;vertical-align: middle;border: 1px solid;background: #b7b9c0;border-radius: 50%;}",".propertyInput {position: relative;display: flex;flex-direction: row;justify-content: flex-end;}",".propertyInput .selector::after,.propertyInput button {margin: 0 0.1em;padding: 0.1em 0.5em;color: white;background: #333;border: none;border-radius: 1em;font-size: 0.8em;font-family: inherit;}",".propertyInput button:hover {background-color: #575757;text-shadow: 0.1em 0.1em 0.2em rgba(0, 0, 0, 0.3);}",".propertyInput button[disabled],.propertyInput button[disabled]:hover {background: #ccc;text-shadow: none;}",'.propertyInput button[data-step="-1"] {border-top-right-radius: 0;border-bottom-right-radius: 0;}','.propertyInput .selector::after,.propertyInput button[data-step="+1"] {border-top-left-radius: 0;border-bottom-left-radius: 0;}',".propertyInput span.input {position: relative;width: 4em;}","input.demoPropertyInput,.propertyInput input {padding: 0.1em 0.5em;background: white;border: none;border-radius: 0.5em;box-shadow: 0.1em 0.1em 0.2em rgba(0, 0, 0, 0.3) inset;text-align: right;font-family: inherit;font-size: inherit;transition: all 150ms;}",".propertyInput input {position: absolute;left: 0;top: -0.2em;width: 3.0em;}","input.demoPropertyInput {width: 6em;text-align: center;}",'input.demoPropertyInput[data-expression="true"],.propertyInput input[data-expression="true"] {color: #2141bd;background-color: rgb(239, 243, 249);}',".propertyInput input:focus {width: 6em;margin-left: -1.5em;margin-right: -1.5em;}",".propertyInput[disabled] {color: #626262;background-color: #e7e7e7;box-shadow: none;}",'.propertyInput .selector::after {content: "▼";padding: 0.6em 0.8em;pointer-events: none;border-top-right-radius: 2em;border-bottom-right-radius: 2em;font-size: 0.5em;}',".propertyInput select {position: absolute;width: 2.4em;opacity: 0.01;}",'.propertyInput[data-has-standard="true"] button[data-step="+1"],.propertyInput .selector {display: none;}','.propertyInput[data-has-standard="true"] button[data-step="-1"] {visibility: hidden;}','.propertyInput[data-has-standard="true"] .selector {display: unset;}',".laserCanvasToolbar {bottom: 0;width: 100%;height: 80px;margin-top: -1px;border-top: 1px solid #ccc;white-space: nowrap;text-align: center;}",".generalSelector {display: inline-block;margin: 0.5em;font-size: inherit;font-family: inherit;}",".generalSelector .slider,.generalSelector .buttons {display: inline-block;vertical-align: middle;}",".generalSelector button {display: block;padding: 0.2em;border: none;color: inherit;background: none;cursor: pointer;}",".generalSelector .slider {width: 1em;height: 2.2em;padding: 0.2em;background: #999;border-radius: 0.6em;}",'.generalSelector .slider:after {content: " ";position: relative;display: block;top: 0;width: 1em;height: 1em;background: white;border-radius: 0.5em;transition: top ease-out 150ms;}','[data-interaction="inspect"] .interactionSelector .slider:after,[data-theme="light"] .themeSelector .slider:after {top: 1.2em;}','[data-theme="dark"] .themeSelector .slider:after {top: 2.4em;}',".themeSelector .slider[data-set-theme] {height: 3.4em;}","[data-insert-element] {position: relative;display: inline-block;min-height: 64px;background: #999;border: none;border-radius: 1em;vertical-align: top;}",'[data-insert-element]:after {position: absolute;content: " ";top: -1.9em;left: 50%;width: 0;margin-left: -1em;border: 1em solid transparent;border-bottom-color: #999;}','[data-theme="line"] [data-insert-element] {background: #d7d7d7;}','[data-theme="line"] [data-insert-element]:after {border-bottom-color: #d7d7d7;}','[data-theme="line"] .generalSelector .slider {background-color: #d7d7d7;}',".laserCanvasToolbar .feedbackLink {position: absolute;top: -1.35em;right: 0.5em;text-decoration: none;font-size: 16px;}",".laserCanvasToolbar .feedbackLink > span {animation: gloss 7s linear infinite;}",".laserCanvasToolbar .feedbackLink > span:nth-child(1) { animation-delay: 0; }",".laserCanvasToolbar .feedbackLink > span:nth-child(2) { animation-delay: 50ms; }",".laserCanvasToolbar .feedbackLink > span:nth-child(3) { animation-delay: 100ms; }",".laserCanvasToolbar .feedbackLink > span:nth-child(4) { animation-delay: 150ms; }",".laserCanvasToolbar .feedbackLink > span:nth-child(5) { animation-delay: 200ms; }",".laserCanvasToolbar .feedbackLink > span:nth-child(6) { animation-delay: 250ms; }",".laserCanvasToolbar .feedbackLink > span:nth-child(7) { animation-delay: 300ms; }",".laserCanvasToolbar .feedbackLink > span:nth-child(8) { animation-delay: 350ms; }","@keyframes gloss {0% { color: #339; }96% { color: #339; }98% { color: #99c; }100% { color: #339; }}",'.checkboxInput input[type="checkbox"],input.laserCanvasInput[type="checkbox"],input.laserCanvasCheckbox[type="checkbox"] {position: relative;width: 2.5em;margin-left: 1em;font-size: inherit;}','.checkboxInput input[type="checkbox"]::before,input.laserCanvasInput[type="checkbox"]::before,input.laserCanvasCheckbox[type="checkbox"]::before {content: "";display: inline-block;position: absolute;left: -0.9em;top: -0.2em;width: 3em;height: 1.4em;border-radius: 0.7em;background: #a8a8a8;box-shadow: 0 0 0.5em rgba(0, 0, 0, 0.2) inset;}','.checkboxInput input[type="checkbox"]::after,input.laserCanvasInput[type="checkbox"]::after,input.laserCanvasCheckbox[type="checkbox"]::after {content: "";position: absolute;width: 1.2em;height: 1.2em;left: -0.7em;top: -0.1em;border-radius: 0.5em;background: #f4f4f4;text-align: center;transition: left 150ms;}','.checkboxInput input[type="checkbox"]:checked::after,input.laserCanvasInput[type="checkbox"]:checked::after,input.laserCanvasCheckbox[type="checkbox"]:checked::after {content: "";left: 0.7em;}','.checkboxInput input[type="checkbox"]::after,input.laserCanvasInput[type="checkbox"]::after {content: "\\d7";}','.checkboxInput input[type="checkbox"]:checked::after,input.laserCanvasInput[type="checkbox"]:checked::after {content: "\\2713";}',".propertiesPanel,.elementScreenPanel,.sellmeierPanel {position: absolute;left: 20px;top: 20px;padding: 0.5em;background: rgba(255, 255, 255, 0.85);border-radius: 1em;box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);}",".propertiesPanel {display: none;}",'.propertiesPanel[data-visible="true"] {display: block;}',".propertiesPanel h1,.elementScreenPanel h1,.sellmeierPanel h1 {margin: 0.2em;font-size: 1em;text-align: center;}",".propertiesPanel h1,.elementScreenPanel h1 {text-transform: uppercase;}",'.propertiesPanel h1 input[type="text"] {width: 80%;border: none;background: none;text-align: center;font-family: inherit;font-size: inherit;font-weight: inherit;text-transform: inherit;}',".propertiesPanel table {width: 100%;}",".propertiesPanel table th {display: none;border-bottom: 1px solid #666;}",".propertiesPanel table th,.propertiesPanel table td {padding-top: 0.15em;padding-bottom: 0.15em;}",'input.laserCanvasInput[type="number"],input.laserCanvasInput[type="text"] {padding: 0.1em 0.5em;background: white;border-radius: 0.5em;font-family: inherit;font-size: inherit;}','input.laserCanvasInput[type="number"],input.laserCanvasInput[type="text"] {width: 3.0em;border: none;box-shadow: 0.1em 0.1em 0.2em rgba(0, 0, 0, 0.3) inset;text-align: right;}',".dragbar {background-image: linear-gradient(to bottom,#555  0%, #555  9%,#fff 10%, #fff 19%,#555 20%, #555 29%, #fff 30%, #fff 39%, #555 40%, #555 49%,transparent 50%);}",".propertiesPanel .dragbar,.elementScreenPanel .dragbar,.sellmeierPanel .dragbar {width: calc(100% + 1em);height: 2em;margin-top: -0.5em;margin-left: -0.5em;margin-bottom: -1em;border-top-left-radius: 1em;border-top-right-radius: 1em;opacity: 0.5;}",".propertiesPanel thead tr[data-property-name] {display: none;}",'.propertiesPanel[data-can-delete="false"] button[data-action="delete"],.propertiesPanel[data-has-refractive-index="false"] button[data-action="sellmeier"] {display: none;}','.propertiesPanel[data-can-delete="true"][data-has-refractive-index="true"] button[data-action="sellmeier"] {float: left;}','.propertiesPanel[data-can-delete="true"][data-has-refractive-index="true"] button[data-action="delete"] {float: right;}','[data-theme="line"] .laserCanvasInspect,[data-theme="light"] .laserCanvasInfo,[data-theme="light"] .laserCanvasToolbar,[data-theme="light"] .laserCanvasVariablesPanel,[data-theme="light"] .laserCanvasInspect {background-color: #f7f7f7;}','[data-theme="light"] .propertiesPanel {background-color: #f1f1f1;}','[data-theme="dark"] .laserCanvasInfo,[data-theme="dark"] .propertiesPanel,[data-theme="dark"] .helpPanel,[data-theme="dark"] .laserCanvasToolbar,[data-theme="dark"] .laserCanvasVariablesPanel {color: #e7e7e7;background-color: #404040;}','[data-theme="dark"] .helpPanel a {color: #a3a3ff;}','[data-theme="line"] .laserCanvasToolbar,[data-theme="line"] .laserCanvasVariablesPanel {background-color: #fff;}','[data-theme="light"] .laserCanvasToolbar,[data-theme="light"] .laserCanvasVariablesPanel {border-top-color: #676767;}','[data-theme="line"] .laserCanvasInspect,[data-theme="light"] .laserCanvasInspect {border: 1px solid #676767;}','[data-theme="line"] .laserCanvasInspect:before,[data-theme="light"] .laserCanvasInspect:before {border-bottom-color: #676767;}','[data-theme="line"] .laserCanvasInfo,[data-theme="light"] .laserCanvasInfo {border-right: 1px solid #676767;}','[color-theme-plane="sag"] {color: #933;}','[color-theme-plane="tan"] {color: #339;}','[data-theme="dark"] [color-theme-plane="sag"] {color: #c66;}','[data-theme="dark"] [color-theme-plane="tan"] {color: #ccf;}','[color-theme-plane="sag"]::after,[color-theme-plane="tan"]::after {position: relative;bottom: -0.2em;font-size: 0.6em;font-style: italic;}','[color-theme-plane="sag"]::after {content: "S";}','[color-theme-plane="tan"]::after {content: "T";}',"body {padding: 0;margin: 0;overflow: hidden;font-size: 16px;font-family: 'Open Sans', sans-serif;}",".progressBarLoading {width: 8em;margin: 8em auto 0 auto;border: 2px solid #449E9E;border-radius: 8px;overflow: hidden;}",".progressBarLoading > div {width: 0;height: 8px;background-color: #29B9B9;}",".helpButton {position: fixed;right: 0;width: 2em;height: 1.5em;background: #f1f52e;font-size: 20px;font-weight: bold;text-align: center;border-top-left-radius: 1em;border-bottom-left-radius: 1em;border: none;cursor: pointer;}",".helpButton.help {top: 0.5em;}",".helpButton.feedback {top: 2.5em;}",".helpButton.docs {top: 4.5em;}",".helpButton.feedback svg,.helpButton.docs svg {width: 1.2em;height: 1.3em;}",".insertElementPreview {position: absolute;opacity: 0.65;top: 0;left: 0;pointer-events: none;}",".insertElementPreview.hidden {display: block;opacity: 0.01;}",".laserCanvasNewPanel {top: 0;left: 0;width: 100%;padding: 0.2em 0;text-align: center;}",".laserCanvasNewPanel button {padding: 0.5em 1em;background-color: #ccc;border: none;border-radius: 1em;cursor: pointer;transition-property: background-color;transition-duration: 350ms;}",".laserCanvasNewPanel button:hover {background-color: #aaa;}",'.laserCanvasNewPanel button[data-action="openFile"] {position: relative;overflow: hidden;}','.laserCanvasNewPanel button[data-action="openFile"] > input[type="file"] {position: absolute;right: 0;top: 0;font-size: 100px;opacity: 0;}',".laserCanvasFrame {width: 100%;height: 100%;}",'[data-interaction="inspect"] .laserCanvasFrame {cursor: help;}',"[data-interaction] .laserCanvasFrame .hoverOverElement {cursor: move;}",".laserCanvasHighlight {position: absolute;}",".laserCanvasHighlight .highlight {position: absolute;left: 40px;top: 40px;width: 0;height: 0;margin-left: 0;margin-top: 0;border: 3px solid #986720;background-color: #d9da39;border-radius: 50%;opacity: 0;transition-property: width, height, margin-left, margin-top, opacity;transition-duration: 150ms;}",'.laserCanvasHighlight .highlight[data-state="hover"] {width: 30px;height: 30px;margin-left: -18px;margin-top: -18px;opacity: 0.5;}','.laserCanvasHighlight .highlight[data-state="drag"] {width: 20px;height: 20px;margin-left: -13px;margin-top: -13px;opacity: 1;}',".laserCanvasFrame .laserCanvasInspect {display: none;}",'[data-interaction="inspect"] .laserCanvasFrame .laserCanvasInspect {display: block;white-space: nowrap;}',"canvas.render2d {background-image: none;}",'[data-draggable="true"] {cursor: move;}','[data-draggable="x"] {cursor: ew-resize;}','[data-draggable="y"] {cursor: ns-resize;}','input[type="text"]::placeholder {font-style: italic;}',".lcbuttons {text-align: center;}","button.lcbutton {background: #333;color: white;border: none;border-radius: 1em;padding: 0.25em;margin: 0.5em 0;font-family: inherit;font-size: inherit;}","button.lcbutton.padded {padding: 0.25em 1em;}","button.lcbutton:hover {background: #575757;text-shadow: 0.1em 0.1em 0.2em rgba(0, 0, 0, 0.3);}","button.lcbutton:active {background-color: #2e2e2e;}",".nowrap {white-space: nowrap;}",'button[data-action="standard"][data-step],button[data-action="increment"][data-step] {margin: 0 0.1em;padding: 0.1em 0.5em;font-size: 0.8em;}','button[data-step="1"],button[data-step="+1"] {border-top-left-radius: 0;border-bottom-left-radius: 0;}','button[data-step="-1"] {border-top-right-radius: 0;border-bottom-right-radius: 0;}','.propertiesPanel button[data-action="close"],.elementScreenPanel button[data-action="compact"],.sellmeierPanel button[data-action="close"] {position: absolute;right: 0.2em;top: 0.2em;width: 2em;height: 2em;padding: 0.5em;color: white;background: #333;border: none;border-radius: 1em;}',".elementScreenPanel {display: block;left: 310px;top: 3em;font-size: 0.8em;}",".elementScreenPanel table {border-collapse: collapse;}",".elementScreenPanel thead tr,.elementScreenPanel tbody tr:nth-child(2n) {background-color: rgba(255, 255, 255, 0.5);}",".elementScreenPanel thead th,.elementScreenPanel tbody td {padding: 0.2em 0.3em;}",'.elementScreenPanel[data-compact-view="true"] {padding-right: 2.5em;}','.elementScreenPanel[data-compact-view="true"] thead,.elementScreenPanel[data-compact-view="true"] h1,.elementScreenPanel[data-compact-view="true"] [data-column="name"],.elementScreenPanel[data-compact-view="true"] [data-column="unit"],.elementScreenPanel[data-compact-view="true"] [data-info="r"],.elementScreenPanel[data-compact-view="true"] [data-info="w0"],.elementScreenPanel[data-compact-view="true"] [data-info="z0"],.elementScreenPanel[data-compact-view="true"] [data-info="zR"],.elementScreenPanel[data-compact-view="true"] .lcbuttons {display: none;}','.elementScreenPanel button[data-action="compact"]:after {content: " ";position: absolute;top: 0.2em;left: 0.6em;border: 0.5em solid transparent;border-bottom-color: #fff;}','.elementScreenPanel[data-compact-view="true"] button[data-action]:after {top: 0.8em;border-bottom-color: transparent;border-top-color: #fff;}',"#LaserCanvasNewPanel,#LaserCanvasFrame, #LaserCanvas,#LaserCanvasInfo,#LaserCanvasToolbar,#LaserCanvasToggleInfo,#LaserCanvasToggleVariables { position: absolute;}",".helpPanel {position: absolute;left: 50%;top: 50%;width: 20em;margin-left: -11em;margin-top: -10em;border: 1px solid #ccc;padding: 1em;background: white;box-shadow: 0 0 3em rgba(0, 0, 0, 0.2);border-radius: 1em;}",".helpPanel .title,.helpPanel .hint {opacity: 0;transition: opacity 350ms;}",'.helpPanel .title[data-show="true"],.helpPanel .hint[data-show="true"] {opacity: 1;}',".helpPanel .title {border-bottom: 1px solid #ccc;}",".helpPanel .hint {padding-bottom: 1em;border-bottom: 1px solid #ccc;}",".helpPanel .body {position: relative;height: 11em;overflow: hidden;}",".helpPanel .hint {color: #999;font-size: 0.8em;text-align: center;font-style: italic;}",".helpPanel .body .scroller {position: relative;left: 0;height: 100%;white-space: nowrap;opacity: 1;transition: opacity 350ms;}",".helpPanel .body .scroller > * {white-space: normal;}",".helpPanel .body .scroller .view {display: inline-block;position: relative;height: 100%;width: 100%;vertical-align: top;overflow: hidden;}",'.helpPanel .body .scroller[data-hide="true"] {opacity: 0;}','.helpPanel .body .scroller[data-scroll="next"] {left: -100%;transition: left 500ms ease-out;}','.helpPanel .body .scroller[data-scroll="prev-pre"] {left: -100%;}','.helpPanel .body .scroller[data-scroll="prev"] {left: 0;transition: left 500ms ease-out;}',".helpPanel .footer {text-align: right;}",".helpPanel .footer button {padding: 0.5em 1em;margin: 0.25em;color: white;background: #333;border: none;border-radius: 1em;cursor: pointer;}",".helpPanel .footer button:hover {background: #575757;}",".helpPanel .footer button[disabled],.helpPanel .footer button[disabled]:hover {background: #999;cursor: default;}",".helpPanel .finger,.helpPanel .concave,.helpPanel .lens,.helpPanel .mode {background-repeat: no-repeat;}",".helpPanel .concave,.helpPanel .lens {width: 16px;height: 64px;}",'.helpPanel .finger {width: 31px;height: 48px;transform-origin: 7px 30px;transition: transform 250ms, opacity 250ms;background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzEiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAxODAgMjgwIj4gPHBhdGggZmlsbD0iIzRhOTBkNiIgc3Ryb2tlPSIjMjIyIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0xOCwyMjIgQyAxMiwxOTkgLTMsMTM5IDQsMTE3IEMgMTEsOTYgMjcsMTQ0IDI4LDE2MSBDIDMwLDE3OSAzMSw4MiAzMiwzNCBDIDMzLC0xMyA2OSwtMyA2OCwzNyBDIDY3LDc5IDY1LDE2MiA3MSwxNjIgQyA3NiwxNjIgNzEsMTI3IDczLDEwMSBDIDc1LDc1IDEwNSw3OSAxMDQsMTAxIEMgMTAyLDEyMiAxMDIsMTY1IDEwNiwxNjUgQyAxMTAsMTY1IDEwOCwxMjIgMTA5LDEwNiBDIDEwOSw4OSAxNDAsOTUgMTM4LDExMiBDIDEzNywxMzAgMTM3LDE2NCAxNDEsMTY1IEMgMTQ0LDE2NSAxNDMsMTM3IDE0NiwxMTcgQyAxNDgsOTYgMTcyLDEwOCAxNzMsMTMxIEMgMTc0LDE1MyAxNzQsMjA0IDE2NSwyMTkgQyAxNTYsMjM0IDEzNSwyNjkgOTMsMjY5IEMgNTEsMjY5IDIzLDI0NCAxOCwyMjIgeiIgLz48L3N2Zz4=");}','.helpPanel .concave {background-image: url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9Ii04IC0zMiAxNiA2NCIgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2NCI+CjxwYXRoIGQ9Ik0gOC4wMCAyNCBMIC00LjgwIDMyIEwgLTIuNzAgMjQgTSA4LjAwIDE2IEwgLTIuNzAgMjQgTCAtMS4yMCAxNiBNIDguMDAgOCBMIC0xLjIwIDE2IEwgLTAuMzAgOCBNIDguMDAgMCBMIC0wLjMwIDggTCAwLjAwIDAgTSA4LjAwIC04IEwgMC4wMCAwIEwgLTAuMzAgLTggTSA4LjAwIC0xNiBMIC0wLjMwIC04IEwgLTEuMjAgLTE2IE0gOC4wMCAtMjQgTCAtMS4yMCAtMTYgTCAtMi43MCAtMjQgTSA4LjAwIC0zMiBMIC0yLjcwIC0yNCBMIC00LjgwIC0zMiIgc3Ryb2tlPSIjMDAwIj48L3BhdGg+CQo8L3N2Zz4=");}',".helpPanel .concave.l {transform: rotate(180deg);}",'.helpPanel .lens {background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTYiIGhlaWdodD0iNjQiIHZpZXdCb3g9Ii04IC0zMiAxNiA2NCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTSAwLjgwIDMyIEwgMi4yMCAyNCBMIDMuMjAgMTYgTCAzLjgwIDggTCA0LjAwIDAgTCAzLjgwIC04IEwgMy4yMCAtMTYgTCAyLjIwIC0yNCBMIDAuODAgLTMyIEwgLTAuODAgLTMyIEwgLTIuMjAgLTI0IEwgLTMuMjAgLTE2IEwgLTMuODAgLTggTCAtNC4wMCAwIEwgLTMuODAgOCBMIC0zLjIwIDE2IEwgLTIuMjAgMjQgTCAtMC44MCAzMiBaIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMSI+PC9wYXRoPjwvc3ZnPg==");}','.helpPanel .mode {background-image: url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9Ii0xMjUgLTMyIDI1MCA2NCIgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2NCI+PHBhdGggZD0iTS0xMjUgLTcgTC01OCAtNSBMLTE5IC00IEwwLjAwIC00IEwxOSAtNCBMNTggLTUgTDEyNSAtNyBNMTI1IDcgTDU4IDUgTDE5IDQgTDAuMDAgNCBMLTE5IDQgTC01OCA1IEwtMTI1IDcgTTAgLTQgTDAgNCIgc3Ryb2tlPSIjMzMzM2NjIiBzdHJva2Utd2lkdGg9IjIiIC8+PHBhdGggZD0iIE0tMTI1IC03IEwtNTggLTUgTCAtMTkgLTQgTDAuMDAgLTQgTDE5IC00IEw1OCAtNSBMMTI1IC03IE0xMjUgNyBMNTggNSBMMTkgNCBMMC4wMCA0IEwtMTkgNCBMLTU4IDUgTC0xMjUgNyBNMCAtNCBMMCA0IiBzdHJva2U9IiNjNzM4MzgiIHN0cm9rZS13aWR0aD0iMSIgLz48cGF0aCBkPSJNLTEyNSAwIEwxMjUgMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIC8+PC9zdmc+");}',"@keyframes drag-cavity-cavity {0% { width: 250px; }30% { width: 250px; }70% { width: 150px; }100% { width: 150px; }}","@keyframes drag-cavity-hoverer {0% {transform: scale(0); opacity: 0; }20% {transform: scale(0); opacity: 0; }30% {transform: scale(1); opacity: 1; }70% {transform: scale(1); opacity: 1; }80% {transform: scale(0); opacity: 0; }100% {transform: scale(0); opacity: 0; }}","@keyframes drag-cavity-finger {0% {transform: scale(1.5); opacity: 0; }10% {transform: scale(1.5); opacity: 0; }30% {transform: scale(1); opacity: 1; }70% {transform: scale(1); opacity: 1; }90% {transform: scale(1.5); opacity: 0; }100% {transform: scale(1.5); opacity: 0; }}",".helpPanel .drag-cavity {position: relative;margin: 60px 25px 0;padding: 0 8px;animation: drag-cavity-cavity 4s infinite alternate;}",".helpPanel .drag-cavity .hoverer {position: absolute;top: 16px;right: -6px;width: 24px;height: 24px;background: #ffc;border: 3px solid #b36060;border-radius: 50%;transform-origin: 16px 16px;animation: drag-cavity-hoverer 4s infinite alternate;}",".helpPanel .drag-cavity .mode,.helpPanel .add-cavity .mode,.helpPanel .inspect-cavity .mode {position: absolute;top: 0;left: 8px;width: calc(100% - 16px);height: 64px;}",".helpPanel .drag-cavity .concave,.helpPanel .add-cavity .concave,.helpPanel .add-cavity .lens,.helpPanel .add-cavity .finger,.helpPanel .inspect-cavity .concave,.helpPanel .inspect-cavity .finger {position: absolute;}",".helpPanel .drag-cavity .concave.l,.helpPanel .add-cavity .concave.l,.helpPanel .inspect-cavity .concave.l {left: 0;}",".helpPanel .drag-cavity .concave.r,.helpPanel .add-cavity .concave.r,.helpPanel .inspect-cavity .concave.r {right: 0;}",".helpPanel .drag-cavity .finger {position: absolute;right: -12px;top: 28px;animation: drag-cavity-finger 4s infinite alternate;}","@keyframes add-cavity-lens {0% { left: 20%; top: 80px; }30% { left: 20%; top: 80px; }50% { left: 50%; top: 0; }90% { opacity: 1; }100% { left: 50%; top: 0; opacity: 0; }}","@keyframes add-cavity-mode-full {0% { opacity: 1; }50% { opacity: 1; }55% { opacity: 0; }90% { opacity: 0; }100% { opacity: 1; }}","@keyframes add-cavity-mode-half {0% { opacity: 0; }50% { opacity: 0; }55% { opacity: 1; }90% { opacity: 1; }100% { opacity: 0; }}","@keyframes add-cavity-finger {0% { transform: scale(1.5); opacity: 0; }15% { transform: scale(1.5); opacity: 0; }25% { transform: scale(1); opacity: 1; }50% { transform: scale(1); opacity: 1; }55% { transform: scale(1.5); opacity: 0; }100% { transform: scale(1.5); opacity: 0; }}",".helpPanel .add-cavity {position: relative;padding: 0 8px;margin: 1em 25px;width: 250px;}",".helpPanel .add-cavity .mode.full {animation: add-cavity-mode-full 6s infinite;}",".helpPanel .add-cavity .mode.half {width: calc(50% - 8px);background-position: 50% 0;animation: add-cavity-mode-half 6s infinite;}",".helpPanel .add-cavity .mode.half.l {left: 8px;}",".helpPanel .add-cavity .mode.half.r {left: 50%;}",".helpPanel .add-cavity .lens.animated {margin-top: 4px;margin-left: -8px;animation: add-cavity-lens 6s infinite;}",".helpPanel .add-cavity .lens .finger {top: 21px;animation: add-cavity-finger 6s infinite;}",".helpPanel .add-cavity .source {left: 20%;top: 80px;margin-left: -36px;width: 64px;height: 64px;padding: 4px;background-color: #ccc;background-position: 50% 4px;border-radius: 4px;}","@keyframes inspect-cavity-inspector {0% { opacity: 0; }20% { left: 20%; opacity: 0; }30% { opacity: 1; }40% { left: 20%; }70% { left: 60%; }80% { opacity: 1; }90% { opacity: 0; }100% { left: 60%; opacity: 0; }}","@keyframes inspect-cavity-ellipse {0% { width: 1em; height: 0.5em; }40% { width: 1em; height: 0.5em; }60% { width: 0.5em; height: 1em; }100% { width: 0.5em; height: 1em; }}","@keyframes inspect-cavity-dims-in {0% { opacity: 1; }45% { opacity: 1; }55% { opacity: 0; }100% { opacity: 0; }}","@keyframes inspect-cavity-dims-out {0% { opacity: 0; }45% { opacity: 0; }55% { opacity: 1; }100% { opacity: 1; }}","@keyframes inspect-cavity-slider {0% { top: 0; }20% { top: 0; }30% { top: 1.2em; }80% { top: 1.2em; }90% { top: 0; }100% { top: 0; }}","@keyframes inspect-cavity-finger {0% { top: 22px; opacity: 0; }10% { transform: scale(1.5); opacity: 0; }20% { transform: scale(1); opacity: 1; }30% { top: 22px; transform: scale(1.5); opacity: 0; }70% { top: 8px; transform: scale(1.5); opacity: 0; }80% { transform: scale(1); opacity: 1; }90% { transform: scale(1.5); opacity: 0; }100% { top: 8px; opacity: 0; }}",".helpPanel .inspect-cavity {position: relative;padding: 0 8px;margin: 1em 25px;width: 250px;}",".helpPanel .inspect-cavity .laserCanvasInspect {top: 32px;animation: inspect-cavity-inspector 7s infinite;}",".helpPanel .inspect-cavity .laserCanvasInspect .ellipse {display: inline-block;animation: inspect-cavity-ellipse 7s infinite;}",".helpPanel .inspect-cavity .laserCanvasInspect [data-dimension] > span:first-child {position: absolute;animation: inspect-cavity-dims-in 7s infinite;}",".helpPanel .inspect-cavity .laserCanvasInspect [data-dimension] > span:last-child {animation: inspect-cavity-dims-out 7s infinite;}",".helpPanel .inspect-cavity .generalSelector {position: relative;margin-top: 90px;font-size: 13px;}",".helpPanel .inspect-cavity .generalSelector .slider::after {animation: inspect-cavity-slider 7s infinite;}",".helpPanel .inspect-cavity .generalSelector .finger {animation: inspect-cavity-finger 7s infinite;}","@keyframes sidebar-finger {0% { transform: scale(1.5); opacity: 0; }5% { transform: scale(1.5); opacity: 0; }10% { transform: scale(1); opacity: 1; }15% { transform: scale(1.5); opacity: 0; }55% { transform: scale(1.5); opacity: 0; }60% { transform: scale(1); opacity: 1; }65% { transform: scale(1.5); opacity: 0; }100% { transform: scale(1.5); opacity: 0; }}","@keyframes sidebar-sidebar {0% { left: -250px; }15% { left: -250px; }40% { left: 0; }65% { left: 0; }90% { left: -250px; }100% { left: -250px; }}",".helpPanel .sidebar {position: relative;width: 251px;animation: sidebar-sidebar 7s infinite;}",".helpPanel .sidebar table {position: absolute;right: 0;font-size: 0.8em; border-right: 1px solid #333;}",".helpPanel .sidebar .toggle-info {position: absolute;top: 4em;right: -1.5em;width: 1em;padding: 0.7em 0.25em;color: white;background-color: #333;text-align: center;border-bottom-right-radius: 0.5em;border-top-right-radius: 0.5em;}",'.helpPanel .sidebar .toggle-info::after {content: "\\203A";}',".helpPanel .sidebar .toggle-info .finger {position: absolute;left: 0.25em;top: 1em;animation: sidebar-finger 7s infinite;}",".helpPanel .about {padding: 0;margin: 0;list-style-type: none;}",".helpPanel .about li {padding: 0.3em 0.2em;}",'.laserCanvasInfo,[data-action="toggleInfo"] {transition-property: left, width, height;transition-duration: 350ms;}',".laserCanvasInfo {left: -350px;width: 340px;padding: 0 5px;overflow: auto;background: white;}",".laserCanvasInfo {height: calc(100% - 81px);}",'[data-variables-visible="true"] .laserCanvasInfo {height: calc(100% - 221px);}','[data-info-visible="true"] .laserCanvasInfo {left: 0;}','button[data-action="toggleInfo"] {left: 0;}','[data-info-visible="true"] button[data-action="toggleInfo"] {left: 349px;}','button[data-action="toggleInfo"],button[data-action="toggleVariables"] {color: white;background: #333;border: none;font-size: 24px;cursor: pointer;}','button[data-action="toggleInfo"] {top: 39%;height: 2em;padding: 1em 0.5em 2.4em 0.5em;border-bottom-right-radius: 1em;border-top-right-radius: 1em;}','button[data-action="toggleInfo"]:after {content: "\\203A";}','[data-info-visible="true"] button[data-action="toggleInfo"]:after {content: "\\2039";}',".laserCanvasInfo ul {list-style-type: none;padding: 0;margin: 0;}",".laserCanvasInfo ul li {margin: 0.3em 0;}",".laserCanvasInfo .infoPanelOptions {margin-bottom: 2.5em;}",".laserCanvasInfo .versionInfo {font-size: 0.7em;}",".sellmeierPanel {width: 20em;}",'.sellmeierPanel[data-visible="false"] {display: none;}',".sellmeierPanel input,.sellmeierPanel select {color: inherit;font-size: inherit;font-family: inherit;}",".sellmeierPanel .materials input{display: block;width: 95%;text-align: left;}",".sellmeierPanel ul[data-field] {display: inline-block;width: 49%;padding: 0.1em 0;margin: 0;margin-right: 0.5%;height: 8em;overflow: auto;list-style-type: none;vertical-align: top;}",".sellmeierPanel ul[data-field] > li {padding: 0.2em 0.5em;border-radius: 0.3em;cursor: pointer;}",".sellmeierPanel ul[data-field] > li:hover {background-color: #d7d7d7;}",'.sellmeierPanel ul[data-field] > li[data-selected="true"] {color: white;background-color: #555;}',".sellmeierPanel a {color: inherit;text-decoration: none;}",".sellmeierPanel a:hover {color: inherit;text-decoration: underline;}",".sellmeierPanel .scroller {max-height: 14em;overflow-y: auto;}",".sellmeierPanel a.attribution {color: #999;border-top: 1px solid;font-size: 0.8em;}",".sellmeierPanel .parameters table {width: 100%;border-collapse: collapse;border: 1px solid;border-left: none;border-right: none;}",".sellmeierPanel .parameters table td {border-bottom: 1px solid #ccc}",".sellmeierPanel .parameters table tr:last-child td {border-bottom: none;}",".sellmeierPanel .wavelengthRange {white-space: nowrap;}",'.sellmeierPanel .attribution,.sellmeierPanel [data-field="references"] {display: none;}','.sellmeierPanel[data-show-references="true"] .attribution {display: block;}','.sellmeierPanel[data-show-references="true"] [data-field="references"] {display: block;font-size: 0.8em;}',".sellmeierPanel .toggleReferences {cursor: pointer;}",'.sellmeierPanel [data-action="apply"] {display: none;width: 8em;margin: 0.2em auto;}','.sellmeierPanel[data-has-apply-action="true"] [data-action="apply"] {display: block;}',".infrac {display: inline-block;text-align: center;font-size: 0.8em;}",".infrac > span {display: block;}",".infrac > span:first-child {border-bottom: 0.08em solid;}",".LaserCanvasGraph2d {position: relative;}",".LaserCanvasGraph2d .plot {position: absolute;border: 1px solid;left: 4em;top: 0.75em;right: 2em;bottom: 1.5em;}",".LaserCanvasGraph2d .Graph2dAxis {position: absolute;}",'.LaserCanvasGraph2d .Graph2dAxis[data-direction="horizontal"] {left: 0;bottom: 0;width: 100%;border-top: 1px solid;}','.LaserCanvasGraph2d .Graph2dAxis[data-direction="vertical"] {left: 0;bottom: 0;height: 100%;border-right: 1px solid;}',".LaserCanvasGraph2d .Graph2dAxis .ticks {position: absolute;}",'.LaserCanvasGraph2d .Graph2dAxis[data-direction="horizontal"] .ticks {width: 100%;}','.LaserCanvasGraph2d .Graph2dAxis[data-direction="vertical"] .ticks {height: 100%;}',".LaserCanvasGraph2d .Graph2dAxis .ticks label {position: absolute;}",'.LaserCanvasGraph2d .Graph2dAxis[data-direction="horizontal"] .ticks label {width: 5em;margin-left: -2.5em;text-align: center;}','.LaserCanvasGraph2d .Graph2dAxis[data-direction="vertical"] .ticks label {width: 5em;height: 1.15em;line-height: 1.15em;margin-left: -5.2em;margin-bottom: -0.45em;text-align: right;}','.LaserCanvasGraph2d .Graph2dAxis .ticks label::before {content: "";position: absolute;}','.LaserCanvasGraph2d .Graph2dAxis[data-direction="vertical"] .ticks label::before {bottom: calc(50% - 2px);right: -0.6em;width: 0.5em;border-bottom: 1px solid;}','.LaserCanvasGraph2d .Graph2dAxis[data-direction="horizontal"] .ticks label::before {top: -0.5em;left: 50%;;height: 0.5em;border-left: 1px solid;}',".graphCollection .graphItems {white-space: nowrap;overflow-x: auto;}",".graphCollection .graphItems .graphCollectionPanel {display: inline-block;}",".graphCollectionPanel .title,.graphCollectionPanel .variable {text-align: center;}",".graphCollection .about {max-width: 360px;}",'.graphCollection[data-has-graphs="true"] .about {display: none;}',".LaserCanvasNumberSlider {position: relative;}",".LaserCanvasNumberSlider input[data-prop] {width: 3.5em;border: none;background: none;color: inherit;font-size: inherit;font-family: inherit;}",".LaserCanvasNumberSlider .range {margin-top: 2.2em;padding: 0 2.5em;}",".LaserCanvasNumberSlider .trough {position: relative;padding: 0 0.5em;margin: 0.3em 0;height: 0.7em;background-color: #999;border-radius: 1em;}",".LaserCanvasNumberSlider .thumb {position: absolute;top: 0;left: 0;}",".LaserCanvasNumberSlider .handle {margin-left: -0.7em;margin-top: -0.3em;width: 1.4em;height: 1.4em;background-color: #666;border-radius: 1em;}",".LaserCanvasNumberSlider .callout {position: absolute;top: -2.2em;left: -2.5em;width: 5em;text-align: center;}",".LaserCanvasNumberSlider .callout input {width: 100%;text-align: center;}",".LaserCanvasNumberSlider .limits {display: flex;flex-direction: row;justify-content: space-between;padding: 0 2.5em;}",'.LaserCanvasNumberSlider input[data-prop="min"] {text-align: left;}','.LaserCanvasNumberSlider input[data-prop="max"] {text-align: right;}',"#LaserCanvasVariablesPanel {position: absolute;left: 0;bottom: 0;width: 100%;height: 0;transition-property: height;transition-duration: 350ms;border-top: 1px solid #ccc;overflow-y: hidden;}",'[data-variables-visible="true"] #LaserCanvasVariablesPanel {height: 220px;}','button[data-action="toggleVariables"] {left: 1em;width: 1.3em;border-top-left-radius: 0.8em;border-top-right-radius: 0.8em;}','button[data-action="toggleVariables"] {bottom: -2px;transition-property: bottom;transition-duration: 350ms;}','button[data-action="toggleVariables"]:after {content: "\\3a3";font-size: 0.8em;}','[data-variables-visible="true"] button[data-action="toggleVariables"] {bottom: 219px;}','[data-variables-visible="true"] button[data-action="toggleVariables"]:after {content: "\\2304"}',"#LaserCanvasVariablesPanel .content {display: flex;flex-direction: row;}","#LaserCanvasVariablesPanel .variables {width: 15em;}","#LaserCanvasVariablesPanel .variables .heading {margin: 0 0.5em;font-weight: bold;border-bottom: 1px solid;text-align: center;}","#LaserCanvasVariablesPanel .LaserCanvasGraph2d {width: 320px;height: 160px;}"]),window.LaserCanvas={Element:{},theme:{current:{}}},window.LaserCanvas=window.LaserCanvas||{Element:{}},window.LaserCanvas.Application=function(e,t){"use strict";var a,n,i,r,o,s,l,c={interactionchange:[],insertelement:[]},p=function(e,t){var a,n=c[e.toLowerCase()];if(n&&n.length>0)for(a=0;a<n.length;a+=1)n[a].apply(this,Array.prototype.slice.call(arguments,1))},d=function(){var e,t,a,i={"#LaserCanvas":{width:window.innerWidth-0,height:window.innerHeight-0-80}};for(e in i)if(i.hasOwnProperty(e)&&(t=document.querySelector(e))){for(a in i[e])i[e].hasOwnProperty(a)&&(t.style[a]=i[e][a]+"px");"CANVAS"===t.nodeName&&(t.width=i[e].width,t.height=i[e].height)}n.onResize()},h=function(e){n.resetTransform(),n.setInteraction(window.LaserCanvas.Render.interaction.layout),a.createNew(e)};this.addEventListener=function(e,t){return c.hasOwnProperty(e.toLowerCase())&&c[e.toLowerCase()].push(t),this},this.fireEventListeners=p,this.init=function(){var c=window.LaserCanvas;a=new c.System,i=new c.InfoPanel(t),n=new c.Render(a,i,e),s=new c.PropertiesPanel(n,a),l=new c.GraphCollection,r=new c.Variables,o=new c.VariablePanel(r),d(),window.addEventListener("resize",d,!1);var u=function(e){return function(){var t=document.body;t.setAttribute(e,"true"===t.getAttribute(e)?"false":"true"),d()}};document.querySelector("#LaserCanvasToggleInfo").onclick=u("data-info-visible"),document.querySelector("#LaserCanvasToggleVariables").onclick=u("data-variables-visible");var A=function(){for(var e of["x","y"])l.hasRange(e)&&(l.scanStart(e),o.scan(e,function(t){a.onVariablesChange(),a.calculateAbcd(),l.scanValue(e,t)}),l.scanEnd(e,r.value()[e]),a.onVariablesChange())},m=function(){n.update(),s.update(),i.update(a,n)};a.addEventListener("update",function(){A(),a.calculateAbcd(),m()}),a.addEventListener("change",function(){A(),a.calculateAbcd(),l.change(a.elements()),i.change(),m()}),r.addEventListener("change",function(){a.onVariablesChange(!0),a.update()}),l.addEventListener("change",function(){A()});var g=r.value.bind(r),f=o.setVariables.bind(o);a.setVariablesGetter(g),n.setVariablesGetter(g),i.init(a,n,g,l.toggleGraph.bind(l)),o.appendTo(document.querySelector("#LaserCanvasVariablesPanel .variables")),l.appendTo(document.querySelector("#LaserCanvasVariablesPanel .graphs"));var v=new c.Utilities.Debounce(2500);a.addEventListener("update",function(){v.delay(b,null,c.SystemUtil.toLocalStorage)});var y=function(e){e=c.SystemUtil.migrateJson(e),o.setVariables(e.variables),a.fromJson(e.system),l.fromJson(e.graphs,a,a.elements()),i.updateGraphs(l),n.resetTransform()},b=function(e){e({version:c.SystemUtil.CURRENT_VERSION,system:a.toJson(),variables:o.toJson(),graphs:l.toJson()})};new c.Toolbar(a,n,p).init(g,f).initDrag().initFileOpen(y).initFileSave(b).initSystemNew(h);try{c.SystemUtil.fromLocalStorage(y)}catch(e){a.createNew(c.System.configuration.linear)}}},window.LaserCanvas.Enum={renderLayer:{axis:"axis",sagittal:"sagittal",tangential:"tangential",optics:"optics",distance:"distance",annotation:"annotation"},modePlane:{sagittal:0,tangential:1}},window.LaserCanvas.clone=function(e){var t=function(e){var a,n;if("string"==typeof e||"number"==typeof e||null===e)return e;if(e.constructor===Array.prototype.constructor)for(n=[],a=0;a<e.length;a+=1)n[a]=t(e[a]);else for(a in n={},e)e.hasOwnProperty(a)&&(n[a]=t(e[a]));return n};return t(e)},window.LaserCanvas.constant={c:.299792458},window.LaserCanvas.unit={angleOfIncidence:"°",curvatureFace1:"mm",curvatureFace2:"mm",distanceToNext:"mm",distanceToWaist:"mm",faceAngle:"°",focalLength:"mm",groupDelayDispersion:"fs²",groupVelocityDispersion:"µm⁻²",indexDispersion:"µm⁻¹",indexSecondDerivative:"µm⁻²",initialWaist:"µm",modeSize:"µm",modeSpacing:"MHz",opticalLength:"mm",physicalLength:"mm",prismInsertion:"mm",radiusOfCurvature:"mm",raleighLength:"mm",thermalLens:"mm",thickness:"mm",waistSize:"µm",wavefrontROC:"mm",wavelength:"nm"},function(e){e.Element.atLocation=function(e,t){return Math.abs(this.loc.x-e.x)<t&&Math.abs(this.loc.y-e.y)<t},e.Element.groupDelayDispersion=function(t,a){var n=e.constant.c;return this===this.group[0]&&1e-6*t*t*t/(2*Math.PI*n*n)*this.get("groupVelocityDispersion")*a}}(window.LaserCanvas),function(e){e.Element.Dielectric=function(e,t){this.type="Dielectric",this.name="D",this.variablesGetter=e,this.loc={x:0,y:0,p:0,q:0},this.group=[],this.prop=this.getDefaultProp(t),this.priv=this.getDefaultPriv(t),this.abcdQ={}},e.Element.Dielectric.Type="Dielectric",e.Element.Dielectric.eType={Plate:"Plate",Brewster:"Brewster",Crystal:"Crystal",Prism:"Prism",Endcap:"Endcap"},e.Element.Dielectric.propertyDefault={refractiveIndex:1.5,thickness:20},e.Element.Dielectric.createGroup=function(t,a,n){var i=e.Element.Dielectric,r=t.get("distanceToNext"),o=i.propertyDefault,s=o.thickness,l=o.refractiveIndex,c=[new this(n,i.eType.Plate),new e.Element.Lens(n),new this(n)];return c[0].group=c[2].group=c,c[0].set("thickness",s),c[0].set("refractiveIndex",l),c[0].updateThermalLens(),c[2].set("distanceToNext",Math.max(0,r-a-s/2)),t.set("distanceToNext",Math.max(0,a-s/2)),c},e.Element.Dielectric.prototype={toJson:function(){return{type:this.type,name:this.name,loc:e.Utilities.extend({},this.loc),priv:e.Utilities.extend({},this.priv),prop:e.Utilities.extend({},this.prop)}},fromJson:function(t){for(var a in this.name=t.name,this.prop=this.getDefaultProp(t.prop.type),this.priv=this.getDefaultPriv(t.prop.type),e.Utilities.extend(this.loc,t.loc),e.Utilities.extend(this.priv,t.priv),this.prop)this.prop.hasOwnProperty(a)&&("object"==typeof this.prop[a]?this.prop[a].set(t.prop[a]):this.prop[a]=t.prop[a])},getDefaultProp:function(t){return{type:t,flip:!1,distanceToNext:new e.Equation(0),refractiveIndex:new e.Equation(1),groupVelocityDispersion:new e.Equation(0),angleOfIncidence:new e.Equation(0),faceAngle:new e.Equation(0),curvatureFace1:new e.Equation(0),curvatureFace2:new e.Equation(0),thermalLens:new e.Equation(0),thickness:new e.Equation(0)}},getDefaultPriv:function(e){return{derivedFaceAngle:0,derivedAngleOfIncidence:0,deflectionAngle:0}},onVariablesChange:function(){this===this.group[0]&&this.updateAngles()},updateAngles:function(){var t,a,n,i,r=e.Element.Dielectric.eType,o=80*Math.PI/180,s=this.get("type"),l=s===r.Brewster,c=s===r.Prism,p=this.get("flip")?-1:1,d=this.get("angleOfIncidence")*Math.PI/180,h=this.get("faceAngle")*Math.PI/180,u=Math.max(1,this.get("refractiveIndex"));switch((l||c)&&(d=p*Math.atan(u)),d=Math.max(-o,Math.min(o,d)),s){case r.Plate:case r.Brewster:case r.Prism:t=d,a=Math.asin(Math.sin(t)/u);break;case r.Crystal:case r.Endcap:a=h,t=(i=u*Math.sin(a))<-1?-Math.PI/2:i>1?+Math.PI/2:Math.asin(i)}n=t-a,this.set("derivedFaceAngle",a),this.set("derivedAngleOfIncidence",t),this.set("deflectionAngle",n),this.updateThermalLens()},updateThermalLens:function(){var t=this.get("type")===e.Element.Dielectric.eType.Endcap,a=this.get("thickness"),n=this.get("thermalLens"),i=this.get("refractiveIndex"),r=this.get("derivedFaceAngle"),o=t?a:a/Math.cos(r),s=0===n?o:o/2,l=o-s;this.group[0].set("distanceToNext",s),this.group[1].setThermalLens(n,i,l)},removeGroup:function(e){return e.set("distanceToNext",e.get("distanceToNext")+this.get("thickness")+this.group[this.group.length-1].get("distanceToNext")),this.group.length},location:function(t){var a=this===this.group[0],n=this.get("type")===e.Element.Dielectric.eType.Prism,i=this.get("deflectionAngle");return t&&(this.loc.x=t.x,this.loc.y=t.y,this.loc.q=this.loc.p=t.q,this.loc.q+=a||n?i:-i),e.Utilities.extend(e.clone(this.loc),{x0:(this.group[0].loc.x+this.group[2].loc.x)/2,y0:(this.group[0].loc.y+this.group[2].loc.y)/2})},userProperties:function(){var t,a=e.Element.Dielectric.eType,n=[],i={type:{propertyName:"type",options:["Plate","Brewster","Crystal","Prism"],infoPanel:!1},elementDistanceToNext:{propertyName:"elementDistanceToNext",increment:5,min:0},refractiveIndex:{propertyName:"refractiveIndex",increment:.1,min:1},groupVelocityDispersion:{propertyName:"groupVelocityDispersion",increment:.001},thickness:{propertyName:"thickness",increment:1,min:1},curvatureFace1:{propertyName:"curvatureFace1",increment:10},curvatureFace2:{propertyName:"curvatureFace2",increment:10},angleOfIncidence:{propertyName:"angleOfIncidence",increment:1,min:-85,max:85},flip:{propertyName:"flip",dataType:"boolean",infoPanel:!1,propertyPanel:this.prop.type===a.Brewster||this.prop.type===a.Prism},faceAngle:{propertyName:"faceAngle",increment:1,min:-85,max:85},thermalLens:{propertyName:"thermalLens",increment:10}},r=this.prop.type===a.Plate?["type","elementDistanceToNext","refractiveIndex","groupVelocityDispersion","thickness","curvatureFace1","curvatureFace2","angleOfIncidence","flip"]:this.prop.type===a.Brewster?["type","elementDistanceToNext","refractiveIndex","groupVelocityDispersion","thickness","flip"]:this.prop.type===a.Crystal?["type","elementDistanceToNext","refractiveIndex","groupVelocityDispersion","thickness","curvatureFace1","curvatureFace2","flip","faceAngle","thermalLens"]:this.prop.type===a.Prism?["type","elementDistanceToNext","refractiveIndex","thickness","flip"]:this.prop.type===a.Endcap?["elementDistanceToNext","refractiveIndex","groupVelocityDispersion","thickness","curvatureFace1","curvatureFace2","flip","faceAngle","thermalLens"]:[];if(this===this.group[0])for(t=0;t<r.length;t+=1)n.push(i[r[t]]);return n},canSetProperty:function(t){var a=e.Element.Dielectric.eType,n=this===this.group[0],i=this===this.group[this.group.length-1],r=n&&this.prop.type===a.Endcap,o=this.prop.type===a.Brewster||this.prop.type===a.Prism;return{type:!r,thickness:n,refractiveIndex:n,groupVelocityDispersion:n,angleOfIncidence:this.prop.type===a.Plate,faceAngle:this.prop.type===a.Crystal||this.prop.type===a.Endcap,flip:o,insertElement:this===this.group[this.group.length-1],thermalLens:!o,curvatureFace1:!o,curvatureFace2:!o,distanceToNext:i,elementDistanceToNext:!0,outgoingAngle:r}[t]||!1},set:function(t,a,n){var i=e.Element.Dielectric.eType;switch(t){case"type":switch(a){case i.Plate:this.prop.thermalLens.set(0);break;case i.Brewster:case i.Prism:this.prop.thermalLens.set(0),this.prop.curvatureFace1.set(0),this.prop.curvatureFace2.set(0)}this.prop[t]=a,this.updateAngles();break;case"flip":this.prop[t]=a,this.updateAngles();break;case"refractiveIndex":case"curvatureFace1":case"curvatureFace2":this.prop[t].set(a),this.updateAngles();break;case"thickness":this.prop[t].set(a),this.updateThermalLens();break;case"angleOfIncidence":case"faceAngle":this.prop[t].set(a),this.updateAngles();break;case"thermalLens":this.prop[t].set(a),this.updateThermalLens();break;case"outgoingAngle":n&&(this.loc.q=a);break;case"distanceToNext":case"groupVelocityDispersion":this.prop[t].set(a);break;case"elementDistanceToNext":this.group[this.group.length-1].prop.distanceToNext.set(a);break;case"derivedFaceAngle":case"derivedAngleOfIncidence":case"deflectionAngle":this.priv[t]=a;break;case"startOptic":case"endOptic":break;default:console.warn(`Set property ${t}=${a} not implemented`)}},get:function(e){var t=this.variablesGetter(),a=this.prop[e]&&this.prop[e].value&&this.prop[e].value(t);switch(e){case"type":case"flip":return this.group[0].prop[e];case"angleOfIncidence":case"faceAngle":return a;case"distanceToNext":case"thickness":return Math.max(0,a);case"refractiveIndex":return Math.max(1,a);case"curvatureFace1":case"curvatureFace2":case"groupVelocityDispersion":case"thermalLens":return a;case"elementDistanceToNext":return this.group[this.group.length-1].get("distanceToNext");case"derivedFaceAngle":case"derivedAngleOfIncidence":case"deflectionAngle":return this.group[0].priv[e]}},expression:function(e){switch(e){case"elementDistanceToNext":return this.group[this.group.length-1].expression("distanceToNext")}return this.prop[e].expression()},groupDelayDispersion:e.Element.groupDelayDispersion,elementAbcd:function(t,a){var n,i,r,o,s=e.Math.Matrix2x2,l=this.group[0],c=this===this.group[0],p=this.get("type"),d=l.get("refractiveIndex"),h=l.get("derivedAngleOfIncidence"),u=Math.asin(Math.sin(h)/d),A=c?l.get("curvatureFace1"):l.get("curvatureFace2");return c&&p===e.Element.Dielectric.eType.Endcap?new s(1,0,0===A?0:2/A,1):(c&&t>0||!c&&t<0?(1,d,n=h,i=u):(1,d,n=u,i=h),r=Math.cos(n),o=Math.cos(i),a===e.Enum.modePlane.sagittal?new s(1,0,0===A?0:(d*Math.cos(u)-1*Math.cos(h))/A,1):new s(o/r,0,0===A?0:(d*Math.cos(u)-1*Math.cos(h))/(r*o)/A,r/o))},atLocation:function(t,a){var n,i=e.Math.Vector;return this===this.group[0]&&(n=new i([t.x-this.loc.x,t.y-this.loc.y]).rotate(this.loc.q),Math.abs(n[1])<a&&n[0]>-a&&n[0]<this.get("thickness")+a)},draw:function(t,a){var n,i,r,o,s,l,c,p,d,h,u,A=e.Element.Dielectric.eType,m=e.Enum.renderLayer,g=20,f=function(e,t,a){return[e,t.toFixed(2),a.toFixed(2)].join(" ")},v=function(e,t,a,n){var i,r,o,s,l=[],c=[0,-.01,-.02,-.05,-.09],p=c.length-1;if(0===e)l=[f("L",t-a*n,-a*g),f("L",t+a*n,a*g)];else for(i=20*a*(e<0?-1:1)*(Math.abs(e)<300?2:1),r=-p;r<=p;r+=1)o=i*c[r<0?-r:r],s=r/p,l.push(f("L",t+a*s*n+o,a*g*s));return l};if(this===this.group[0])switch(a){case m.optics:l=this.prop.type===A.Endcap,g=20,n=this.get("distanceToNext")+this.group[1].get("distanceToNext"),i=-this.get("derivedFaceAngle"),o=g*Math.tan(i||.001),r=l?0:o,s=this.group[0].prop.type===A.Prism?(c=this.get("refractiveIndex"),p=this.prop.flip?-1:1,d=Math.atan(c),h=Math.PI-2*d,u=n/2/Math.tan(h/2),[f("M",n/2,-p*u),f("L",n-p*o,p*g),f("L",0+p*o,p*g)]).concat("ZFS").join(" "):[f("M",.5*n+r,g)].concat(v(this.get("curvatureFace2"),n,-1,o),v(this.get("curvatureFace1"),0,1,r),"ZFS").join(" "),t.save().setStroke("#000",1).createPattern(e.theme.current.blockFill).drawPath(s,this.loc.x,this.loc.y,-this.loc.q).restore();break;case m.annotation:t.fillText(e.Utilities.numberFormat(this.get("refractiveIndex")),this.loc.x,this.loc.ylog)}a===m.annotation&&(this!==this.group[0]&&this!==this.group[this.group.length-1]||t.fillText(this.name,this.loc.x,this.loc.y,-.3*this.name.length,1.2))},wireframe:function(e,t){return this.draw(e,t)}}}(window.LaserCanvas),function(e){e.Element.Dispersion=function(e){this.type="Dispersion",this.name="DC",this.variablesGetter=e,this.loc={x:0,y:0,p:0,q:0},this.group=[],this.prop=this.getDefaultProp(),this.priv=this.getDefaultPriv(),this.abcdQ={}},e.Element.Dispersion.Type="Dispersion",e.Element.Dispersion.eType={Prism:"Prism"},e.Element.Dispersion.createGroup=function(t,a){var n=e.Element.Dispersion,i=t.get("distanceToNext"),r=[new this(n.eType.Prism),new this];return r[0].group=r[1].group=r,r[0].setDefaults(),r[2].set("distanceToNext",Math.max(0,i-a)),t.set("distanceToNext",Math.max(0,a)),r},e.Element.Dispersion.brewsterPrism=function(e,t,a,n){var i=a?-1:1,r=e,o=Math.atan(r),s=Math.PI-2*o,l=2*(o-Math.asin(Math.sin(o)/r));n.apexAngle=s,n.deflectionAngle=-l*i,n.internalLength=2*t*Math.tan(s)},e.Element.Dispersion.prototype={toJson:function(){return{type:this.type,name:this.name,loc:e.Utilities.extend({},this.loc),priv:e.Utilities.extend({},this.priv),prop:e.Utilities.extend({},this.prop)}},fromJson:function(t){for(var a in this.name=t.name,this.prop=this.getDefaultProp(t.prop.type),this.priv=this.getDefaultPriv(t.prop.type),e.Utilities.extend(this.loc,t.loc),e.Utilities.extend(this.priv,t.priv),this.prop)this.prop.hasOwnProperty(a)&&("object"==typeof this.prop[a]?this.prop[a].set(t.prop[a]):this.prop[a]=t.prop[a])},getDefaultProp:function(t){return{type:e.Element.Dispersion.eType.Prism,flip:!1,distanceToNext:new e.Equation(0),prismInsertion:new e.Equation(0),refractiveIndex:new e.Equation(1.5),indexDispersion:new e.Equation(0),groupVelocityDispersion:new e.Equation(0)}},getDefaultPriv:function(e){return{apexAngle:.1,deflectionAngle:0,internalLength:0}},updateAngles:function(){var t=e.Element.Dispersion.eType;if(this===this.group[0])switch(this.get("type")){case t.Prism:e.Element.Dispersion.brewsterPrism(this.get("refractiveIndex"),this.get("prismInsertion"),this.get("flip"),this.priv)}},location:function(t){return t&&(this.loc.x=t.x,this.loc.y=t.y,this.loc.p=this.loc.q=t.q,this.loc.q+=this.get("deflectionAngle")),e.clone(this.loc)},userProperties:function(){var t=e.Element.Dispersion.eType,a=this===this.group[0],n=[{propertyName:"type",options:["Prism"],infoPanel:!1},{propertyName:"flip",dataType:"boolean",infoPanel:a},{propertyName:"distanceToNext",increment:5,min:0}];switch(this.get("type")){case t.Prism:n=n.concat([{propertyName:"prismInsertion",increment:.5,min:0,infoPanel:a},{propertyName:"refractiveIndex",increment:.1,min:1,infoPanel:a},{propertyName:"indexDispersion",increment:.001,infoPanel:a},{propertyName:"groupVelocityDispersion",increment:.001,infoPanel:a}])}return n.canDelete=!1,n},canSetProperty:function(t,a){var n=e.Element.Dispersion.eType,i=this.get("type")===n.Prism;return{type:!0,flip:!0,distanceToNext:!0,insertElement:this===this.group[this.group.length-1],prismInsertion:i,refractiveIndex:i,indexDispersion:i,groupVelocityDispersion:i}[t]||!1},set:function(e,t){switch(e){case"type":case"flip":this.group[0].prop[e]=t,this.group[0].updateAngles();break;case"distanceToNext":this.prop[e].set(t);break;case"prismInsertion":case"refractiveIndex":case"indexDispersion":case"groupVelocityDispersion":case"type":this.group[0].prop[e].set(t),this.group[0].updateAngles()}},get:function(e){var t=this.variablesGetter();switch(e){case"type":case"flip":return this.group[0].prop[e];case"distanceToNext":return Math.max(0,this.prop[e].value(t));case"prismInsertion":case"refractiveIndex":case"indexDispersion":case"groupVelocityDispersion":return this.group[0].prop[e].value(t);case"deflectionAngle":return this.group[0].priv.deflectionAngle*(this===this.group[0]?1:-1);case"apexAngle":return this.group[0].priv.apexAngle}},expression:function(e){return this.prop[e].expression()},spaceRefractiveIndex:function(){return 1},groupDelayDispersion:function(t){var a,n,i,r,o;return this===this.group[0]&&(r=this.get("indexDispersion"),o=this.get("groupVelocityDispersion"),n=e.constant.c,0,a=0*(i=t*t*t/(Math.PI*n*n))*o-2*this.get("distanceToNext")*i*r*r,a*=1e-6,a+=e.Element.groupDelayDispersion.call(this,t,this.priv.internalLength))},elementAbcd:function(t,a){return e.Math.Matrix2x2.eye()},atLocation:e.Element.atLocation,draw:function(t,a){var n,i,r,o=this===this.group[0]?0:this.get("prismInsertion"),s=Math.max(40,1.5*o),l=-this.loc.p-this.get("deflectionAngle")/2,c=e.Enum.renderLayer;switch(this!==this.group[0]&&(l+=Math.PI),this.get("flip")&&(l+=Math.PI),a){case c.optics:n=this.get("apexAngle")/2,i=s*Math.tan(n),r=e.Utilities.stringFormat("M 0 {0} L {1} {2} L {3} {4} ZFS",o.toFixed(2),-i.toFixed(2),(o-s).toFixed(2),+i.toFixed(2),(o-s).toFixed(2)),t.save().setStroke("#000",1).createPattern(e.theme.current.blockFill).drawPath(r,this.loc.x,this.loc.y,l).restore();break;case c.annotation:t.fillText(this.name,this.loc.x,this.loc.y,-2*Math.sin(l)-.3*this.name.length,2*Math.cos(l)+.5)}},wireframe:function(e,t){return this.draw(e,t)}}}(window.LaserCanvas),window.LaserCanvas.Element.collectGroups=function(e){var t,a=null;for(var n of e)if(t=n.hasOwnProperty("group"),!a&&t)a=[n];else if(a&&"Lens"===n.type)a.push(n);else if(a&&t){a.push(n);for(var i=0;i<a.length;i+=1)a[i].hasOwnProperty("group")&&(a[i].group=a);a[0].updateAngles(),a=null}},function(e){e.Element.Lens=function(t){this.type="Lens",this.name="L",this.variablesGetter=t,this.loc={x:0,y:0,p:0,q:0},this.prop={distanceToNext:new e.Equation(0),focalLength:new e.Equation(0)},this.priv={refractiveIndex:0},this.abcdQ={}},e.Element.Lens.Type="Lens",e.Element.Lens.standard=[-1e3,-750,-500,-400,-300,-250,-200,-175,-150,-125,-100,-75,-50,-25,25,50,75,100,125,150,175,200,250,300,400,500,750,1e3],e.Element.Lens.prototype={toJson:function(){return{type:this.type,name:this.name,loc:e.Utilities.extend({},this.loc),prop:e.Utilities.extend({},this.prop)}},fromJson:function(t){for(var a in this.name=t.name,e.Utilities.extend(this.loc,t.loc||{}),this.prop)this.prop.hasOwnProperty(a)&&this.prop[a].set(t.prop[a])},setThermalLens:function(e,t,a){this.set("focalLength",e),this.set("refractiveIndex",t),this.set("distanceToNext",a)},isThermalLens:function(){return 0!==this.priv.refractiveIndex},location:function(t){return t&&(this.loc.x=t.x,this.loc.y=t.y,this.loc.q=this.loc.p=t.q),e.clone(this.loc)},userProperties:function(){return[{propertyName:"focalLength",increment:10,standard:e.Element.Lens.standard},{propertyName:"distanceToNext",increment:5,min:0}]},canSetProperty:function(e){var t=this.isThermalLens();return{distanceToNext:!t,focalLength:!0,insertElement:!t}[e]||!1},set:function(e,t){switch(e){case"distanceToNext":case"focalLength":this.prop[e].set(t);break;case"refractiveIndex":this.priv.refractiveIndex=t}},get:function(e){var t=this.variablesGetter(),a=this.prop[e]&&this.prop[e].value(t);switch(e){case"distanceToNext":return Math.max(0,a);case"focalLength":return a;case"refractiveIndex":return 0===this.priv.refractiveIndex?1:this.priv.refractiveIndex;case"unused":return this.isThermalLens()&&0===this.get("focalLength")}return a},expression:function(e){return this.prop[e].expression()},elementAbcd:function(t,a){var n=this.get("focalLength");return new e.Math.Matrix2x2(1,0,0===n?0:-1/n,1)},draw:function(t,a){var n,i=this.get("focalLength"),r=-this.loc.p,o=e.Enum.renderLayer;if(!this.isThermalLens()||0!==i)switch(a){case o.optics:n=e.theme.current[i<0?"lensConcave":"lensConvex"],t.drawImage(n,this.loc.x,this.loc.y,r);break;case o.annotation:t.fillText(this.name,this.loc.x,this.loc.y,-1.5*Math.sin(r)-.3*this.name.length,1.5*Math.cos(r)+.2)}},wireframe:function(t,a){var n,i=e.Enum.renderLayer,r=e.Utilities,o=[],s=-this.loc.p,l=this.get("focalLength"),c=function(e){return 0===l?0:8*(l>0?.5:.2)+e*e*.2*(l>0?-1:1)};if(!this.isThermalLens()||0!==l)switch(a){case i.optics:for(n=-4,o.push(r.stringFormatPrecision(2,"M {0} {1}",c(n),8*n)),n+=1;n<=4;n+=1)o.push(r.stringFormatPrecision(2,"L {0} {1}",c(n),8*n));for(n=4;n>=-4;n-=1)o.push(r.stringFormatPrecision(2,"L {0} {1}",-c(n),8*n));o.push("Z"),t.save().setStroke("#000",1).beginPath().drawPath(o.join(" "),this.loc.x,this.loc.y,s).stroke().restore();break;case i.annotation:this.isThermalLens()&&0===l||t.fillText(this.name,this.loc.x,this.loc.y,-1.5*Math.sin(s)-.3*this.name.length,1.5*Math.cos(s)+.2)}}}}(window.LaserCanvas),function(e){e.Element.Mirror=function(t){this.type="Mirror",this.name="M",this.variablesGetter=t,this.loc={x:0,y:0,p:0,q:0},this.prop={distanceToNext:new e.Equation(0),radiusOfCurvature:new e.Equation(0),angleOfIncidence:new e.Equation(90)},this.priv={startOptic:!1,endOptic:!1,deflectionAngle:0},this.abcdQ={}},e.Element.Mirror.Type="Mirror",e.Element.Mirror.standard=[-1e3,-750,-500,-400,-300,-250,-200,-175,-150,-125,-100,-75,-50,-25,0,25,50,75,100,125,150,175,200,250,300,400,500,750,1e3],e.Element.Mirror.prototype={toJson:function(){return{type:this.type,name:this.name,loc:e.Utilities.extend({},this.loc),prop:e.Utilities.extend({},this.prop)}},fromJson:function(t){for(var a in this.name=t.name,e.Utilities.extend(this.loc,t.loc),this.prop)this.prop.hasOwnProperty(a)&&this.prop[a].set(t.prop[a])},location:function(t){return t&&(this.loc.x=t.x,this.loc.y=t.y,this.loc.p=this.loc.q=t.q,this.loc.q+=this.get("deflectionAngle")),e.clone(this.loc)},userProperties:function(){var t=[{propertyName:"radiusOfCurvature",increment:5,standard:e.Element.Mirror.standard}];return this.priv.startOptic||this.priv.endOptic||(t=t.concat([{propertyName:"angleOfIncidence",increment:1,wrap:90}])),this.priv.endOptic||t.push({propertyName:"distanceToNext",increment:5,min:0}),(this.priv.startOptic||this.priv.endOptic)&&(t.canDelete=!1),t},canSetProperty:function(e){return{angleOfIncidence:!(this.priv.startOptic||this.priv.endOptic),deflectionAngle:!(this.priv.startOptic||this.priv.endOptic),distanceToNext:!this.priv.endOptic,insertElement:!this.priv.endOptic,outgoingAngle:!0,radiusOfCurvature:!0}[e]||!1},set:function(e,t,a){switch(e){case"distanceToNext":case"radiusOfCurvature":case"angleOfIncidence":this.prop[e].set(t);break;case"deflectionAngle":for(;t<-Math.PI;)t+=2*Math.PI;for(;t>Math.PI;)t-=2*Math.PI;this.set("angleOfIncidence",(t<0?-1:1)*(Math.PI-Math.abs(t))/2*(180/Math.PI));break;case"outgoingAngle":a?this.loc.q=t:this.set("deflectionAngle",t-this.loc.p);break;case"startOptic":case"endOptic":this.priv[e]=t}},get:function(e){var t,a=this.variablesGetter(),n=this.prop[e]&&this.prop[e].value(a);switch(e){case"distanceToNext":return Math.max(0,n);case"radiusOfCurvature":return n;case"angleOfIncidence":return Math.max(-180,Math.min(180,n));case"angleOfIncidenceRad":return this.get("angleOfIncidence")*Math.PI/180;case"deflectionAngle":return((t=this.get("angleOfIncidenceRad"))<0?-1:1)*(Math.PI-2*Math.abs(t))}},expression:function(e){return this.prop[e].expression()},elementAbcd:function(t,a){var n=this.get("radiusOfCurvature"),i=Math.cos(this.get("angleOfIncidenceRad")),r=a===e.Enum.modePlane.sagittal?n/i:n*i,o=0===n?0:-2/r;return new e.Math.Matrix2x2(1,0,o,1)},draw:function(t,a){var n,i,r=-this.loc.p+this.get("angleOfIncidenceRad"),o=e.Enum.renderLayer;switch(a){case o.optics:i=this.get("radiusOfCurvature"),n=e.theme.current[i>300?"mirrorConcave":i<-300?"mirrorConvex":i>0?"mirrorConcaveMore":i<0?"mirrorConvexMore":"mirrorPlane"],t.drawImage(n,this.loc.x,this.loc.y,r);break;case o.annotation:t.fillText(this.name,this.loc.x,this.loc.y,Math.cos(r)-.3*this.name.length,Math.sin(r)+.5)}},wireframe:function(t,a){var n,i=e.Enum.renderLayer,r=[],o=-this.loc.p+this.get("angleOfIncidenceRad"),s=this.get("radiusOfCurvature"),l=function(e){return 0===s?0:e*e*1*(Math.abs(s)>300?.15:.3)*(s>0?-1:1)};switch(a){case i.optics:for(n=-4;n<4;n+=1)r.push(e.Utilities.stringFormatPrecision(2,"M {0} {1} L {2} {3} L {4} {5}",8,8*(n+1),l(n),8*n,l(n+1),8*(n+1)));t.save().setStroke("#000",1).beginPath().drawPath(r.join(" "),this.loc.x,this.loc.y,o).stroke().restore();break;case i.annotation:t.fillText(this.name,this.loc.x,this.loc.y,Math.cos(o)-.3*this.name.length,Math.sin(o)+.5)}}}}(window.LaserCanvas),function(e){e.Element.Screen=function(t){this.type="Screen",this.name="I",this.variablesGetter=t,this.loc={x:0,y:0,p:0,q:0},this.prop={distanceToNext:new e.Equation(0)},this.priv={startOptic:!1,endOptic:!1},this.panel=null,this.showProperties=!1,this.abcdQ={}},e.Element.Screen.Type="Screen",e.Element.Screen.prototype={toJson:function(){return{type:this.type,name:this.name,loc:e.Utilities.extend({},this.loc),prop:e.Utilities.extend({},this.prop)}},fromJson:function(t){for(var a in this.name=t.name,e.Utilities.extend(this.loc,t.loc),this.prop)this.prop.hasOwnProperty(a)&&(this.prop[a]=new e.Equation(t.prop[a]))},init:function(e){this.panel=this.createPanel(e)},setName:function(e){this.panel&&(this.name=this.panel.querySelector("h1").innerHTML=e)},createPanel:function(t){var a,n=this,i=document.createElement("div");return i.className="elementScreenPanel",i.setAttribute("data-compact-view","true"),i.innerHTML=e.Element.Screen.panelHtml,i.querySelector('button[data-action="compact"]').onclick=function(){i.setAttribute("data-compact-view","true"!==i.getAttribute("data-compact-view"))},a=i.querySelector('button[data-action="delete"]'),this.priv.endOptic?a.parentNode.removeChild(a):a.onclick=function(){t.removeElement(n)},this.priv.startOptic||(document.body.appendChild(i),e.localize(i),e.Utilities.draggable(i,{handle:i.querySelector(".dragbar")})),i},location:function(t){return t&&(this.loc.x=t.x,this.loc.y=t.y,this.loc.q=this.loc.p=t.q),e.clone(this.loc)},userProperties:function(){return[{propertyName:"distanceToNext",increment:5,min:0}]},canSetProperty:function(e){return{distanceToNext:!this.priv.endOptic,insertElement:!0,outgoingAngle:this.priv.startOptic||this.priv.endOptic}[e]||!1},set:function(e,t,a){switch(e){case"outgoingAngle":a&&(this.loc.q=t);break;case"startOptic":case"endOptic":this.priv[e]=t;break;case"distanceToNext":this.prop[e].set(t)}},get:function(e){var t=this.variablesGetter();switch(e){case"startOptic":case"endOptic":return this.prop[e];case"distanceToNext":return this.prop[e].value(t)}},expression:function(e){return this.prop[e].expression()},elementAbcd:function(t,a){return new e.Math.Matrix2x2.eye},updateAbcdQ:function(t,a){var n,i,r='[data-column="{0}"]'.replace("{0}",a===e.Enum.modePlane.sagittal?"sag":"tan"),o=this.panel.querySelectorAll("[data-info]");for(n=0;n<o.length;n+=1)i=o[n].getAttribute("data-info"),o[n].querySelector(r).innerHTML=t&&t.hasOwnProperty(i)&&!isNaN(t[i])?isFinite(t[i])?e.Utilities.numberFormat(t[i]):"&infin;":"-"},destroy:function(){this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel)},atLocation:e.Element.atLocation,draw:function(t,a,n){var i=e.Enum.renderLayer,r=-this.loc.q;switch(a){case i.optics:n?t.save().setStroke("#000",1).drawPath(e.Utilities.stringFormat(e.Element.Screen.wireframePath,3,20),this.loc.x,this.loc.y,r).restore():t.drawImage(e.theme.current.screen,this.loc.x,this.loc.y,r);break;case i.annotation:t.fillText(this.name,this.loc.x,this.loc.y,-1.5*Math.sin(r),1.5*Math.cos(r)+.2)}},wireframe:function(e,t){this.draw(e,t,!0)}},e.Element.Screen.wireframePath="M {0} -{1} L 0 -{1} L 0 {1} L {0} {1} S",e.Element.Screen.panelHtml=['<div class="dragbar"></div>',"<h1></h1>",'<button data-action="compact"></button>',"<table><thead>","<tr>",'<th data-column="name" data-localize="Property"></th>','<th data-column="symbol" data-localize="Symbol"></th>','<th data-column="sag" data-localize="Sagittal"></th>','<th data-column="tan" data-localize="Tangential"></th>','<th data-column="unit" data-localize="Unit"></th>',"</tr>","</thead><tbody>",'<tr data-info="w">','<td data-column="name" data-localize="Mode"></td>','<td data-column="symbol"><i>w</i></td>','<td data-column="sag"></td>','<td data-column="tan"></td>','<td data-column="unit">&micro;m</td>',"</tr>",'<tr data-info="r">','<td data-column="name" data-localize="Curvature"></td>','<td data-column="symbol"><i>r</i></td>','<td data-column="sag"></td>','<td data-column="tan"></td>','<td data-column="unit">mm</td>',"</tr>",'<tr data-info="w0">','<td data-column="name" data-localize="Waist"</td>','<td data-column="symbol"><i>w</i><sub>0</sub></td>','<td data-column="sag"></td>','<td data-column="tan"></td>','<td data-column="unit">&micro;m</td>',"</tr>",'<tr data-info="z0">','<td data-column="name" data-localize="Distance"></td>','<td data-column="symbol"><i>z</i><sub>0</sub></td>','<td data-column="sag"></td>','<td data-column="tan"></td>','<td data-column="unit">mm</td>',"</tr>",'<tr data-info="zR">','<td data-column="name" data-localize="Rayleigh"></td>','<td data-column="symbol"><i>z</i><sub><i>R</i></sub></td>','<td data-column="sag"></td>','<td data-column="tan"></td>','<td data-column="unit">mm</td>',"</tr>","</tbody></table>",'<div class="lcbuttons">','<button class="lcbutton padded" data-action="delete">','<label data-localize="Delete"></label>',"</button>","</div>"].join("")}(window.LaserCanvas),function(e){var t=function(){this.lines=[],this.axes=this.initAxes(),this.el=this.init(),this.events={variableChange:[]}};t.template=['<div class="plot">',"<canvas/>","</div>"].join(""),t.prototype.init=function(){var e,a=document.createElement("div");return a.className="LaserCanvasGraph2d",a.innerHTML=t.template,e=a.querySelector(".plot"),this.axes.x.appendTo(e),this.axes.y.appendTo(e),a},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.destroy=function(){return this.el.parentElement&&this.el.parentElement.removeChild(this.el),this},t.prototype.initAxes=function(){var t=e.Graph2dAxis;return{x:new t(t.Direction.HORIZONTAL),y:new t(t.Direction.VERTICAL)}},t.prototype.addEventListener=function(e,t){this.events[e].push(t)},t.prototype.fireEvent=function(e){this.events[e].forEach(function(e){e()})},t.prototype.clearDataPoints=function(){this.lines=[]},t.prototype.addDataPoints=function(e){e.forEach(function(e,t){this.lines[t]||(this.lines[t]={x:[],y:[]}),this.lines[t].x.push(e.x),this.lines[t].y.push(e.y)}.bind(this))},t.prototype.createVerticalMarker=function(e){this.lines.push({x:[e,e],y:[this.axes.y.min(),this.axes.y.max()]})},t.prototype.getDataExtents=function(){var e={x:{min:0,max:1,firstPoint:!0},y:{min:0,max:1,firstPoint:!0}};return this.lines.forEach(function(t){var a;for(var n of["x","y"])for(var i=0;i<t[n].length;i+=1)a=t[n][i],isNaN(a)||!isFinite(a)||(e[n].firstPoint?(e[n].min=e[n].max=a,delete e[n].firstPoint):(e[n].min=Math.min(e[n].min,a),e[n].max=Math.max(e[n].max,a)))}),e},t.prototype.calcTicks=function(){var e=this.canvasSize(),t=this.getDataExtents(),a=this.getFontSize();this.axes.x.calcTicks(t.x,e.width,{minTickSpacing:2.5*a,tightLimits:!0}),this.axes.y.calcTicks(t.y,e.height,{minTickSpacing:1.5*a})},t.prototype.canvasSize=function(){var e=this.el.querySelector("canvas"),t=e.parentElement,a=t.offsetWidth,n=t.offsetHeight;return e.width=parseInt(a),e.height=parseInt(n),{width:a,height:n}},t.prototype.getFontSize=function(){var e=this.el,t=window.getComputedStyle(e).fontSize.match(/^(\d+)px$/);return t?+t[1]:16},t.prototype.render=function(){this.axes.x.render(),this.axes.y.render(),this.renderPlotLines()},t.prototype.renderPlotLines=function(){var t=this.el.querySelector("canvas"),a=t.getContext("2d"),n=this.axes.x,i=this.axes.y;a.clearRect(0,0,t.width,t.height),this.lines.forEach(function(t,r){var o,s,l,c,p,d=!0;for(a.save(),a.beginPath(),o=0;o<t.x.length&&o<t.y.length;o+=1)s=t.x[o],l=t.y[o],isNaN(s)||isNaN(l)?d=!0:(c=n.transform(s),p=i.transform(l,!0),d?(a.moveTo(c,p),d=!1):a.lineTo(c,p));a.strokeStyle=e.theme.current.mode[r]||"#333",a.stroke(),a.restore()})},e.Graph2d=t}(window.LaserCanvas),function(e){var t=function(e){this.dir=e,this.el=this.init(),this._min=0,this._max=1,this._tickMin=0,this._tickSpacing=1,this._scale=1,this._length=1,this.render()};t.Direction={HORIZONTAL:"horizontal",VERTICAL:"vertical"},t.prototype.min=function(){return this._min},t.prototype.max=function(){return this._max},t.prototype.transform=function(e,t){var a=this._scale*(e-this._min);return t?this._length-a:a},t.prototype.init=function(){var e=document.createElement("div");return e.className="Graph2dAxis",e.setAttribute("data-direction",this.dir),e.innerHTML=['<div class="axisLine"></div>','<div class="ticks">',"</div>"].join(""),e},t.standardTicks=[.1,.2,.5,1,5,10],t.defaultMaxTicks=5,t.prototype.calcTicks=function(e,a,n){var i,r,o,s,l=Math.max(3,n.minTickSpacing?Math.floor(a/n.minTickSpacing):t.defaultMaxTicks),c=e.min,p=e.max;for(r of(p-c<1e-7&&(p=c+1),p/=i=Math.pow(10,Math.floor(Math.log10(p-c))),c/=i,t.standardTicks))if(((s=Math.ceil(p/r))-(o=Math.floor(c/r)))/r<l)break;n.tightLimits?(this._max=e.max,this._min=e.min):(this._max=s*r*i,this._min=o*r*i),this._tickMin=o*r*i,this._tickSpacing=r*i,this._length=a,this._scale=a/(this._max-this._min)},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.render=function(){var a,n,i,r=this.el.querySelector(".ticks"),o=this.dir===t.Direction.HORIZONTAL?"left":"bottom",s=this._min,l=this._max;r.innerHTML="";for(var c=this._tickMin;c<=this._max;c+=this._tickSpacing)c>=this._min&&(a=c,n=void 0,i=void 0,(i=document.createElement("label")).innerHTML=n||e.Utilities.numberFormat(a,!0),i.style[o]=`${100*(a-s)/(l-s)}%`,r.appendChild(i))},e.Graph2dAxis=t}(window.LaserCanvas),function(e){var t=function(){this.graphs=[],this.el=this.init(),this.events={change:[]}};t.template=['<div class="about">',"<ul>",'<li>Variables  <em>x</em>, <em>y</em> in properties: <input class="demoPropertyInput" disabled data-expression="true" value="200 * cos(x)" /></li>',"<li>Sliders change values</li>","<li>Toggle graphs with <span>👁</span></li>","</ul>","</div>",'<vid class="graphItems"></div>'].join(""),t.prototype.init=function(){var e=document.createElement("div");return e.className="graphCollection",e.innerHTML=t.template,e},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.addEventListener=function(e,t){this.events[e].push(t)},t.prototype.fireEvent=function(e){this.events[e].forEach(function(e){e()})},t.prototype.hasRange=function(e){return this.graphs.some(function(t){return t.variableName()===e})},t.prototype.scanStart=function(e){this.graphs.forEach(function(t){t.scanStart(e)})},t.prototype.scanValue=function(e,t){this.graphs.forEach(function(a){a.scanValue(e,t)})},t.prototype.scanEnd=function(e,t){this.graphs.forEach(function(a){a.scanEnd(e,t)})},t.prototype.onVariableChange=function(){this.fireEvent("change")},t.prototype.graphIndex=function(e,t,a){return this.graphs.findIndex(function(n){return n.isEqual(e,t,a)})},t.prototype.hasGraph=function(e,t,a){return this.graphIndex(e,t,a)>=0},t.prototype.toggleGraph=function(e,t,a){var n=this.graphIndex(e,t,a);n>=0?this.removeGraphAt(n):this.addGraph(e,t,a)},t.prototype.addGraph=function(t,a,n,i){this.graphs.push(new e.GraphItem(t,a,n,i).appendTo(this.el.querySelector(".graphItems")).addEventListener("variableChange",this.onVariableChange.bind(this))),this.fireEvent("change"),this.el.setAttribute("data-has-graphs",this.graphs.length?"true":"false")},t.prototype.removeGraphAt=function(e){this.graphs[e].destroy(),this.graphs.splice(e,1),this.el.setAttribute("data-has-graphs",this.graphs.length?"true":"false")},t.prototype.removeAllGraphs=function(){for(var e=this.graphs.length-1;e>=0;e-=1)this.removeGraphAt(e)},t.prototype.toJson=function(){return this.graphs.map(function(e){return e.toJson()})},t.prototype.fromJson=function(t,a,n){var i;for(var r of(this.removeAllGraphs(),t||[]))(i=e.GraphItem.sourceFromJson(r,a,n))&&this.addGraph(i,r.propertyName,r.fieldName,r.variableName)},t.prototype.change=function(e){for(var t,a=this.graphs.length-1;a>=0;a-=1)t=this.graphs[a],e.find(function(e){return e===t.source()})||this.removeGraphAt(a);return this},e.GraphCollection=t}(window.LaserCanvas),function(e){var t=function(t,a,n,i){this._source=t,this._propertyName=a,this._fieldName=n,this._variableName=i||"x",this.graph2d=new e.Graph2d,this.el=this.init(),this.variableInput=this.el.querySelector('.variable input[type="checkbox"]'),this.variableInput.onchange=this.onVariableChange.bind(this),this.events={variableChange:[]}};t.template=['<div class="title"></div>','<div class="graph2dContainer"></div>','<div class="variable">',"<span>x</span>",'<input type="checkbox" class="laserCanvasCheckbox" />',"<span>y</span>"].join(""),t.prototype.init=function(){var e=document.createElement("div");return e.className="graphCollectionPanel",e.innerHTML=t.template,this.graph2d.appendTo(e.querySelector(".graph2dContainer")),e.querySelector(".title").innerText=this.getTitle(),e.querySelector("input[type=checkbox]").checked="x"!==this._variableName,e},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.destroy=function(){return this.el.parentElement.removeChild(this.el),this},t.prototype.addEventListener=function(e,t){return this.events[e].push(t),this},t.prototype.fireEvent=function(e){this.events[e].forEach(function(e){e()})},t.prototype.onVariableChange=function(){this._variableName=this.variableInput.checked?"y":"x",this.fireEvent("variableChange")},t.prototype.getTitle=function(){var t=this._source.name,a=e.Utilities.prettify(this._propertyName);return t?`${t}: ${a}`:a},t.prototype.getGraphValue=function(e){var t;return this._fieldName?[{x:e,y:this._source.abcdQ[0][this._fieldName]},{x:e,y:this._source.abcdQ[1][this._fieldName]}]:(t=this._source.get(this._propertyName),Array.isArray(t)?t.map(function(t){return{x:e,y:t}}):[{x:e,y:t}])},t.prototype.variableName=function(){return this._variableName},t.prototype.source=function(){return this._source},t.prototype.toJson=function(){return{sourceType:this._source.type,sourceName:this._source.name,propertyName:this._propertyName,fieldName:this._fieldName,variableName:this._variableName}},t.sourceFromJson=function(e,t,a){return"System"===e.sourceType?t:a.find(function(t){return t.type===e.sourceType&&t.name===e.sourceName})},t.prototype.isEqual=function(e,t,a){return e===this._source&&t===this._propertyName&&(!a||a===this._fieldName)},t.prototype.scanStart=function(e){e===this._variableName&&this.graph2d.clearDataPoints()},t.prototype.scanValue=function(e,t){e===this._variableName&&this.graph2d.addDataPoints(this.getGraphValue(t))},t.prototype.scanEnd=function(e,t){e===this._variableName&&(this.graph2d.calcTicks(),this.graph2d.createVerticalMarker(t),this.graph2d.render())},e.GraphItem=t}(window.LaserCanvas),function(e){var t=function(e,t,a){return a<e?e:a>t?t:a},a=/^(\+|-)?[0-9]*(?:\.[0-9]*)?(?:e(\+|-)?[0-9]+)?$/i,n=function(e){this.name=e,this.changeEventListener=null,this.min=0,this.max=1,this.value=.5,this.el=this.init(),this.update()};n.prototype.getRange=function(){return{min:this.min,max:this.max}},n.prototype.init=function(){var a=this,n=document.createElement("div"),i=function(){this.setAttribute("data-last-value",this.value),setTimeout(function(){this.select()}.bind(this))},r=function(){a.inputChange(this.getAttribute("data-prop"),this.value)},o=function(){a.inputBlur(this.getAttribute("data-prop"))},s=function(e){switch(e.which||e.charCode){case 10:case 13:return this.blur(),!1;case 27:return this.value=this.getAttribute("data-last-value"),a.inputChange(this.getAttribute("data-prop"),this.value),this.blur(),!1}};return n.className="LaserCanvasNumberSlider",n.innerHTML=['<div class="range">','<div class="trough">','<div class="thumb">','<div class="handle"></div>','<div class="callout">','<input type="text" data-prop="value" value="val" />',"</div>","</div>","</div>","</div>",'<div class="limits">','<input type="text" value="min" data-prop="min" />','<label class="variableName"></label>','<input type="text" value="max" data-prop="max" />',"</div>"].join(""),n.querySelector(".variableName").innerText=this.name,e.Utilities.draggable(n.querySelector(".thumb"),{handle:n.querySelector(".handle"),axis:"x",onDrag:function(e,a){var i,r=n.querySelector(".trough").offsetWidth;a.x=t(0,r,a.x),i=a.x/r,this.setProp("value",this.min+(this.max-this.min)*i),this.updateValue()},onEnd:function(){this.update()}},this),Array.prototype.forEach.call(n.querySelectorAll("input[data-prop]"),function(e){e.onfocus=i,e.onchange=e.onkeyup=r,e.onblur=o,e.onkeydown=s}),n},n.prototype.appendTo=function(e){e.appendChild(this.el)},n.prototype.setChangeEventListener=function(e,t){this.changeEventListener=e?e.bind(t):null},n.prototype.fireChangeEvent=function(){this.changeEventListener&&this.changeEventListener(this.name,this.value)},n.prototype.setProp=function(t,n,i){a.test(n)&&(n=+n,isNaN(n)||(this[t]=+n,!1!==i?this.fireChangeEvent():this.el.querySelector(`[data-prop="${t}"]`).value=e.Utilities.numberFormat(n,!0),this.updateThumb()))},n.prototype.inputChange=function(e,t){this.setProp(e,t)},n.prototype.inputBlur=function(e){this.max<=this.min&&this.setProp("max",this.min+1),"value"===e&&this.value>this.max?this.setProp("max",this.value):"value"===e&&this.value<this.min?this.setProp("min",this.value):"min"===e&&this.value<this.min?this.setProp("value",this.min):"max"===e&&this.value>this.max&&this.setProp("value",this.max),this.update()},n.prototype.update=function(){this.updateThumb(),this.updateValue(),this.updateLimits()},n.prototype.updateThumb=function(){var e=100*t(0,1,(this.value-this.min)/(this.max-this.min));this.el.querySelector(".thumb").style.left=`${e}%`},n.prototype.updateValue=function(){this.el.querySelector('[data-prop="value"]').value=e.Utilities.numberFormat(this.value)},n.prototype.updateLimits=function(){var t=e.Utilities;this.el.querySelector('[data-prop="min"]').value=t.numberFormat(this.min),this.el.querySelector('[data-prop="max"]').value=t.numberFormat(this.max)},e.NumberSlider=n}(window.LaserCanvas),function(e){var t=function(e,t,a){this.prop=e,this.source=t,this.onChange=a,this.el=this.init(e),this.input=this.el.querySelector("input"),this.update()};t.template=['<input type="checkbox" />'].join(""),t.prototype.init=function(){var e=document.createElement("div");return e.className="checkboxInput",e.innerHTML=t.template,e.querySelector("input").onchange=this.onCheckboxChange.bind(this),e},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.get=function(){return this.source.get(this.prop.propertyName)},t.prototype.update=function(){this.input.checked=this.get()},t.prototype.onCheckboxChange=function(){this.fireChangeEvent(this.input.checked)},t.prototype.fireChangeEvent=function(e){this.onChange(e)},e.CheckboxInput=t}(window.LaserCanvas),function(e){"use strict";var t=function(){this.pageIndex=0,this.el=this.show(),this.title=this.el.querySelector(".title"),this.scroller=this.el.querySelector(".body .scroller"),this.hint=this.el.querySelector(".hint"),this.goToPage(0)};t.pages=[{title:"Drag to rearrange",body:['<div class="drag-cavity">','<div class="hoverer"></div>','<div class="mode"></div>','<div class="concave l"></div>','<div class="concave r"></div>','<div class="finger"></div>',"</div>"].join(""),hint:"Drag by the centerline"},{title:"Add more elements",body:['<div class="add-cavity">','<div class="source lens"></div>','<div class="mode full"></div>','<div class="mode half l"></div>','<div class="mode half r"></div>','<div class="concave l"></div>','<div class="concave r"></div>','<div class="lens animated">','<div class="finger"></div>',"</div>","</div>"].join(""),hint:"Drag elements into the cavity"},{title:"Use the inspector",body:['<div class="inspect-cavity">','<div class="mode"></div>','<div class="concave l"></div>','<div class="concave r"></div>','<div class="laserCanvasInspect">','<span data-dimension="sag"><span>100</span><span>200</span></span> ','<span class="ellipse"></span> ','<span data-dimension="tan"><span>200</span><span>100</span></span> ',"um</div>",'<div class="generalSelector">','<div class="slider"></div>','<div class="buttons">',"<div>Layout</div>","<div>Inspect</div>",'<div class="finger"></div>',"</div>","</div>","</div>"].join(""),hint:"View mode size anywhere in the cavity"},{title:"Detailed information",body:['<div class="sidebar">','<div class="toggle-info">','<div class="finger"></div>',"</div>","</div>"].join(""),hint:"Full ABCD calculation in sidebar",onload:function(e){var t,a=document.getElementById("LaserCanvasInfo").querySelector("table").cloneNode(!0),n=a.querySelectorAll("input,button");for(e.querySelector(".sidebar").appendChild(a),t=n.length-1;t>=0;t-=1)n[t].disabled=!0}},{title:"About",body:['<ul class="about">',"<li>Laser modeling using the <em>ABCD</em> matrix calculations.</li>","<li>(c) 2007 - 2020 Philip Schlup, PhD</li>",'<li><a href="mailto:lasercanvas@outlook.com">Send feedback</a></li>','<li><a href="LasrCanv5.exe" download>Download</a> LaserCanvas 5 for Windows</li>',"</ul>"].join(""),hint:"LaserCanvas - Web"}],t.singleton=null,t.show=function(){t.singleton?t.singleton.destroy():t.singleton=new t},t.prototype.show=function(){var e=document.createElement("div");return e.className="helpPanel",document.body.appendChild(e),e.innerHTML=['<div class="title"></div>','<div class="body"><div class="scroller"></div></div>','<div class="hint"></div>','<div class="footer">','<button data-action="prev">Previous</button>','<button data-action="next">Next</button>','<button data-action="close">Close</button>',"</div>"].join(""),this.activate(e.querySelector('button[data-action="prev"]'),e.querySelector('button[data-action="next"]'),e.querySelector('button[data-action="close"]')),e},t.prototype.activate=function(e,a,n){var i=this,r=function(){e.disabled=0===i.pageIndex,a.disabled=i.pageIndex>=t.pages.length-1};e.onclick=function(){i.goToPage(i.pageIndex-1),r()},a.onclick=function(){i.goToPage(i.pageIndex+1),r()},n.onclick=function(){i.destroy()},r()},t.prototype.destroy=function(){this.el.parentElement.removeChild(this.el),t.singleton===this&&(t.singleton=null)},t.prototype.goToPage=function(e){var a=this.title,n=this.scroller,i=this.hint,r=t.pages[e],o=function(){a.innerHTML=r.title,i.innerHTML=r.hint,setTimeout(function(){a.setAttribute("data-show","true"),i.setAttribute("data-show","true")},0)},s=function(e){var t=document.createElement("div");switch(t.className="view",t.innerHTML=r.body,r.onload&&r.onload(t),e){case"fade":n.setAttribute("data-hide","true"),setTimeout(function(){n.removeAttribute("data-hide")},0),n.appendChild(t);break;case"next":n.setAttribute("data-scroll","next"),setTimeout(function(){n.removeChild(n.firstChild),n.removeAttribute("data-scroll")},500),n.appendChild(t);break;case"prev":n.setAttribute("data-scroll","prev-pre"),setTimeout(function(){n.removeChild(n.lastChild),n.removeAttribute("data-scroll")},500),setTimeout(function(){n.setAttribute("data-scroll","prev")},0),n.insertBefore(t,n.firstChild)}};a.innerHTML.length>0?(a.removeAttribute("data-show"),i.removeAttribute("data-show"),setTimeout(o,350),s(e>this.pageIndex?"next":"prev")):(o(),s("fade")),this.pageIndex=e},e.HelpPanel=t}(window.LaserCanvas),function(e){var t=function(e){this.system=null,this.render=null,this.variablesGetter=null,this.toggleGraph=null,this.info=e};t.prototype.init=function(e,t,a,n){return this.system=e,this.render=t,this.variablesGetter=a,this.toggleGraph=n,this.systemPropertiesPanel=null,this.elementPropertiesPanels=[],this},t.prototype.change=function(){var t=this.variablesGetter,a=this.toggleGraph,n=this.info.querySelector(".systems"),i=this.info.querySelector(".elements"),r=this.system,o=this.render,s=function(e,t){o.highlightElement(t)},l=function(e,t){o.highlightElement(null)},c=function(){r.update(!0)};for(this.systemPropertiesPanel&&this.systemPropertiesPanel.remove(),this.systemPropertiesPanel=new e.InfoPropertiesPanel(this.system.get("name"),this.system,t,a).appendTo(n),this.systemPropertiesPanel.addAbcdPropertyRow("abcdSag","sag"),this.systemPropertiesPanel.addAbcdPropertyRow("abcdTan","tan");this.elementPropertiesPanels.length>0;)this.elementPropertiesPanels.pop().remove();return this.elementPropertiesPanels=this.system.elements().map(function(n){var r=new e.InfoPropertiesPanel(n.name,n,t,a).addEventListener("mouseenter",s).addEventListener("mouseleave",l).addEventListener("change",c).appendTo(i);return r.addAbcdQPropertyRow("modeSize","w"),r.addAbcdQPropertyRow("distanceToWaist","z0"),r.addAbcdQPropertyRow("wavefrontROC","r"),r.addAbcdQPropertyRow("waistSize","w0"),r.addAbcdQPropertyRow("rayleighLength","zR"),r.addAbcdPropertyRow("abcdSag",e.Enum.modePlane.sagittal),r.addAbcdPropertyRow("abcdTan",e.Enum.modePlane.tangential),r}),this},t.prototype.update=function(){return this.systemPropertiesPanel.update(),this.elementPropertiesPanels.forEach(function(e){e.update()}),this},t.prototype.updateGraphs=function(e){this.systemPropertiesPanel.updateGraphs(e),this.elementPropertiesPanels.forEach(function(t){t.updateGraphs(e)})},t.prototype.highlightElement=function(e){var t=this.system.elements();this.elementPropertiesPanels.forEach(function(a,n){a.setHighlight(e===t[n])})},e.InfoPanel=t}(window.LaserCanvas),function(e){var t=function(e,t,a,n){this.source=t,this.variablesGetter=a,this.toggleGraph=n,this.eventListeners={change:[]},this.el=this.init(e),this.rows=this.initRows()};t.prototype.init=function(e){var t=document.createElement("div");return t.className="infoPropertiesPanel",t.innerHTML=[`<h1>${e}</h1>`,"<table><tbody></tbody></table>"].join(""),t},t.prototype.initRows=function(){var t=this.source,a=this.toggleGraph,n=this.el.querySelector("tbody"),i=this.onPropertyChange.bind(this);return this.source.userProperties().filter(function(e){return!1!==e.infoPanel}).map(function(r){return new e.InputPropertyRow(r,t,i,a).appendTo(n)})},t.prototype.update=function(){for(var e of this.rows)e.update()},t.prototype.updateGraphs=function(e){for(var t of this.rows)t.updateGraphs&&t.updateGraphs(e)},t.prototype.addEventListener=function(e,t){var a=this.source;return this.eventListeners.hasOwnProperty(e)?this.eventListeners[e].push(t):this.el.addEventListener(e,function(e){t(e,a)}),this},t.prototype.fireEvent=function(e){this.eventListeners[e].forEach(function(e){e()})},t.prototype.setHighlight=function(e){e?this.el.classList.add("panel-highlight"):this.el.classList.remove("panel-highlight")},t.prototype.addAbcdPropertyRow=function(t,a){this.rows.push(new e.AbcdPropertyRow(t,a,this.source,this.toggleGraph).appendTo(this.el.querySelector("tbody")))},t.prototype.addAbcdQPropertyRow=function(t,a){this.rows.push(new e.AbcdQPropertyRow(t,a,this.source,this.toggleGraph).appendTo(this.el.querySelector("tbody")))},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.remove=function(){this.el.parentElement&&this.el.parentElement.removeChild(this.el)},t.prototype.onPropertyChange=function(e,t){this.source.set(e,t),this.fireEvent("change")},e.InfoPropertiesPanel=t}(window.LaserCanvas),function(e){var t=function(e,t,a,n){this.prop=e,this.source=t,this.onChange=a,this.toggleGraph=n,this.propertyName="string"==typeof e?e:e.propertyName,this.type=this.getType(),this.el=this.init(),this.control=this.initControl()};t.eType={unary:"unary",sagTan:"sagTan",action:"action",mx:"mx",select:"select",boolean:"boolean"},t.template={mx:['<td data-cell="graph-placeholder"></td>','<td data-cell="label"></td>','<td data-cell="mx-col-1">','<span data-cell="mx-1-1"></span><br><span data-cell="mx-2-1"></span>',"</td>",'<td data-cell="mx-col-2">','<span data-cell="mx-1-2"></span><br><span data-cell="mx-2-2"></span>',"</td>",'<td data-cell="unit"></td>'].join(""),unary:['<td data-cell="graph"><span><input type="checkbox" /></span></td>','<td data-cell="label"></td>','<td data-cell="value" colspan="2"></td>','<td data-cell="unit"></td>'].join(""),sagTan:['<td data-cell="graph"><span><input type="checkbox" /></span></td>','<td data-cell="label"></td>','<td data-cell="sag" color-theme-plane="sag"></td>','<td data-cell="tan" color-theme-plane="tan"></td>','<td data-cell="unit"></td>'].join(""),action:['<td data-cell="graph-placeholder"></td>','<td data-cell="label"></td>','<td data-cell="action" colspan="2" class="nowrap"></td>','<td data-cell="unit"></td>'].join(""),select:['<td data-cell="graph-placeholder"></td>','<td data-cell="label"></td>','<td data-cell="select" colspan="2"></td>','<td data-cell="unit"></td>'].join(""),boolean:['<td data-cell="graph-placeholder"></td>','<td data-cell="label"></td>','<td data-cell="checkbox" colspan="2"></td>','<td data-cell="unit"></td>'].join("")},t.prototype.getType=function(){var e;return"object"==typeof this.prop?this.prop.hasOwnProperty("options")?t.eType.select:"boolean"===this.prop.dataType?t.eType.boolean:t.eType.action:"number"==typeof(e=this.get())?t.eType.unary:Array.isArray(e)&&2===e.length?t.eType.sagTan:t.eType.mx},t.prototype.get=function(){return this.source.get(this.propertyName)},t.prototype.init=function(){var a=document.createElement("tr");return a.innerHTML=t.template[this.type],a.setAttribute("data-property-name",this.propertyName),a.querySelector('[data-cell="label"]').innerText=e.Utilities.prettify(this.propertyName),a.querySelector('[data-cell="unit"]').innerText=window.LaserCanvas.unit[this.propertyName]||"",a},t.prototype.initControl=function(){var a=this.onInputChange.bind(this);return this.type===t.eType.action?new e.PropertyInput(this.prop,this.source,a).appendTo(this.el.querySelector('[data-cell="action"]')):this.type===t.eType.select?new e.SelectInput(this.prop,this.source,a).appendTo(this.el.querySelector('[data-cell="select"]')):this.type===t.eType.boolean?new e.CheckboxInput(this.prop,this.source,a).appendTo(this.el.querySelector('[data-cell="checkbox"]')):(this.el.querySelector('[data-cell="graph"] input').onchange=this.onGraphChange.bind(this),this.update(),null)},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.update=function(){var a=this.get(),n=e.Utilities;switch(this.type){case t.eType.action:case t.eType.select:case t.eType.boolean:this.control.update();break;case t.eType.unary:this.el.querySelector('[data-cell="value"]').innerText=n.numberFormat(a,!0);break;case t.eType.sagTan:this.el.querySelector('[data-cell="sag"]').innerText=n.numberFormat(a[0],!0),this.el.querySelector('[data-cell="tan"]').innerText=n.numberFormat(a[1],!0)}},t.prototype.updateGraphs=function(e){var a;switch(this.type){case t.eType.unary:case t.eType.sagTan:a=e.hasGraph(this.source,this.propertyName),this.el.querySelector('[data-cell="graph"] input[type="checkbox"]').checked=a}},t.prototype.onInputChange=function(e){this.onChange&&this.onChange(this.prop.propertyName,e)},t.prototype.onGraphChange=function(){this.toggleGraph(this.source,this.propertyName,null)};var a=function(e,t,a,n){this.propertyName=e,this.plane=t,this.source=a,this.toggleGraph=n,this.el=this.init()};a.prototype.init=function(){var a=document.createElement("tr");return a.innerHTML=t.template.mx,a.setAttribute("data-property-name",this.propertyName),a.querySelector('[data-cell="label"]').innerText=e.Utilities.prettify(this.propertyName),a},a.prototype.appendTo=function(e){return e.appendChild(this.el),this},a.prototype.get=function(){return"function"==typeof this.source.elementAbcd?this.source.elementAbcd(1,this.plane):"function"==typeof this.source.abcd?this.source.abcd()[this.plane].mx:void 0},a.prototype.update=function(){for(var t=this.get(),a=0;a<2;a+=1)for(var n=0;n<2;n+=1)this.el.querySelector(`[data-cell="mx-${a+1}-${n+1}"]`).innerText=e.Utilities.numberFormat(t[a][n],!0)};var n=function(e,t,a,n){this.propertyName=e,this.fieldName=t,this.source=a,this.toggleGraph=n,this.el=this.init()};n.prototype.init=function(){var a=document.createElement("tr");return a.innerHTML=t.template.sagTan,a.setAttribute("data-property-name",this.propertyName),a.querySelector('[data-cell="label"]').innerText=e.Utilities.prettify(this.propertyName),a.querySelector('[data-cell="unit"]').innerText=window.LaserCanvas.unit[this.propertyName]||"",a.querySelector('[data-cell="graph"] input[type="checkbox"]').onchange=this.onGraphChange.bind(this),a},n.prototype.appendTo=function(e){return e.appendChild(this.el),this},n.prototype.get=function(){var e=this.source.abcdQ;return[e[0][this.fieldName],e[1][this.fieldName]]},n.prototype.update=function(){var t=this.get();this.el.querySelector('[data-cell="sag"]').innerText=e.Utilities.numberFormat(t[0],!0),this.el.querySelector('[data-cell="tan"]').innerText=e.Utilities.numberFormat(t[1],!0)},n.prototype.updateGraphs=function(e){var t=e.hasGraph(this.source,this.propertyName,this.fieldName);this.el.querySelector('[data-cell="graph"] input[type="checkbox"]').checked=t},n.prototype.onGraphChange=function(){this.toggleGraph(this.source,this.propertyName,this.fieldName)},e.AbcdPropertyRow=a,e.InputPropertyRow=t,e.AbcdQPropertyRow=n}(window.LaserCanvas),function(e){e.PropertiesPanel=function(t,a){var n,i,r=null,o=document.createElement("div"),s=null,l=[],c=function(){o.removeAttribute("data-visible"),v(),r=null,document.removeEventListener("mousedown",p,!1),document.removeEventListener("touchstart",d,!1),s&&s.hide()},p=function(e){for(var t=e.target,a=/sellmeierPanel/;t&&t!==o&&!a.test(t.className);)t=t.parentNode;t||c()},d=function(e){if(1===e.touches.length)return p.call(this,e.touches.item(0))},h=function(e,t){var n="type"===e;r.set(e,t),a.update(!0,n),n&&y(r)},u=function(){r.name=this.value,a.update()},A=function(e){switch(e.which||e.keyCode){case 10:case 13:case 27:return this.blur(),!1}},m=function(){a.removeElement(r),r=null,c()},g=function(){var t=function(){var e=.001*a.get("wavelength");s.setApplyAction(f),s.updateCalculation(e)};s?(s.show(),t()):(s=new e.Sellmeier,t())},f=function(t){e.Utilities.foreach(t,function(e,t){r.canSetProperty(e)&&r.set(e,t)}),a.update(!0)},v=function(){var e;for(o.querySelector("h1 input").blur();e=o.querySelector("tbody tr");)e.parentNode.removeChild(e)},y=function(t){var n,i,s,c;r=t,v(),i=(n=r).userProperties(),s=o.querySelector("tbody"),c=i.some(function(e){return"refractiveIndex"===e.propertyName}),o.querySelector("h1 input").value=n.name,o.setAttribute("data-can-delete",!1===i.canDelete?"false":"true"),o.setAttribute("data-has-refractive-index",c),l=i.filter(function(e){return a.showElementProperty(e.propertyName)&&n.canSetProperty(e.propertyName)}).map(function(t){return new e.InputPropertyRow(t,n,h).appendTo(s)})};return o.innerHTML=e.PropertiesPanel.template,o.className="propertiesPanel",i=function(e,t){o.querySelector(e).onclick=t},e.localize(o),e.Utilities.draggable(o,{handle:o.querySelector(".dragbar")}),(n=o.querySelector("h1 input")).onkeyup=n.onchange=u,n.onkeydown=A,i('button[data-action="close"]',c),i('button[data-action="sellmeier"]',g),i('button[data-action="delete"]',m),document.body.appendChild(o),t.addEventListener("elementClick",function(e,t){var a,n,i,r,s,l;t&&!1!==t.showProperties&&(y(t),a=e.pageX,n=e.pageY,s=window.innerWidth,l=window.innerHeight,"true"!==o.getAttribute("data-visible")&&(document.addEventListener("mousedown",p,!1),document.addEventListener("touchstart",d,!1)),o.setAttribute("data-visible","true"),i=o.offsetWidth,r=o.offsetHeight,a=Math.max(0,Math.min(a-.5*i,s-i)),n=Math.max(0,Math.min(n+16,l-r)),o.style.left=a+"px",o.style.top=n+"px")}),{update:function(){for(var e of l)e.update()}}},e.PropertiesPanel.template=['<div class="dragbar"></div>',"<h1>",'<input type="text" data-action="name" />','<button data-action="close">X</button>',"</h1>",'<table class="banded">',"<thead>","<tr>","<th>Property</th>",'<th colspan="2">Value</th>',"</tr>",'<tr data-property-name="">',"<td><label></label></td>",'<td><input type="text"></td>','<td data-content="unit"></td>',"</tr>","</thead>","<tbody>","</tbody>","</table>",'<div class="lcbuttons">','<button class="lcbutton padded" data-action="sellmeier">','<label data-localize="Sellmeier..."></label>',"</button>",'<button class="lcbutton padded" data-action="delete">','<label data-localize="Delete"></label>',"</button>","</div>"].join("")}(window.LaserCanvas),function(e){var t=function(e,t,a){this.prop=e,this.source=t,this.onChange=a,this.isFocused=!1,this.lastValue="",this.el=this.init(),this.input=this.el.querySelector("input"),this.select=this.el.querySelector("select"),this.update(),this.updateInputHint()};t.template=['<button data-step="-1">&minus;</button>','<span class="input">','<input type="text" />',"</span>",'<button data-step="+1">+</button>','<span class="selector">',"<select></select>","</span>"].join(""),t.prototype.init=function(){var a,n,i,r,o=this,s=document.createElement("div");return s.className="propertyInput",s.innerHTML=t.template,(a=s.querySelector("input")).onkeydown=o.onInputKeydown.bind(o),a.onkeyup=o.onInputKeyup.bind(o),a.onchange=o.onInputChange.bind(o),a.onfocus=o.onInputFocus.bind(o),a.onblur=o.onInputBlur.bind(o),this.prop.hasOwnProperty("standard")?(r=s.querySelector("select"),s.setAttribute("data-has-standard","true"),o.prop.standard.forEach(function(e){var t=document.createElement("option");t.value=e,t.innerText=e,r.insertBefore(t,r.firstChild)}),r.onchange=o.onSelectChange.bind(o),setTimeout(function(){r.value=o.get()},0)):this.prop.hasOwnProperty("increment")?(n=s.querySelectorAll("button"),i=function(){var e=+this.getAttribute("data-step");o.increment(e*o.prop.increment)},e.Utilities.foreach(n,function(){this.onclick=i})):e.Utilities.foreach(s.querySelectorAll("button"),function(){this.disabled=!0}),s},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.get=function(){return this.isFocused?this.source.expression(this.prop.propertyName):e.Utilities.numberFormat(this.source.get(this.prop.propertyName))},t.prototype.getValue=function(){return this.source.get(this.prop.propertyName)},t.prototype.update=function(t){if(!this.isFocused||void 0!==t){var a="number"==typeof(t=t||this.get())?e.Utilities.numberFormat(t):t;this.input.value!==a&&(this.input.value=a),this.select.value=t}},t.prototype.updateInputHint=function(){this.input.setAttribute("data-expression",isNaN(this.source.expression(this.prop.propertyName))?"true":"false")},t.prototype.onInputFocus=function(){this.isFocused=!0,this.lastValue=this.input.value,this.update(this.source.expression(this.prop.propertyName))},t.prototype.onInputBlur=function(){this.isFocused=!1,this.update(),this.updateInputHint()};t.prototype.onInputKeydown=function(e){switch(e.which||e.keyCode){case 13:case 10:this.input.blur();break;case 27:this.input.value=this.lastValue,this.input.blur();break;case 38:return this.increment(1*this.prop.increment),!1;case 40:return this.increment(-1*this.prop.increment),!1}},t.prototype.onInputKeyup=function(){var e=this.input.value;""!==e&&(this.fireChangeEvent(e),this.updateInputHint())},t.prototype.onInputChange=function(){this.fireChangeEvent(this.input.value)},t.prototype.increment=function(e){var t,a=this.getValue();e&&(t=Number.isInteger(e)?e>0?e*(Math.floor(a/e)+1):-e*(Math.ceil(a/-e)-1):a+e,this.prop.hasOwnProperty("min")&&t<this.prop.min||this.prop.hasOwnProperty("max")&&t>this.prop.max||(this.prop.hasOwnProperty("wrap")&&t>this.prop.wrap&&(t-=2*this.prop.wrap),this.prop.hasOwnProperty("wrap")&&t<-this.prop.wrap&&(t+=2*this.prop.wrap),this.update(t),this.fireChangeEvent(t),this.updateInputHint()))},t.prototype.onSelectChange=function(){this.fireChangeEvent(+this.select.value),this.select.value=""},t.prototype.fireChangeEvent=function(e){this.onChange(e)},e.PropertyInput=t}(window.LaserCanvas),function(e){var t=function(e,t,a){this.prop=e,this.source=t,this.onChange=a,this.el=this.init(e),this.select=this.el.querySelector("select"),this.update()};t.template=["<select />"].join(""),t.prototype.init=function(){var e,a,n=document.createElement("div");for(var i of(n.className="selectInput",n.innerHTML=t.template,e=n.querySelector("select"),this.prop.options))(a=document.createElement("option")).value=i,a.innerText=i,e.appendChild(a);return e.onchange=this.onSelectChange.bind(this),n},t.prototype.appendTo=function(e){return e.appendChild(this.el),this},t.prototype.get=function(){return this.source.get(this.prop.propertyName)},t.prototype.update=function(){this.select.value=this.get()},t.prototype.onSelectChange=function(){this.fireChangeEvent(this.select.value)},t.prototype.fireChangeEvent=function(e){this.onChange(e)},e.SelectInput=t}(window.LaserCanvas),function(e){e.Render=function(t,a,n){var i={left:0,top:0},r={xWorld:0,yWorld:0,s:1,xCanvas:0,yCanvas:0},o={isDrag:!1,hasMoved:!1,element:null,ptStart:null,ptsStart:null,isPan:!1,lastTouch:null},s={elementClick:[],insertMove:[]},l=e.Render.interaction.layout,c={showDistance:!0,showAnnotation:!1},p=null,d=function(){return n.getContext("2d")},h=function(e,t,a){return{x:r.xCanvas+(e-r.xWorld)*r.s,y:r.yCanvas-(t-r.yWorld)*r.s,r:r.s*(a||0)}},u=function(e){return t=e.pageX-i.left,a=e.pageY-i.top,{x:r.xWorld+(t-r.xCanvas)/r.s,y:r.yWorld-(a-r.yCanvas)/r.s};var t,a},A=function(){m(o.element,o.isDrag?"drag":"hover")},m=function(e,t){var i,r,o=n.parentNode.querySelector(".highlight");e?(o.setAttribute("data-state",t||"hover"),r=e.location(),i=h(r.x0||r.x,r.y0||r.y),o.style.left=i.x.toFixed(2)+"px",o.style.top=i.y.toFixed(2)+"px"):o.removeAttribute("data-state"),a.highlightElement(e)},g=function(e){document.removeEventListener("mouseup",g,!1),t.dragElementEnd(),o.isDrag=o.isPan=!1},f=function(e){o.element?t.dragElementStart(e,o.element)&&(o.isDrag=!0,o.ptStart=e):(o.ptStart=h(e.x,e.y),o.isPan=!0),(o.isDrag||o.isPan)&&document.addEventListener("mouseup",g,!1),o.hasMoved=!1},v=function(a){var i=u(a);o.isPan?o.ptStart=C.call(this,h(i.x,i.y)):o.isDrag?o.element&&x.call(this,i):function(a){var i,s,c=e.Render.interaction;switch(l){case c.insert:(s=P.call(this,a,"insertElement")).canvas=h(s.x,s.y),N("insertMove",s);break;case c.inspect:default:l===c.inspect&&P.call(this,a),i=t.elementAtLocation(a,e.Render.tolerance/r.s),!o.element&&i?n.classList.add("hoverOverElement"):o.element&&!i&&n.classList.remove("hoverOverElement"),o.element=i,A()}}.call(this,i),l===e.Render.interaction.inspect&&P.call(this,i),A()},y=function(a){var n=e.Render.interaction,i=u(a),s=t.elementAtLocation(i,e.Render.tolerance/r.s);switch(l){case n.inspect:case n.layout:o.element=s,f.call(this,i),a.preventDefault&&a.preventDefault()}},b=function(e){o.element&&!o.hasMoved&&N("elementClick",e,o.element)},w=function(e){E.call(this,Math.pow(2,-.001*e.deltaY)),v.call(this,e)},x=function(e){o.ptLast=e,t.dragElement(e,o.ptStart,o.element),!o.hasMoved&&Math.abs(e.x-o.ptStart.x)+Math.abs(e.y-o.ptStart.y)>3&&(o.hasMoved=!0)},C=function(e){return r.xWorld-=(e.x-o.ptStart.x)/r.s,r.yWorld+=(e.y-o.ptStart.y)/r.s,D.call(this),e},E=function(e){r.s*=e,D.call(this)},I=function(e,t){var a=[t||u(e.touches.item(0)),u(e.touches.item(1))];return a.w=Math.sqrt((a[0].x-a[1].x)*(a[0].x-a[1].x)+(a[0].y-a[1].y)*(a[0].y-a[1].y))||1,a},S=function(e){0===e.touches.length&&(document.removeEventListener("touchend",S,!1),o.hasMoved||b(o.lastTouch),o.isDrag=o.isPan=!1,o.element=null,A())},B=function(e){var t,a=o.ptsStart;1===e.touches.length?v.call(this,e.touches.item(0)):2===e.touches.length&&(t=I(e),o.ptStart=C.call(this,h(.5*(t[0].x+t[1].x),.5*(t[0].y+t[1].y))),E.call(this,t.w/a.w),A()),o.hasMoved=!0},M=function(a){var n,i=a.touches.item(0),s=i?u(i):null;1===a.touches.length?((n=t.elementAtLocation(s,e.Render.tolerance/r.s))&&(o.element=n,f.call(this,s)),o.ptStart=s,o.hasMoved=!1,o.lastTouch=i,document.addEventListener("touchend",S,!1)):2===a.touches.length&&(o.ptsStart=I(a,s),o.ptStart=h(.5*(o.ptsStart[0].x+o.ptsStart[1].x),.5*(o.ptsStart[0].y+o.ptsStart[1].y)),o.hasMoved=!0),a.preventDefault()},P=function(a,n){var i,r,o,s=e.Enum.modePlane,l=e.Utilities.numberFormat,c=t.segmentNearLocation(a,n),p=h(c.x,c.y),d=document.querySelector(".laserCanvasInspect"),u=d.querySelector(".ellipse");return d.style.left=Math.round(p.x)+"px",d.style.top=Math.round(p.y)+"px",n||(r=t.inspectSegment(c,s.sagittal).w,o=t.inspectSegment(c,s.tangential).w,d.querySelector('[data-dimension="sag"]').innerHTML=l(r),d.querySelector('[data-dimension="tan"]').innerHTML=l(o),isNaN(r)||isNaN(o)?u.style.display="none":(i=Math.max(r,o),u.style.width=o/i+"em",u.style.height=r/i+"em",u.style.display="inline-block")),c},N=function(e,t){var a,n=s[e];for(a=0;a<n.length;a+=1)n[a].apply(this,Array.prototype.slice.call(arguments,1))},T=function(e,t,a,n,i){var r=h(t,a);return d().fillText(e,r.x+15*(n||0),r.y+15*(i||0)),this},L=function(){return d().save(),this},k=function(){return d().restore(),this},D=function(){L(),d().font='11pt "Open Sans",Helvetica,Arial,sans-serif',e.Render.update(t,this,c),k(),"undefined"!=typeof globalRenderSvg&&globalRenderSvg.update()};!function(e){var t,a={click:b,mousemove:v,mousedown:y,touchstart:M,touchmove:B,wheel:w};for(t in a)a.hasOwnProperty(t)&&n.addEventListener(t,function(t){return function(a){t.call(e,a)}}(a[t]),!1);window.LaserCanvas.app.addEventListener("interactionChange",function(t){e.setInteraction(t)})}(this),this.addEventListener=function(e,t){var a,n=s[e];for(a=n.length-1;a>=0&&n[a]!==t;a-=1);a<0&&n.push(t)},this.getCanvas=function(){return n},this.getTransform=function(){return r},this.getVariables=function(){return p?p():{}},this.highlightElement=m,this.onInsert=function(e,a){var n=u(e),i=t.insertElement(n,a);N("elementClick",e,i)},this.onResize=function(){i=e.Utilities.elementOffset(n),r.xCanvas=.5*n.width,r.yCanvas=.5*n.height,D.call(this)},this.property=function(e,t){if(void 0===t)return c[e];switch(e){case"showDistance":case"showAnnotation":c[e]=t,D.call(this)}},this.removeEventListener=function(e,t){var a,n=s[e];for(a=n.length-1;a>=0;a-=1)n[a]===t&&n.splice(a,1)},this.resetTransform=function(){r.xWorld=0,r.yWorld=0,r.s=1},this.setInteraction=function(t){l=t,document.body.setAttribute("data-interaction",l),l===e.Render.interaction.inspect&&P.call(this,{x:0,y:0})},this.setVariablesGetter=function(e){return p=e,this},this.triggerEvent=function(e,t){if("touchmove"===e)return B.apply(this,Array.prototype.slice.call(arguments,1))},this.update=D,this.arc=function(e,t,a,n,i,r){var o=h(e,t,a);return d().arc(o.x,o.y,o.r,n,i,r),this},this.beginPath=function(){return d().beginPath(),this},this.centerText=function(e,t,a,n,i){var r=d();L(),r.textAlign="center",T(e,t,a,n,i),k()},this.clear=function(){return n.getContext("2d").clearRect(0,0,n.width,n.height),this},this.createPattern=function(e){var t=d(),a=t.createPattern(e,"repeat");return t.fillStyle=a,this},this.drawImage=function(e,t,a,n){var i=d(),o=h(t,a),s=Math.max(.3,Math.min(2,r.s));return i.save(),i.translate(o.x,o.y),i.rotate(n),i.scale(s,s),i.translate(-e.width/2,-e.height/2),i.drawImage(e,0,0),i.restore(),this},this.drawPath=function(e,t,a,n,i){var o,s,l,c,p=null,h=/(m|l)\s*([\d+-.]+)[, ]([\d+-.]+)/i,u=d(),A=r.s,m={x:t||0,y:a||0},g=e.match(/[a-df-z][^a-df-z]*/gi),f=/[fsz]*$/i.exec(e);for(n=n||0,i=i||1,f=f||"S",u.save(),u.translate(-r.xWorld*A,r.yWorld*A),u.translate(t*A,-a*A),u.translate(r.xCanvas,r.yCanvas),u.rotate(n||0),this.beginPath(),u.moveTo(m.x*A,m.y*A),o=0;o<g.length;o+=1)(s=h.exec(g[o]))&&(c=s[1],l={x:+s[2],y:+s[3]},"M"===c||"L"===c?m=l:(m.x+=l.x*i,m.y+=l.y*i),"m"===c.toLowerCase()?u.moveTo(m.x*A,-m.y*A):u.lineTo(m.x*A,-m.y*A),null===p&&(p={x:m.x,y:m.y}));return/z/i.test(f)&&p&&u.lineTo(p.x*A,-p.y*A),/f/i.test(f)&&u.fill(),/s/i.test(f)&&this.stroke(),u.restore(),this},this.fillText=T,this.lineTo=function(e,t){var a=h(e,t);return d().lineTo(a.x,a.y),this},this.moveTo=function(e,t){var a=h(e,t);return d().moveTo(a.x,a.y),this},this.restore=k,this.translate=function(e,t){var a=h(e,t);return d().translate(a.x-r.xCanvas,a.y-r.yCanvas),this},this.save=L,this.setStroke=function(e,t){var a=d();return a.strokeStyle=e,a.lineWidth=t,this},this.stroke=function(){return d().stroke(),this}}}(window.LaserCanvas),function(e){e.Render.update=function(t,a,n){var i,r=a.getVariables(),o=(n||{}).drawMethod||e.theme.current.drawMethod||"draw",s=function(t,n,i){var o,s,c,p=e.Enum.renderLayer,d=e.Enum.modePlane,h=t.location(),u=t.get("distanceToNext",r),A=n.location();switch(i){case p.axis:a.beginPath(),a.setStroke("#000",1),a.moveTo(h.x,h.y),a.lineTo(A.x,A.y),a.stroke();break;case p.distance:u>0&&"function"==typeof a.centerText&&a.centerText(Math.round(u),(h.x+A.x)/2,(h.y+A.y)/2,0,1);break;case p.sagittal:case p.tangential:s=i===p.sagittal?d.sagittal:d.tangential,o=t.abcdQ[s],c=t.get("refractiveIndex")||1,o&&l(h,{dist:u,z0:o.z0,w0:.1*o.w0,zR:o.zR,n:c},s)}},l=function(t,n,i){var r=Math.cos(t.q),o=Math.sin(t.q),s=n.dist,l=n.z0*n.n,c=n.w0,p=n.zR*n.n,d=0,h=[],u=-l/p,A=(s-l)/p,m=e.Render.modePoints,g=m.wz,f=m.ww,v=function(e,n,i){var s=t.x+r*e-o*n*.25,l=t.y+o*e+r*n*.25;i?a.moveTo(s,l):a.lineTo(s,l)},y=function(e,t,a){h.push({x:e,y:t}),v(e,t,a)},b=function(t){return e.systemAbcd.propagateParameters(n,n.n,t).w};for(a.beginPath(),a.setStroke(e.theme.current.mode[i],[1,2][i]),y(0,b(0),!0),d=0;d<g.length&&g[d]<u;d+=1);for(;d<g.length&&g[d]<=A;d+=1)y(g[d]*p+l,f[d]*c);y(s,b(s)),function(){for(var e,t=!0;h.length>0;)e=h.pop(),v(e.x,-e.y,t),t=!1}(),a.stroke(),l>0&&l<s&&(a.beginPath(),v(l,c,!0),v(l,-c),a.stroke())},c=function(n){var i,r,l=t.elements(),c=l[0];for(i=0;i<l.length;i+=1)r=c,c=i<l.length-1?l[i+1]:null,"function"==typeof r[o]&&r[o](a,n),null!==c?s(r,c,n):t.get("configuration")===e.System.configuration.ring&&s(r,l[0],n)};i=e.Enum.renderLayer,a.clear(),c(i.axis),c(i.tangential),c(i.sagittal),c(i.optics),n.showDistance&&c(i.distance),n.showAnnotation&&c(i.annotation)},e.Render.tolerance=15,e.Render.modePoints={wz:[-6,-4,-2,-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1,2,4,6],ww:[6.08,4.12,2.24,1.41,1.28,1.17,1.08,1.02,1,1.02,1.08,1.17,1.28,1.41,2.24,4.12,6.08]},e.Render.interaction={insert:"insert",inspect:"inspect",layout:"layout"}}(window.LaserCanvas),window.LaserCanvas.RenderSvg=function(e){"use strict";var t=window.LaserCanvas.RenderSvg.svgNS,a=document.createElementNS(t,"svg"),n=null,i="#000",r=1,o=[],s=null,l=function(e,t,a){var i;return n&&(i=n.getAttributeNS(null,"d"),i+=window.LaserCanvas.Utilities.stringFormatPrecision(2," {0} {1} {2}",e,t,-a),n.setAttributeNS(null,"d",i)),this},c=function(e,n,r,o,s,l){var c=document.createElementNS(t,"text"),p=document.createTextNode(e);return c.setAttributeNS(null,"x",n),c.setAttributeNS(null,"y",-r),c.setAttributeNS(null,"transform",window.LaserCanvas.Utilities.stringFormatPrecision(2,"translate({0}, {1})",12*(o||0),12*(s||0))),l&&c.setAttributeNS(null,"text-anchor",l),c.setAttributeNS(null,"fill",i),c.setAttributeNS(null,"stroke","none"),c.appendChild(p),a.appendChild(c),this};this.download=function(){var e,t,n=document.createElement("a");document.body.appendChild(a),(t=a.getBBox()).width>0&&t.height>0&&a.setAttributeNS(null,"viewBox",window.LaserCanvas.Utilities.stringFormatPrecision(2,"{0} {1} {2} {3}",t.x,t.y,t.width,t.height)),e="data:image/svg+xml;utf-8,"+a.outerHTML,n.href=e,n.target="_blank",n.style.position="fixed",n.download="LaserCanvas.svg",n.click(),a.parentNode.removeChild(a)},this.getVariables=function(){return s?s():{}},this.setVariablesGetter=function(e){return s=e,this},this.update=function(){return window.LaserCanvas.Render.update(e,this,{drawMethod:"wireframe",showDistance:!0}),this},this.centerText=function(e,t,a,n,i){return c(e,t,a,n,i,"middle")},this.beginPath=function(){return(n=document.createElementNS(t,"path")).setAttributeNS(null,"d",""),this},this.clear=function(){for(;a.lastChild;)a.removeChild(a.lastChild);return this},this.createPattern=function(e){return this},this.drawImage=function(e,t,a,n){return this},this.drawPath=function(e,t,a,i,r){var o=window.LaserCanvas.Utilities,s=/[fsz]*$/i.exec(e);return e=e.replace(/([ml]\s+[\d+-.]+ )([\d+-.]+)/gi,function(e,t,a){return o.stringFormat("{0}{1}",t,-+a)}).replace(/[fs]/gi,""),this.beginPath(),n.setAttributeNS(null,"d",e),n.setAttributeNS(null,"transform",o.stringFormatPrecision(2,"translate({0}, {1}) rotate({2})",t,-a,180*i/Math.PI)),/s/i.test(s)&&this.stroke(),this},this.fillText=function(e,t,a,n,i){return c(e,t,a,n,i)},this.lineTo=function(e,t){return l("L",e,t)},this.moveTo=function(e,t){return l("M",e,t)},this.restore=function(){return o.splice(0,1),this},this.translate=function(e,t){return(o[0]||a).setAttributeNS(null,"transform",window.LaserCanvas.Utilities.stringFormatPrecision(2,"translate({0}, {1})",e,-t)),this},this.save=function(){var e=document.createElementNS(t,"g");return(o[0]||a).appendChild(e),o.splice(0,0,e),this},this.setStroke=function(e,t){return i=e,r=t,this},this.stroke=function(){return n&&(n.setAttributeNS(null,"stroke",i),n.setAttributeNS(null,"stroke-width",r),(o[0]||a).appendChild(n)),this},a.setAttribute("version","1.1"),a.setAttribute("xmlns",window.LaserCanvas.RenderSvg.svgNS),a.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttributeNS(null,"viewBox","-250 -250 500 500"),a.setAttributeNS(null,"fill","none")},window.LaserCanvas.RenderSvg.svgNS="http://www.w3.org/2000/svg",function(e){"use strict";e.System=function(){var t=[],a={update:[],change:[]},n={},i={name:"System",configuration:e.System.configuration.linear,wavelength:new e.Equation(1e3),physicalLength:0,opticalLength:0,groupDelayDispersion:0,modeSpacing:0,initialWaist:new e.Equation(100)},r=null,o=function(a,n){var r,o,s,l,c,p,d,h,u,A=null,m=e.Math.Vector,g=i.configuration===e.System.configuration.ring?t.length:t.length-1;for(r=0;r<g;r+=1)n&&!t[r].canSetProperty(n)||(o=t[r].location(),u=t[r].get("distanceToNext"),s=new m([Math.cos(o.q),Math.sin(o.q)]),l=new m([a.x-o.x,a.y-o.y]),c=(c=s.dot(l))<0?0:c>u?u:c,p=o.x+c*Math.cos(o.q),d=o.y+c*Math.sin(o.q),h=(a.x-p)*(a.x-p)+(a.y-d)*(a.y-d),(!A||h<A.r2)&&(A={x:p,y:d,z:c,q:o.q,indx:r,r2:h}));return A},s=function(e){var t;if(a.hasOwnProperty(e))for(t=0;t<a[e].length;t+=1)a[e][t].call(this)},l=function(){return r?r():{}},c=function(a,n){var r,o,s,c,p,d,h,u,A,m,g,f=l(),v=void 0!==a&&a>=0?a:0,y=void 0!==n?n:t.length-1,b=t[v].location();for(r=v;r<=y;r+=1)c=(o=t[r]).location(r===v?null:b),s=o.get("distanceToNext",f),b.q=c.q,b.x+=s*Math.cos(b.q),b.y+=s*Math.sin(b.q);A=e.Math.Vector,m=t[0],g=t[t.length-1],i.configuration===e.System.configuration.ring?(u=(h=new A(m.loc.x-g.loc.x,m.loc.y-g.loc.y)).norm(),h=h.normalize(),p=new A(1,0).rotate(-m.loc.q),d=new A(1,0).rotate(-g.loc.p),m.loc.p=h.atan2(),m.set("deflectionAngle",Math.atan2(h.cross(p),h.dot(p))),g.set("deflectionAngle",Math.atan2(d.cross(h),d.dot(h))),g.loc.q=h.atan2(),g.set("distanceToNext",u)):(m.loc.p=m.loc.q+Math.PI,g.set("distanceToNext",0),g.set("deflectionAngle",Math.PI))},p=e.systemAdjust(t,c,l),d=function(e,t){e&&c(),t&&s("change"),s("update")},h=function(){var a,n=e.localize,i={};e.Utilities.foreach(t,function(e,t){var r=t.type;i[r]=(i[r]||0)+1,a=n("symbol"+r)+i[r],"function"==typeof t.setName?t.setName(a):t.name=a})};return{abcd:function(){return n},addEventListener:function(e,t){var n;if(a.hasOwnProperty(e)){for(n=0;n<a[e].length;n+=1)if(a[e][n]===t)return;a[e].push(t)}},showElementProperty:function(t){switch(t){case"groupVelocityDispersion":case"groupDelayDispersion":return i.configuration===e.System.configuration.ultrafast}return!0},calculateAbcd:function(){n=e.systemAbcd(t,i,l())},canSetProperty:function(e){return{initialWaist:!0,wavelength:!0}[e]},createNew:function(a,n,o){e.SystemUtil.createNew(a,n,o,i,t,r),h(),c(),s("change"),s("update")},dragElement:function(e,t,a){p.drag(e,t)&&d()},dragElementEnd:function(e,t,a){p.end(e,t),d()},dragElementStart:function(e,t){return p.start(e,t)},elementAtLocation:function(a,n){var i,r;for(i=0;i<t.length;i+=1)if(((r=t[i]).atLocation||e.Element.atLocation).call(r,a,n))return r;return null},element:function(e){return t[e]},elements:function(){return t},expression:function(e){switch(e){case"wavelength":case"initialWaist":return i[e].expression();default:return console.error(`expression should not be called with propertyName=${e}`),""}},fromJson:function(a){e.SystemUtil.fromJson(a,i,t,this,r),h(),c(),s("change"),s("update")},get:function(e){var t=r(),a=i[e]&&i[e].value&&i[e].value(t);switch(e){case"wavelength":case"initialWaist":return a=i[e].value(t),Math.max(0,a);case"stability":return[(n.sag.mx[0][0]+n.sag.mx[1][1])/2,(n.tan.mx[0][0]+n.tan.mx[1][1])/2]}return i[e]},insertElement:function(a,n){var i,l=o(a,"insertElement"),p=t[l.indx],d=e.Element[n];return d.createGroup?(Array.prototype.splice.apply(t,[l.indx+1,0].concat(d.createGroup(p,l.z,r))),i=t[l.indx+1]):((i=new d(r)).set("distanceToNext",p.get("distanceToNext")-l.z),p.set("distanceToNext",l.z),i.init&&i.init(this),t.splice(l.indx+1,0,i)),h(),c(),s("change"),i},inspectSegment:function(a,n){var i=t[a.indx];return e.systemAbcd.propagateParameters(i.abcdQ[n],i.get("refractiveIndex")||1,a.z)},iterateElements:function(e,a){var n,i;for(a=Array.prototype.slice.call(arguments,1),n=0;n<t.length&&(i=t[n],!1!==e.apply(i,[n,i].concat(a)));n+=1);},onVariablesChange:function(a){t.forEach(function(e){e.onVariablesChange&&e.onVariablesChange()}),(a||this.get("configuration")===e.System.configuration.ring)&&c()},removeElement:function(e){var a,n,i=l(),r=1;for(a=t.length-2;a>=1;a-=1)if(t[a]===e){n=t[a-1],"function"==typeof e.removeGroup?r=e.removeGroup(n):n.set("distanceToNext",n.get("distanceToNext",i)+t[a].get("distanceToNext",i)),e.destroy&&e.destroy(),t.splice(a,r),h(),c(),s("change");break}},removeEventListener:function(e,t){var n;if(a.hasOwnProperty(e))for(n=a[e].length-1;n>=0;n-=1)a[e][n]===t&&a[e].splice(n,1)},segmentNearLocation:o,set:function(e,t){switch(e){case"wavelength":case"initialWaist":i[e].set(t)}s("update")},setVariablesGetter:function(e){r=e},toJson:function(){return e.SystemUtil.toJson(i,t)},type:"System",update:d,userProperties:function(){var t=e.System.configuration,a=[{propertyName:"wavelength",increment:10,min:100,max:5e3}];switch(i.configuration){case t.propagation:a.push({propertyName:"initialWaist",increment:10,min:10,max:5e3})}switch(a.push("physicalLength"),a.push("opticalLength"),i.configuration){case t.linear:case t.endcap:a.push("modeSpacing"),a.push("stability");break;case t.ultrafast:a.push("modeSpacing"),a.push("groupDelayDispersion"),a.push("stability");break;case t.ring:a.push("stability")}return a}}},e.System.configuration={ultrafast:"ultrafast",endcap:"endcap",linear:"linear",propagation:"propagation",ring:"ring"}}(window.LaserCanvas),function(e){e.systemAbcd=function(t,a,n){var i=e.Math.Matrix2x2,r=a.wavelength.value(n),o=a.initialWaist.value(n),s=function(e,a,n){return t[e].elementAbcd(a,n)},l=function(e,a,o,s){var l,c,p,d=t[e];return l=d.get("distanceToNext",n),c=d.spaceRefractiveIndex?d.spaceRefractiveIndex():d.get("refractiveIndex")||1,p=d.groupDelayDispersion?d.groupDelayDispersion(r,l):0,s&&(s.physicalLength+=l,s.opticalLength+=c*l,s.groupDelayDispersion+=p),new i(1,l/c,0,1)},c=function(e,t){var a=t[0][0],n=t[0][1],i=t[1][0],r=t[1][1],o=e.R,s=e.V,l=a+o*n,c=i+o*r,p=s*n,d=s*r,h=1/(l*l+p*p);return{R:h*(c*l+p*d),V:h*(l*d-c*p),stability:e.stability}},p=function(e,t){var a,n,i,r,o,s,l=Math.sqrt(t/(Math.PI*e.V));return 0===e.R?(a=1/0,r=l,o=0,s=Math.PI*r*r/t):(i=1/(n=(a=1/e.R)*e.V*(a*e.V)),r=l/Math.sqrt(1+i),o=-a/(1+n),s=Math.PI*r*r/t),{w:l,r:a,w0:r,z0:o,zR:s}},d=e.Enum.modePlane,h={sag:null,tan:null},u=function(e,t,a){e.abcdQ[a]=t,e.updateAbcdQ&&e.updateAbcdQ(t,a)},A=function(n,r,d){var h,A,m,g,f=e.System.configuration,v=i.eye();if(a.configuration===f.propagation){if(g=o,h={R:0,V:r/(Math.PI*g*g),stable:!0},d)for(m=0;m<t.length;m+=1)v=s(m,A,n).multiply(v),v=l(m,0,0,d).multiply(v)}else{for(A=1,m=0;m<t.length;m+=1)m>0&&(v=s(m,A,n).multiply(v)),m<t.length-1&&(v=l(m,0,0,d).multiply(v));switch(a.configuration){case f.ring:v=l(m-1,0,0,d).multiply(v),v=s(0,A,n).multiply(v);break;default:for(A=-1,m-=2;m>=0;m-=1)v=l(m).multiply(v),v=s(m,A,n).multiply(v)}h=function(e){var t,a,n,i,r=e.trace();return Math.abs(r)>2?{stable:!1,stability:r/2}:(t=e[0][0],a=e[0][1],e[1][0],i=4-(t+(n=e[1][1]))*(t+n),{R:(n-t)/(2*a),V:Math.sqrt(i)/(2*Math.abs(a)),stable:!0,stability:r/2})}(v)}if(h.stable)for(A=1,m=0;m<t.length;m+=1)m>0&&(h=c(h,s(m,A,n))),u(t[m],p(h,r),n),h=c(h,l(m));else for(m=0;m<t.length;m+=1)u(t[m],!1,n);return{mx:v,Q:h}};return a.physicalLength=a.opticalLength=a.groupDelayDispersion=0,h.sag=A(d.sagittal,r,a),h.tan=A(d.tangential,r),a.modeSpacing=299792.458/(2*a.opticalLength),h},e.systemAbcd.propagateParameters=function(e,t,a){var n=e.w0,i=t*e.zR,r=(a-t*e.z0)/i;return{w:n*Math.sqrt(1+r*r)}}}(window.LaserCanvas),function(e){e.systemAdjust=function(t,a,n){var i={},r=function(a,i){var r=function(e){var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return a;return-1}(i),o=i.location(),s=o.x-a.x,l=o.y-a.y,c=function(t,a){return{element:a,loc:e.Utilities.extend({},a.location(),{l:a.get("distanceToNext",n())}),index:t,canPivot:a.canSetProperty("outgoingAngle")}},p=function(n,o){for(var s,l={pivot:null,stretch:null,construct:null};n>=0&&n<t.length&&(!l.pivot||!l.stretch);n+=o)s=t[n],!l.pivot&&s.canSetProperty("outgoingAngle")&&(o<0||n>r)&&(l.pivot=c(n,s)),!l.stretch&&s.canSetProperty("distanceToNext",i)&&(l.stretch=c(n,s));return l.pivot&&l.stretch&&(l.construct=function(t,n,i){var r,o,s,l,c,p,d=e.Math.Vector,h=new d(a.x-t.loc.x,a.y-t.loc.y).scale(-i),u=new d(Math.cos(n.loc.q),Math.sin(n.loc.q)).scale(n.loc.l),A=h.subtract(u),m=new d(Math.cos(t.loc.q),Math.sin(t.loc.q));return A.norm()>1e-12?(r=Math.PI-Math.acos(u.normalizeDot(A)),c=Math.asin(A.normalize().cross(m)),p=h.cross(A)):(A=new d(0,0),r=Math.PI,c=0,p=0),s=(o=A.norm())*Math.cos(r),l=o*Math.sin(r),{a:u.norm(),b:A.norm(),c:h.norm(),cc:r,sincc:Math.sin(r),Bsincc:l,Bcoscc:s,B2sin2cc:l*l,BQ:c,CB:p,A:u,B:A,C:h}}(l.pivot,l.stretch,o)),l};a.x+=s,a.y+=l;var d={prev:p(r-1,-1),next:p(r,1),drag:c(r,i),offset:{dx:s,dy:l}};return d.stretchOnly=d.prev.construct&&d.prev.construct.A.dot(d.prev.construct.B)<0||d.next.construct&&d.next.construct.A.dot(d.next.construct.B)<0,d},o=function(t,n,r){var o,s,l,c,p=e.Math.Vector,d=i.prev,h=i.next;if(d.construct){if(s=new p(1,0).rotate(-d.stretch.loc.q),(o=new p(t.x-d.stretch.loc.x,t.y-d.stretch.loc.y).dot(s))>0)return d.stretch.element.set("distanceToNext",o),h.construct&&h.stretch.element.set("distanceToNext",d.stretch.loc.l+h.stretch.loc.l-o),a(d.index),!0}else if(s=new p(h.stretch.loc.l,0).rotate(-h.stretch.loc.q),l=new p((c={x:h.stretch.loc.x+s[0],y:h.stretch.loc.y+s[1]}).x-t.x,c.y-t.y),o=(s=s.normalize()).dot(l),s=s.scale(o),o>0)return h.stretch.element.set("distanceToNext",o),h.stretch.element.loc.x=c.x-s[0],h.stretch.element.loc.y=c.y-s[1],a(i.drag.index),!0;return!1},s=function(t,r,o){var s,l,c,p,d,h,u=e.Math.Vector,A=e.Utilities.extend,m=!0,g={},f=null,v=i.prev.pivot?i.prev.pivot.element.get("outgoingAngle"):null,y=function(e,n){var r,o,s,l,c,p=e.construct.cc,d=(e.construct.Bsincc,e.construct.Bcoscc),h=e.construct.B2sin2cc,A=new u(t.x-e.pivot.loc.x,t.y-e.pivot.loc.y).scale(-n),m=A.norm2()-h;return m>=0&&(o=d+(p>=.5*Math.PI?1:-1)*Math.sqrt(m),(o=Math.abs(o))>0)&&(e.stretch.element.set("distanceToNext",o),i.drag.canPivot&&(s=Math.atan2(A[1],A[0]),l=Math.asin(e.construct.sincc*o/(A.norm()||1)),c=s+e.construct.BQ+(e.construct.CB<0?-1:0===e.construct.CB?0:1)*l,-1===n?e.pivot.element.set("outgoingAngle",c,0===e.pivot.index):i.prev.construct||(i.drag.element.location({x:t.x,y:t.y,q:0}),i.drag.element.set("outgoingAngle",0,!0),a(0,i.next.pivot.index),r=i.next.pivot.element.location(),i.drag.element.set("outgoingAngle",A.atan2()-new u(r.x-t.x,r.y-t.y).atan2(),!0),a(0,i.next.pivot.index),i.next.pivot.element.set("outgoingAngle",i.next.pivot.loc.q),a(i.drag.index))),!0)};return i.prev.stretch&&(g=A(g,i.prev.stretch.element.loc),f=i.prev.stretch.element.get("distanceToNext",n())),i.prev.construct?i.next.construct?(m=y(i.prev,-1))&&(m=i.drag.canPivot?y(i.next,1)?(a(0,i.next.pivot.index),p=i.drag.element.location(),c=i.next.pivot.element.location(),d=new u(c.x-p.x,c.y-p.y).normalize(),h=new u(i.next.pivot.loc.x-p.x,i.next.pivot.loc.y-p.y).normalize(),l=Math.asin(d.cross(h)),i.drag.element.set("outgoingAngle",p.q+l),a(i.prev.pivot.index,i.next.pivot.index),i.next.pivot.element.set("outgoingAngle",i.next.pivot.loc.q),a(i.drag.index),!0):(i.prev.pivot.element.set("outgoingAngle",v),!1):(s=i.next.stretch.loc.l+i.prev.stretch.loc.l-i.prev.stretch.element.get("distanceToNext",n()))>0&&(i.next.stretch.element.set("distanceToNext",s),a(),!0)):(m=y(i.prev,-1))&&a(i.prev.pivot.index-1):m=y(i.next,1),!m&&i.prev.stretch&&(A(i.prev.stretch.element.loc,g),i.prev.stretch.element.set("distanceToNext",f)),m};return{start:function(e,t){return!!(i=r(e,t))},drag:function(e,t,a){return e.x+=i.offset.dx,e.y+=i.offset.dy,i.stretchOnly?o(e,t,a):s(e,t,a)},end:function(e,t,a){i={}}}}}(window.LaserCanvas),function(e){var t=function(t,a){return t===e.Element.Mirror.Type?new e.Element.Mirror(a):t===e.Element.Lens.Type?new e.Element.Lens(a):t===e.Element.Screen.Type?new e.Element.Screen(a):t===e.Element.Dispersion.Type?new e.Element.Dispersion(a):t===e.Element.Dielectric.Type?new e.Element.Dielectric(a):void 0};e.SystemUtil=e.SystemUtil||{},e.SystemUtil.toLocalStorage=function(e){window.localStorage&&window.localStorage.setItem("laserCanvasSystem",JSON.stringify(e))},e.SystemUtil.fromLocalStorage=function(e){e(JSON.parse(window.localStorage.getItem("laserCanvasSystem")))},e.SystemUtil.toJson=function(t,a){return{prop:e.Utilities.extend({},t),elements:a.map(function(e){return e.toJson()})}},e.SystemUtil.fromJson=function(a,n,i,r,o){for(var s of(e.Utilities.extend(n,a.prop),n.wavelength=new e.Equation(n.wavelength),n.initialWaist=new e.Equation(n.initialWaist),e.SystemUtil.resetElements(i),a.elements)){var l=t(s.type,o);l.fromJson(s),l.init&&!r&&console.warn("SystemJson.fromJson has no reference to system for element",l),l.init&&l.init(r),i.push(l)}e.Element.collectGroups(i),i[0].set("startOptic",!0),i[i.length-1].set("endOptic",!0)}}(window.LaserCanvas),function(LaserCanvas){var FLIP=-1,getVariables=function(e){var t=function(t){var a=e["Variable("+t+")"]||"0",n=(e["Range("+t+")"]||"0,1").split(",");return{value:+a,min:+n[0],max:+n[1]}};return{x:t("x"),y:t("y"),z:t("z")}},toNumber=function(expression,variables){if("number"==typeof expression)return expression;var expr=expression.replace(/(x|y|z)/g,function(e,t){return"("+variables[t].value+")"}).replace(/(\W)(sin|cos)(\W)/g,"$1Math.$2$3");return value=eval(expr),value},toExpression=function(e,t,a){var n,i=e.replace(/(z)/g,function(e,a){return`(${t[a].value})`});return n=+i,isNaN(n)?(a&&1!==a&&(i=`${a}*(${i})`),i):(a&&1!==a&&(n*=a),n)},addExpressions=function(e,t,a){var n=toExpression(t,a);return"number"==typeof e&&"number"==typeof n?e+n:`${e} + ${n}`},toBlockType=function(e){switch(e){case"CrystalInput":case"CrystalOutput":return LaserCanvas.Element.Dielectric.eType.Crystal;case"BrewsterInput":case"BrewsterOutput":return LaserCanvas.Element.Dielectric.eType.Brewster;case"PlateInput":case"PlateOutput":return LaserCanvas.Element.Dielectric.eType.Plate}},toDielectricType=function(e){switch(e){case"CrystalInput":case"CrystalOutput":return LaserCanvas.Element.Dielectric.eType.Crystal;case"BrewsterInput":case"BrewsterOutput":return LaserCanvas.Element.Dielectric.eType.Brewster;case"PlateInput":case"PlateOutput":return LaserCanvas.Element.Dielectric.eType.Plate}},findElement=function(e,t){return e.find(function(e){return e.name===t})},textElementsToJson=function(e,t){if(!["Mirror","Source"].includes(e[0].type))throw"First element must be a mirror or source.";for(var a=[],n=0;n<e.length;n+=1){var i,r=e[n],o={name:r.name,loc:{},prop:{}};switch(r.type){case"Mirror":o.type=LaserCanvas.Element.Mirror.Type,o.prop={radiusOfCurvature:toExpression(r.ROC,t),angleOfIncidence:toExpression(r.FaceAngle,t,FLIP)};break;case"ThinLens":o.type=LaserCanvas.Element.Lens.Type,o.prop={focalLength:toExpression(r.FL,t)};break;case"Screen":if(r.LinkedTo){console.warn("Screen inside block not supported.");continue}o.type=LaserCanvas.Element.Screen.Type;break;case"Source":o.type=LaserCanvas.Element.Screen.Type;break;case"BrewsterInput":case"CrystalInput":case"PlateInput":if(!(i=findElement(e,r.LinkedTo)))throw"Unable to find linked output element "+r.LinkedTo+".";o.type=LaserCanvas.Element.Dielectric.Type,o.prop={type:toDielectricType(r.type),refractiveIndex:toExpression(r.RefractiveIndex,t),flip:r.Flipped||!1,curvatureFace1:toExpression(r.ROC,t),curvatureFace2:toExpression(i.ROC,t),thickness:toExpression(r.Thickness,t)},"CrystalInput"===r.type?o.prop.faceAngle=toExpression(r.FaceAngle,t):"PlateInput"===r.type&&(o.prop.angleOfIncidence=toExpression(r.FaceAngle,t)),"ThermalLens"===e[n+1].type&&(o.prop.thermalLens=toExpression(e[n+1].FL,t));break;case"ThermalLens":continue;case"BrewsterOutput":case"CrystalOutput":case"PlateOutput":if(a.push({type:LaserCanvas.Element.Lens.Type,prop:{}}),!(i=findElement(e,r.LinkedTo)))throw"Unable to find linked input element "+r.LinkedTo+".";o.type=LaserCanvas.Element.Dielectric.Type,o.prop={type:toDielectricType(r.type)},"CrystalOutput"===r.type?o.prop.faceAngle=toExpression(i.FaceAngle,t):"PlateOutput"===r.type&&(o.prop.angleOfIncidence=toExpression(i.FaceAngle,t));break;case"PrismA":o.type=LaserCanvas.Element.Dispersion.Type,o.prop={type:LaserCanvas.Element.Dispersion.eType.Prism,refractiveIndex:toExpression(r.RefractiveIndex,t)};break;case"PrismB":o.type=LaserCanvas.Element.Dispersion.Type,o.prop={type:LaserCanvas.Element.Dispersion.eType.Prism};break;case"Flat":default:r.DistanceToNext&&(a[a.length-1].prop.distanceToNext=addExpressions(a[a.length-1].prop.distanceToNext,r.DistanceToNext,t));continue}o.prop.distanceToNext=void 0!==r.DistanceToNext?toExpression(r.DistanceToNext,t):0,a.push(o)}if(a.length<2)throw"Need at least two elements in the cavity.";return a[0].prop.startOptic=!0,a[a.length-1].prop.endOptic=!0,a},reSystemName=/^\[([^\]]+)\]$/m,reSystemType=/^(Resonator|Propagation)$/m,reIgnore=/^\s*(?:Selected|Astigmatic|)\s*$/m,rePropertyDeclaration=/^\s*([A-Za-z][^\s]*)\s*=\s*(.*)$/m,reBooleanProperty=/^(Flipped)$/m,reElementDeclaration=/^(Mirror|ThinLens|Screen|BrewsterInput|BrewsterOutput|CrystalInput|CrystalOutput|PlateInput|PlateOutput|ThermalLens|PrismA|PrismB|Flat|Source)\s*@\s*([^\s]+)\s*{$/m,reRendererDeclaration=/^Renderer\s+(1d|2d|3d|Inventory|Solver|SystemGraph|VertexGraph)\s*\{$/m,parseTextFile=function(e){var t,a=e.replace(/\n\r/g,"\n").replace(/\r\n/g,"\n").split("\n"),n=a.splice(0,2),i={elements:[],renderers:[]},r=i,o=[r];if(!(t=reSystemName.exec(n[0])))throw"Wrong file format. Expected [SystemName] in first row.";if(r.name=t[1],!(t=reSystemType.exec(n[1])))throw"Unable to process system type "+n[1];for(var s of(r.type=t[1],a))if(!reIgnore.test(s)){if(reSystemName.test(s))throw"Only one system can be imported at once.";if(t=rePropertyDeclaration.exec(s)){var l=t[1],c=t[2];r[l]=c}else if(t=reBooleanProperty.exec(s))r[t[1]]=!0;else if(t=reElementDeclaration.exec(s))r={type:t[1],name:t[2]},i.elements.push(r),o.push(r);else if(t=reRendererDeclaration.exec(s))r={type:t[1]},i.renderers.push(r),o.push(r);else{if("}"!==s)throw"Unknown line "+s;if(o.length<=1)throw"Bad file format, too many closing -}-";r=o.pop()}}return i},textFileToJson=function(e){var t=parseTextFile(e),a=getVariables(t),n={variables:a,prop:{configuration:"Resonator"===t.type?LaserCanvas.System.configuration.linear:"Propagation"===t.type?LaserCanvas.System.configuration.propagation:LaserCanvas.System.configuration.linear,name:t.name,wavelength:toExpression(t.Wavelength,a)},elements:textElementsToJson(t.elements,a)};return LaserCanvas.Utilities.extend(n.elements[0].loc,{x:toNumber(t.StartX,a),y:FLIP*toNumber(t.StartY,a),q:FLIP*toNumber(t.Rotation,a)*Math.PI/180}),n},attachLoadListener=function(e,t){var a=function(){!function(e){var a=null;try{a=JSON.parse(e)}catch(e){}a=a||LaserCanvas.SystemUtil.textFileToJson(e),t(a)}(this.result)},n=function(){var e,t,i,r=this.files[0],o=new FileReader;!r||""!==r.type&&"text/plain"!==r.type&&"application/json"!==r.type||(o.onload=a,text=o.readAsText(r)),e=this,t=document.createElement("input"),i=e.parentElement,t.type=e.type,t.className=e.className,t.addEventListener("change",n),i.insertBefore(t,e),i.removeChild(e)};e.addEventListener("change",n)};LaserCanvas.SystemUtil=LaserCanvas.SystemUtil||{},LaserCanvas.SystemUtil.textFileToJson=textFileToJson,LaserCanvas.SystemUtil.attachLoadListener=attachLoadListener}(window.LaserCanvas),function(e){var t=[function(e){return!e.version&&!e.hasOwnProperty("system")&&e.hasOwnProperty("prop")&&e.hasOwnProperty("elements")&&(e.system={prop:e.prop,elements:e.elements},e.version=1,delete e.prop,delete e.elements),e}];e.SystemUtil=e.SystemUtil||{},e.SystemUtil.migrateJson=function(e){for(var a of t)e=a(e);return e},e.SystemUtil.CURRENT_VERSION=1}(window.LaserCanvas),function(e){var t=function(){var t=null;return t||((t={})[e.System.configuration.linear]={prop:{name:"Linear resonator",configuration:"linear",wavelength:1e3},elements:[{type:"Mirror",name:"M1",loc:{x:-125,y:0},prop:{distanceToNext:250,radiusOfCurvature:200,angleOfIncidence:0}},{type:"Mirror",name:"M2",prop:{radiusOfCurvature:200,angleOfIncidence:0}}]},t[e.System.configuration.endcap]={prop:{name:"End coated resonator",configuration:"endcap",wavelength:1e3},elements:[{type:"Dielectric",name:"D1",loc:{x:-125},prop:{type:"Endcap",refractiveIndex:1.5,curvatureFace1:-200,curvatureFace2:0,thermalLens:0,thickness:50,angleOfIncidence:0},priv:{}},{type:"Lens",name:"L1",prop:{focalLength:0}},{type:"Dielectric",name:"D2",loc:{},prop:{distanceToNext:200},priv:{}},{type:"Mirror",name:"M1",prop:{radiusOfCurvature:200}}]},t[e.System.configuration.propagation]={prop:{name:"Propagation",configuration:"propagation",wavelength:1e3,initialWaist:100},elements:[{type:"Screen",name:"I1",loc:{x:-125},prop:{distanceToNext:250}},{type:"Screen",name:"I2",prop:{}}]},t[e.System.configuration.ring]={prop:{name:"Ring resonator",configuration:"ring",wavelength:1e3},elements:[{type:"Mirror",name:"M1",loc:{x:-125,y:80,q:0},prop:{radiusOfCurvature:0,distanceToNext:250}},{type:"Mirror",name:"M2",loc:{},prop:{distanceToNext:250,radiusOfCurvature:0,angleOfIncidence:-30}},{type:"Mirror",name:"M3",loc:{},prop:{radiusOfCurvature:500,angleOfIncidence:-30}}]},t[e.System.configuration.ultrafast]={prop:{name:"Ultrafast resonator",configuration:"ultrafast",wavelength:800},elements:[{type:"Mirror",name:"M1",loc:{x:-150,y:0,p:3.441592653589793,q:.3},prop:{distanceToNext:300,radiusOfCurvature:0,angleOfIncidence:0}},{type:"Mirror",name:"M2",loc:{},prop:{distanceToNext:105,radiusOfCurvature:200,angleOfIncidence:9}},{type:"Dielectric",name:"D1",loc:{},prop:{type:"Crystal",refractiveIndex:1.76,groupVelocityDispersion:.064,angleOfIncidence:60,faceAngle:29.62,thickness:2,curvatureFace1:0,curvatureFace2:0,thermalLens:0},priv:{}},{type:"Lens",name:"L1",loc:{},prop:{focalLength:0}},{type:"Dielectric",name:"D2",loc:{},prop:{distanceToNext:105},priv:{}},{type:"Mirror",name:"M3",loc:{},prop:{distanceToNext:170,radiusOfCurvature:200,angleOfIncidence:9}},{type:"Dispersion",name:"DC1",loc:{},prop:{type:"Prism",distanceToNext:217,prismInsertion:0,refractiveIndex:1.5,indexDispersion:0,groupVelocityDispersion:0},priv:{apexAngle:1.176005207095135,deflectionAngle:-.7895822393995233}},{type:"Dispersion",name:"DC2",loc:{},prop:{distanceToNext:40},priv:{}},{type:"Mirror",name:"M4",loc:{},prop:{radiusOfCurvature:0}}]}),t};e.SystemUtil=e.SystemUtil||{},e.SystemUtil.createNew=function(a,n,i,r,o,s){var l=e.System,c=e.SystemUtil.migrateJson(t()[a||l.configuration.linear]);r.configuration=a,r.name=e.localize(a===l.configuration.linear?"Linear resonator":a===l.configuration.endcap?"End coated resonator":a===l.configuration.ring?"Ring resonator":a===l.configuration.propagation?"Propagation":a===l.configuration.ultrafast?"Ultrafast resonator":"System"),e.SystemUtil.fromJson(c.system,r,o,this,s)},e.SystemUtil.resetElements=function(e){for(var t;t=e.pop();)t.destroy&&t.destroy()}}(window.LaserCanvas),function(e){var t=function(t,a){e.Utilities.foreach(document.querySelectorAll(t),function(){this.onclick=a})},a=function(e,t,a){this.msystem=e,this.mrender=t,this.fireEventListeners=a};a.prototype.init=function(e,a){var n=this.msystem,i=this.mrender,r=this.fireEventListeners,o=function(e,t){var a,n=document.body.getAttribute(e),i=document.querySelectorAll("button["+t+"]");i.length;for(a=0;a<i.length-1;a+=1)if(n===i[a].getAttribute(t))return i[a+1].getAttribute(t);return i[0].getAttribute(t)};return t('[data-render-interaction="toggle"], button[data-render-interaction]',function(){var e=this.getAttribute("data-render-interaction");"toggle"===e&&(e=o("data-interaction","data-render-interaction")),r("interactionChange",e)}),t('[data-set-theme="toggle"], button[data-set-theme]',function(){var e=this.getAttribute("data-set-theme");"toggle"===e&&(e=o("data-theme","data-set-theme")),window.LaserCanvas.theme.set(e,n.update)}),t(".toggleHelp",window.LaserCanvas.showHelp),t('[data-action="toggleRender"]',function(){var e=this.getAttribute("data-property-name");i.property(e,!i.property(e)),i.update()}),t('[data-action="toggleInfopanel"]',function(){var e=document.querySelector(".laserCanvasInfo"),t="data-"+this.getAttribute("data-attribute");e.setAttribute(t,"true"===e.getAttribute(t)?"false":"true")}),document.querySelector('button[data-action="download-svg"]').onclick=function(){new window.LaserCanvas.RenderSvg(n).setVariablesGetter(e).update().download()},this},a.prototype.initFileOpen=function(t){return e.SystemUtil.attachLoadListener(document.querySelector('[data-action="openFile"] > input'),t),this},a.prototype.initFileSave=function(e){var t=function(e){var t=document.createElement("a");t.href="data:application/json;utf-8,"+JSON.stringify(e),t.target="_blank",t.style.position="fixed",t.download="LaserCanvas.json",t.click()};return document.querySelector('[data-action="saveFile"]').onclick=function(){e(t)},this},a.prototype.initSystemNew=function(e){t("button[data-create-system]",function(){e(this.getAttribute("data-create-system"))})},a.prototype.initDrag=function(){var e,t=this.mrender,a=null,n=window.LaserCanvas.Render.interaction,i=null,r=document.querySelectorAll("[data-insert-element]"),o=function(e,r){var o,s=function(){a.style.marginLeft=-.5*a.offsetWidth+"px",a.style.marginTop=-.5*a.offsetHeight+"px"};i=e,a||((a=document.createElement("div")).className="insertElementPreview",document.body.appendChild(a)),a.innerHTML=r,a.classList.add("hidden"),(o=a.querySelector("img"))&&(o.style.transform="scale("+t.getTransform().s.toFixed(1),o.onload=s),s(),t.setInteraction(n.insert)},s=function(){a&&(a.parentNode.removeChild(a),a=null)},l=function(e){document.removeEventListener("mouseup",l,!1),t.removeEventListener("insertMove",c),e.target===t.getCanvas()&&t.onInsert(e,i),s(),t.setInteraction(n.layout)},c=function(e){a.style.left=e.canvas.x+"px",a.style.top=e.canvas.y+"px",a.style.transform="rotate("+-e.q.toFixed(2)+"rad)",a.classList.remove("hidden")},p=function(e){return o(this.getAttribute("data-insert-element"),this.innerHTML),t.addEventListener("insertMove",c),document.addEventListener("mouseup",l,!1),e.returnValue=!1},d=null,h=function(e){0===e.touches.length&&(t.removeEventListener("insertMove",c),document.removeEventListener("touchend",h,!1),document.removeEventListener("touchmove",u,!1),d&&t.onInsert(d,i),t.setInteraction(n.layout),s())},u=function(e){var a,n;1===e.touches.length&&(a=e.touches.item(0),n=t.getCanvas().getBoundingClientRect(),a.pageX>=n.left&&a.pageX<n.left+n.width&&a.pageY>=n.top&&a.pageY<n.top+n.height?(d=a,t.triggerEvent("touchmove",e)):d=null)},A=function(e){1===e.touches.length&&(o(this.getAttribute("data-insert-element"),this.innerHTML),t.addEventListener("insertMove",c),document.addEventListener("touchmove",u,!1),document.addEventListener("touchend",h,!1),e.preventDefault())};for(e=r.length-1;e>=0;e-=1)r[e].addEventListener("touchstart",A,!1),r[e].addEventListener("mousedown",p,!1);return this},e.Toolbar=a}(window.LaserCanvas),function(e){var t=function(e){this.mvariables=e,this.numberSliders={},this.el=this.init()};t.scanSteps=32,t.prototype.init=function(){var t=document.createElement("div");return t.className="laserCanvasVariables",this.mvariables.forEach(function(a,n){var i=new e.NumberSlider(a);i.setChangeEventListener(this.onSliderChange,this),i.appendTo(t),this.numberSliders[a]=i},this),t},t.prototype.appendTo=function(e){e.appendChild(this.el)},t.prototype.onSliderChange=function(e,t){this.mvariables.set(e,t)},t.prototype.update=function(){var t=this.el,a=t.querySelector(".thumb label"),n=t.querySelector(".thumb input"),i=e.Utilities.numberFormat(this.value);a.innerText=n.value=i},t.prototype.setVariables=function(e){this.mvariables.forEach(function(t){e[t]&&(this.numberSliders[t].setProp("min",e[t].min,!1),this.numberSliders[t].setProp("max",e[t].max,!1),this.numberSliders[t].setProp("value",e[t].value,!1),this.mvariables.set(t,e[t].value,!0))},this)},t.prototype.toJson=function(){var e={};return this.mvariables.forEach(function(t,a){var n=this.numberSliders[t].getRange();e[t]={min:n.min,max:n.max,value:a}},this),e},t.prototype.scan=function(e,a){var n=this.numberSliders[e].getRange();this.mvariables.scan(e,n,t.scanSteps,a)},e.VariablePanel=t}(window.LaserCanvas),function(LaserCanvas){var mathStrings=["abs","cos","sin","tan"],reMath=new RegExp(`(^|\\W)(${mathStrings.join("|")})(\\W|$)`,"g"),constantStrings=["pi"],reConstants=new RegExp(`(^|[^\\d\\w])(${constantStrings.join("|")})([^\\d\\w]|$)`,"g"),constants={pi:"Math.PI"},variableStrings=["x","y"],reVariables=new RegExp(`(^|\\W)(${variableStrings.join("|")})(\\W|$)`,"gi"),allowedStrings=function(e){var t={};for(var a of e)t[a]=a;return t}([].concat(mathStrings,constantStrings,variableStrings)),reValidate=/[A-Za-z]{2,}/g,validate=function(e){var t=e.match(reValidate);if(t)for(var a of t)if(!allowedStrings[a])return!1;return!0},reTrailingNumber=/(^|[a-df-z0-9]|\))(\s*)([+-])\s*(\d+)$/i,Equation=function(e){this._number=0,this._expression=null,this.set(e)};Equation.prototype.set=function(e){void 0===e?(this._number=0,this._expression=null):"number"!=typeof e||isNaN(e)?"string"!=typeof e||isNaN(+e)?"string"==typeof e&&validate(e)?(this._number=null,this._expression=e.replace(reVariables,function(e,t,a,n){return`${t}${a.toLowerCase()}${n}`})):"object"==typeof e&&e.hasOwnProperty("_number")&&e.hasOwnProperty("_expression")&&(this._number=e._number,this._expression=e._expression):(this._number=+e,this._expression=null):(this._number=e,this._expression=null)},Equation.prototype.value=function(variables){var expr,value;if(null!==this._number)return this._number;variables=variables||{},expr=this._expression.replace(reVariables,function(e,t,a,n){return`${t}(${variables[a]||0})${n}`}).replace(reMath,"$1Math.$2$3").replace(reConstants,function(e,t,a,n){return`${t}${constants[a]}${n}`});try{value=eval(expr)}catch(e){value=0}return value},Equation.prototype.increment=function(e){var t;if(e)return null!==this._number?this.set(this._number+e):(t=+this._expression,isNaN(t)?(t=reTrailingNumber.exec(this._expression))?this.set(this._expression.replace(reTrailingNumber,function(t,a,n,i,r){var o=+r+e;return"+"===i&&o<0?a+" - "+Math.abs(o).toString():"-"===i&&o<0?a+" + "+Math.abs(o).toString():a+" "+i+" "+o.toString()})):this.set(this._expression+" "+(e>=0?"+":"-")+" "+Math.abs(e).toString()):this.set(t+e))},Equation.prototype.expression=function(){return this._expression||this._number},LaserCanvas.Equation=Equation}(window.LaserCanvas),window.LaserCanvas.theme.baseUrl="",window.LaserCanvas.theme.dark={block:"data:image/png;base64,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",blockFill:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMi8yMS8xNe7lBxwAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAADW0lEQVR4nN2a63LjMAiFsZNn3fd/gKTeH1vtKJjLAQnFSWeYXNxafAhOJaztOI4/RPT8tYfy3vp8ENGNiO6/r5JZ13Z2v/5Ve99eI+NI1442eCW8Zwg8H3cKPBE9ePQz8J5Zjmkz6303BZ6InvsE+Gzqr4CX7Oju99RKQLLZ8FJaR+Gj2XewsV8CoAFXwSMi58FHfDgkRkkDEPisvRv+xMU1AIXPzH5E4ZfAtwC8G97KhtGMM+F5ACQRXAH/VK5n9KW/5sL3AZDKoLLmtQyohBeFXtMACT46+1H49r4KXvwsacBseEnkovAjNW9+5hpQAY+u+CwwxIcwPLF1QBTeq/kI/F4Ef6p5/l3TgIzgccc8ha+G94BVDdDgI6kfEbkZ8Lzm3VRXrt00B1bAbwCg5cMwvBaACDyq8Pz3tuA4JfBWBiAWEbn+u1Xwmh683JMHAHUsInJV8J7CS/6d7rsHBpfgvTrvnRip+ZsAj6S6CU9E9xaASvhHB5+dfaqAp6AGRETuI+BbABDHInV+Bfhm7sQiC5FKeMs2ANAKBhRwbyGEgErpjwqeFpwtMNtpeC8DUHh+bbMGvBK8FoD7F8LDGiDBWwq/En5E8FR/+EIIAfXgM8bhUehm6S11vxDS4KUMsOCjsy/BR1J/qJ/Q/tiCt1Z8nwrf7NiJ6OdD4af0E6QHIxn41TU/bVfZeoKI8FnwEWf4Cg/9Fzcdvg8Aqvqz4KP/32fA3zg80fnxuLXouQL8SNmRdG+eARo8JaJdAT99V9lnQATes94ZBN7Sg9IttXZIyoNHnUEEz8qESng3A2bCZzY41f2EFw24Knyk1Dg8NK60ENLgM5EfhS/fUvMMsOARZzLwvS3vJ/QiWAWPCiAKb2WeBW+WQCU8MiORRQ66sfIC/z8AFvxIzWfhl+4qvQcjnjMfDU9E+0g3JQsvCd474Dei/AEJbYXniU+7fpl+QvSABK95NNU9+Lf1E6IHJJCzxSvgp/UTIgckvgH+NA56QCICj9b8JfoJyAEJCx6pxYzgLesnIBrgpXYG/jL9BO+ARLTOq+DLttRWBnwLPPRscBY8HHnDlvYTpABkBe9J/36QGdauLe8n8ABE1HUVPCqAqX5CH4BsylXDl/YTpMfjM+FHaj4LH9pV/gWzg54njATjbwAAAABJRU5ErkJggg==",grid:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAAoElEQVR4nO3QQQ3AMBDAsNs0puX/KIIVhh+NEUR51lr/XOybmdl76w7m1QFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoF0/4ADz7gV9fwRVfwAAAABJRU5ErkJggg==",lensConcave:"data:image/png;base64,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",lensConvex:"data:image/png;base64,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",mirrorConcave:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAE80lEQVR4nOWa207rRhSGv3EIxxxIRAkphkRFqBIqghukPmdfoe/SXnDBTctNUzaHEEI3JLWTkCOeXoxHMYkTtlSHkcwvWYYQrFnfzJr514yFlJIP1u9CiJ+llDXgF6D5Df8zAobAr1E3xor6gd+grdPTU3lxcZEH9t/57ivQB3r+PXKZAPC4v7/vXV9fJ4DyjO94wIC3wccGwN/Hx8fe+fm5BRQn/iZRQ10HHAw+NgD+ODs7G1UqFQHkA5+PeBvsZPALAbC0iIe+o9/K5fKgWq2uAilUrw9QAILXMOTnyGUCwOXJyUn38vIy63le0rKsDaBFeODB371FNMZECjSB9u7urqxUKkngO+YP+z4ggJVFNMYEAICnw8NDr1qtWsAe4UH3UL2+Ergil4kUAHi2bVve3NwIIIcKNjjsPb9tSf+ur8hlCsBX27a9arUqgCyqx3XwS6jeDgauQUQuUylwa9v26P7+XqBWgj5qNViZcS0TsxT4y7bt0cPDwyqQZnqoz7oilykAf+bzec91XVAAVoEEnwjAdalUGtbrdb28baLM0KzALZQfiFym5oBmNpvtu67L6+trAvie2fnvoVaJ3iIaYgoAQLdYLMrn52cLsJkOXDAOPJYA/t3e3pa+GQqOgAQqHSaDXwgAU3MAgJtKpaTjOBaqKkwy9v5D3tYB+rPIZRyA67oC2EB5gcngYw2gm8vlZKfTATXse8wHsBCZBNBLJpPy6enJYj4AXRfEygcAdDKZjPTN0BLhACbrgshldBVIpVKy3W5rM6Rn+j7TZXDsymGAphBCSnUwkUQFL/kkVhignU6nZavVEqg5QKBAzCuMIpdJAC1Uj4MKOpjrsyBELqOrgBACVM+HbYLEekcIwFlfX5fNZlO3IwyAhuARo3MBre7a2prMZDK6HWEAdBmst8sil0kAg+FwKF5eXmC87R0MfsT0ZmnkMgkg6EGCAPRwDzsgiVwmAaz6d+HfE0xXgZ8CgGTc6/OOxmKXAkFrq1+EmBd87AAIKaXwvYBkesKbPBVOLqIRRlPAcRzhL4N6BISdCMfWCK25ritSqZRk/HJEEECYN4hcJgFsSCnxU0C/DzQi3BPEEsByu9220um0RKWA7vUPLYZMboikXdfFBzAk/DA01hsiGUBYliUYA5hVDMUyBTKu64pMJiNR+T8LgIYQOx+QabVaVjab1UvgvIlPT5CRyySAVKvVYnNzc9YIsIi5FU43m02dAj3eAggrheMHABD5fF4CbcZH4bOKotgBSHU6HXK5nARcwt8MjeWbogDWYDBY73a7wvcBdT5ZOZy+ublZLRQKoFzgV8LL4SCAhZg2UwBKjUZjOVAINZme9CZL4VgZofLt7e1SsVgEFbjLdPCTpXCsAPxQr9cTOzs7HmoFCJbCI9T+YJgxilymAOw5jmP5HqDJW6enh3tYRRi5TFWDdq1WE3t7ex7wD2rI614PVoSTVWHkMjUCCnd3dwnbtvuoJXBeIRQcDZHLFICtTqcjDg4OPOCB9wHEag5Y7vV6WcdxRLFY9IB73gcgZj3s/8oEgN0vX76sbW1taQ/gMBvAwucoEwB+uru7Wy4UChJ4QTnBSQCJj2qMCQCnV1dXS/4IcPmAre95MgHgx0ajkSiXyx7QYAxgYXk+TyZ8wF6tVrNKpZIHPKGWOCPBgxkA6cfHR3F0dDRCrQBG9R/QHTitHMjhTQAAAABJRU5ErkJggg==",mirrorConcaveMore:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAFp0lEQVR4nOWbS08bVxiGnxnfgiGZgaCEcgkGQVSnIIJjNdyCVNQuIrFhk2V+RX5Hfgaq1KpdJEFJoyJASqVWOKrdmippQsxNTYFgO27B8WWmi2HksT1GLDoz7fBKR174ovM+831nvu/MsaCqKhbre0EQZvL5/NtAIPAl8NspvlMCisevJeArqyYnWvXDBvnv3btXun//fjswCXhP+GwZ+ADkj1/1YZnsADB/9+7d948ePfLkcrk+oMvkMwpQwNx83srJ2QHg2+Hh4c3Ozk51aWnpPDBqeE9FC3Wj2Vrz//sIeAt8d+fOnaMHDx74gDDQgpbbZmbNhmWyAwDA17dv395NpVKsra1dBAZobFaHoQMpWzkxuwDEm5ub47du3SotLCw0ARHMzRojoQh4gICVE7MLQAH4Zm5u7vDZs2cicAU4T+OwF9CM68My2QUA4OnQ0NAuoK6urkrAEPVhr1Bt3FUA3gK/RCKR8uLiog+IUjFfRKsPzMy7BgDAwszMzNHi4qIH6AGCVIe7/3i4FsBSJBJJ+/1+Xr582QZcx/yK10KwTHYD2GxqaloPhULl5eXlc8BNGoe9EYJlshtACfhpYmKiFIvFvMAnNAYQQEsPVxRCRj2dmJg4XF5eFoF24CPqjfvQYOk1gmVyAsDP3d3duY6ODjWZTDYDg1SbV6gujlwHIC2K4vbVq1eVeDzuResN9HDP14wjXAhABV709/crsVjMg1YVFqg3bxyWyQkAAKsDAwOlnZ0dAWij2mxtf+BKAD+OjIwUksmkgFYMQeOrb+menVMAXvT39/+9tbUloK34F6k3Xj5+z1V1gK5DURSz4XBYSSQSXqCbivEClTbYdYWQUbter5e9vT0RrS/IU98GWw7gpB1aq7Xf19dX3tjYENBSIHA8H7NhmRwFEAqFlFQq5QEkHALgZAq8kyRJzWazoN0JTuoJLJOTANKyLKvZbFYAmmhs3mflJBxNAVmWlXQ6DZX210d16Otb55bJSQC7siwrxxGg9/5eNAgKmnH92aBlchJAxgBAL3hEqh+KuhpAThAEwTAPFa0WMBrXYVgmJwHkFUVBURSotMJm5l0LQPD5fEiSBNrVN+b8mQDgL5fL5HI5qF70zswaIKfTaUGWZajc7mrNi7i4F2jLZDIeSZJU6gFAdU1gmZwEcCmTyQiyLOurv/5s8Mw0QxczmYxwHAHGVvjMALi0v78vtLS0APzFGewGOwuFgnj58mUFeM8Z7AY7Njc3hd7eXhXYxyEATqZA+/b2thgKhYrAn2gNkd4M6aEv4tI6QFAURdrZ2RFCoZCCdnjCuAbozwb14sgyOQWgfX19vVmSJCRJKgEZKgCgviy2TE4BuJ5Kpfw9PT2gbYOXqFz12mqwaOVEnAJwM5FI+IeGhhS0W6BZK2xLO+zUXWAkHo97rl27pqLl/0mHJl23JSYC/QcHB8Lg4GAR+J2T9wJctwa0FgqFS69fvxaHh4dLwBrVi16tedeVwtFYLNbS3d3NhQsXDoF1zAHorbDrAHy2srLSFIlEysAu8I76Ba92e9wyObEIjr1588YTjUbLaH+f0Q9BGA9Hu7YXkI6Ojq4kEglxfHy8APyA+eFo1/YC48lksrWtrY2urq4c2gKoh3tt2LtyP+Dzx48fN42NjZWBP4BD6vcBzEBYJjtT4BwwlkgkvNPT0yW0/D/NOWHXPBz9eGNjI5TNZoVoNHoExDl5F8iWudkJ4PbKykrr6OioGgwGD4AdGgMQGv/Mvyu7UqAZ+GJpaSkwOTlZBF6h3fbMzgLYZh7si4BPt7a2wnt7e8LU1JRZ+Htsmked7AIw9/Dhw9ZwOKy2trbuAhvYUOaeRnakQC8w/eTJE9/s7GwRbfW3vMk5rewAMPv8+fM+QRC4cePGe+BXbM7zk2QHgOD8/HxgamrqQzAYfIVWAP1n9A8aYEf2Fcra9wAAAABJRU5ErkJggg==",mirrorConvex:"data:image/png;base64,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",mirrorConvexMore:"data:image/png;base64,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",mirrorPlane:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMi8yMS8xNe7lBxwAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAACnUlEQVR4nOWaTVLDMAxGX/oDS/acgUtyFo7EHdizoyTELFxNXMd2zaBONco3kyl0Co5evqhS5CGEwB31PgzDSwjhA3jt/JsJGIE3jRM4aPyTf+j5/PrU8dkfluAnrRO4N4AezcSA0+A3ASCwBJsH7x7ARDt4twBmysGOhZ9VZAnAyDr42u+z1qKWAHxx3fYj8ZwftRa1AiAAJ9q23xEDP6B43lYAwAIgv/Iz8TyPLMG7A5A6IAUgdk8DFxAqsgIAIgAJPrd7fhy1FrUCIBCTIKytXjtUZAUAwJ6+wN0CaFk+PXbEW0VFVgAM9AEYgW8cAoA2gJmYIyRJugMwAA+sv+8hXnEJ2i0AuHTAnnLQ6XsqsgIgzQE/LDVBHrRbABCvuiS4WtCq9gdbACTJtQBIX+CuDpBKsAUg7wtUZAUAlAFM1GsEFVkBUHJAYGOlcFroSD3QaoxUZAWAOKDUBtcgqMgKALjeBrt+IgR9zdCR+FV40lrUCoCeblDaYLeDkRaAifVjcxVZAVBzgNi9NCBRkRUAsK7y8oLINQBxwI6+0Zi7WwDW06Frc0IVWQLQCj6fCrucC9RGY+lE2HUhVMr2tVbYHQBxQA6gVSCpyAoAuCx0UrtvohlKc0DJ7iUIKrICACKEa/1APjP4tywB6J0NHnFYB/TOBmG5VVRkBQC0AUiJ7LYUbjmg1Aq7AwBrANIKb2anqACA8s5Q1ztFZTzeu1PUHQDo3ykqu8hUZAVA77MAcL5PsBZ83gq7A1DrBifivgH3w1EoP/YWu7tvhtIcULL7JpqhE+VWuAZBRZYA9HaDbh3QC2DQXNQKgN7hqLqsAIA6gP0tF7UC4KYboVqyAgAuAaje5y1ZASDd4E3tXtJNEssf9HF+/eQOwQP8AlHcYhzwR26qAAAAAElFTkSuQmCC",screen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAABJklEQVR4nO2bQW7CQBAEa1DOvBU+EIu8IG/lAQwHbGUh963Ddl3W8mXaDXKPWnJ1NytzsgXYxABbgE0MsAXYxABbgM2XOPsCnIEa7jVwB35niTANOFfV7fNmd19nijANKIDuvvH65RnOaZgGHDTw758wi+VfgjHAFmATA8TZNZzfvPaC6egpUFUbzM//A92AfQ94WPNNA8bl58cSkZegLcAmBoizE4OQGEwMkhh0iQG2AJvlDdBL0f3c9uulanHgbw84WKkWB9auxceHTi1uEQNsATYxQJydPgDSB6QPIH2ASwywBdgkBo2hI4nBxGBiUCUG2AJsljdATwHea3GYXI3rKfBZi8PcncA04N7dG+/fC8Dkarzy4eTixABbgE0MsAXYLG/AE+ahYF8hs97BAAAAAElFTkSuQmCC",mode:["#cc3333","#6666ff"]},window.LaserCanvas.theme.light={block:"data:image/png;base64,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",blockFill:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAABUklEQVR4nOXaTY6CQBBA4TeNF3PjGTzB3P8AGmZDxbKmQDKz67cg+JPQ+V4qBIWv6+3+DTyBR9mf/WxJ26W8r1v3/bodqx4377vX6z/WjO0xzHjgOcz4CKDF1wnQ4UnnACU+JkCLjwBafDcBKjzbOUCLzxOgxOcASnwE0OLh928BFb5OgA4fAbR4YB1mPLCMkwtNiQcu48RC0+JjArT4CKDFfwowPf4ogAK/F0CD7wKo8DWADs+H64Dp8TEBWnwE0OK7ACp8DaDD5wBKfATQ4uF1X0CJh/5fYQ0+AmjxRxOgwEP/jJAG302ACh8BtPg8AUo8vD8foMPHBGjxEUCLzwGUeNJ1gBIfE6DFRwAtnu35AC0e/nZzdBo86b6AEn80AQr8XgANvgugwtcAOnwOoMRHAC0+T4ASz8F1gAK/NwEafBdAha8BdPgcQImPAFo8sPwApCvw+M1u6aAAAAAASUVORK5CYII=",grid:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAAoElEQVR4nO3QQQ3AMBDAsNu0f/mzLIMVhh+NEUR59t7/XOybmVlr6Q7m1QFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoDVAB2gN0AFaA3SA1gAdoF0/4ACl1wR+rmJJowAAAABJRU5ErkJggg==",lensConcave:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAEJklEQVR4nOWb224jRRCG/+o5eHyIYzuOvd4NG3ZXC2IlJCT2AZYbngHxTjwAN7wIT4AESIgbCCevExCJnfiYscf2dHFhbPk0ys26Korrrqramt/fVHfPdPcQM2OfzZW8GBG9BvA1gN4dTbMA3jBzuGtNogAA9AHYzz7/4qukBr3udf6H7779EsBUQpCRuMiS/QGAm1cXuaQGzcvzEwAdZh5LCBIFwMxTAGfNy4vHSW16vZsjAL9IaZKuAAD4q9dpPU1KRsOwBuBMSowGgB8nk+hZUnIyiZ4D+FVKjAaAn+J4+nJbYhgOAmutjwcOoM7MH21LdDvNIwBtZh5JiREHwMwWQL15eV5Zz3XarafM9ndJPRoVAAD19s3VxlQYRWGZmS8khWgB+Lnfu/lgPTga3lYA/CYpRAvAWRQNg/XgZBI9ArAXFdCwcVxbD7K1BQB/SgrRAtCxdppeDoS3/bS1NgZwLSlEbRC01q5UQBj2skQ0ZOZYUogKAGZuAHjMzDSPDfqdsjGO6N0H9CoAAHqDfnsxFYaDXs3a+EpahBoAZm50O63juT8ej0rGOOfSOjQroDuORtm5E8fTDBm6a6XonZtqF4iicLEiZW2cMWT2CkB3HEX+3LFxnBmNwn+kRagCiONJdsknAFZahDKAeDELWLZpzBZNRU11DLA2zswda20aQFdahCYAMNvFUx/PAHSkNeh2gek0teQTAPFtKk0AjNmfnjlsA9y9Y/TOTXUMYOb1VaG9mgVWzNo4hT2rgA37f8FU1O4VAA27NwCIzJCI8tLXvUcA6BZLs4KU3RsAAHnYMwCHRLR49ifS0aIJYOVuE5kRgANpEaoV4Lre8ikQhoIeTQAHxnGHc4eMibBnFbA+4DEAR1qEJoAjx3GGSz4DKEiL0ATgu66/eP83xhk4rluUFqEJIO/5/uIkiOd5147jvZAWoToIBkF2sQBiHDdkaw+lRahWgJ9KD+aOY9whY2N9YOemCaBWLFWacycVpFu8tmMsYSoAiMglonwmm18chva81C0ZU5bWolUB7wH073Igd1BosY03To7t2rQAFIlWN0HSmdyAmbNJP9iVqVWA43rt5UA2VxgQkZFeFNECUDBkVirAGMPGuG0AiQepd2FaAJ54fqq9JR4DON4S35mpdYFUkGmtB4N05gLAK0khWgA+LJaqG2cBPD9o4qF3ASJyADw5Ktc2tsKDINM0xhF9H9CogGMiGiw/BM2tWKrWme2D7wKvjHHebkuUKyeXAE4kxWgAOHVcb2MABGZTIUB9InpfSowGgJe+HzSSkr6f+h7AGykxGgCe5Q4OB0nJVJB5C+C1lBgNAJXqo9O/k5LFUrUBQGwmEAVARAUA+VK5NkxqU62dngPY+lHVTjRJfj1ORJ8A+AZ3H4T4GMCnzFzfuaZ9/3z+P5BPYn1smQu8AAAAAElFTkSuQmCC",lensConvex:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAEFElEQVR4nO1by24cRRQ9t/o109OTGcee2Pglorw2RPABbNghseIHkPgOfolfQELs2EUKC1gETAYTyWYy7+7pR9VlMbYUoXa70NB3rA5nW1eqo6NTt27dqiJmxvsMV3pCIvocwDcA9A0hXzPzb1J8xAUA8NTzgu8//ezLH/858MN3336ldfEUgJgASmqid/Ak7HQvygb8oHUO4IkkmW0I8GhvcDQqG+hE/UsAzyTJbEOAxweHD1dlA73ebgLgA0kyogIQ0TOl1NAPWlnZ+GD/ZEhEH0tyknbAc9f1z28abIfRSinnnIjEloG0AKeeH0yrAhzXHQN4KMRHXIDHQRAmVQGeF8wAnAjxERfgoHuvP6kKCFrhEsChEB/xJHgadXcuq2J8vzVrcg443B0clhZB14i6/TdE1DwHENGxUmrkOO5NZwAAQK+/dwngSIiWqAN2iJz4tqCouzNnRiRBCJAVoK8cld4WpJRipdRbIjqWICUpwLHr+pU7wDWUchIAOzXzWc8lMckV9pVyjE3gVTEkUguICeA4Tt913YVNrO8HEwCnNVMCIOkAog/9oF1ZA1xDOW4MoF8zo/VcEpNcgQBYNSAd5Sau5z+omQ8AyToA6r7rekvLYMZasNoh6AC+53nBrXUAAChSGRuzVzcjQFAAZu76QcvKAZ4fzIioVzcnQNYBXT9o2wmwdkrTBCCHLJMg0MAcwGzCdhhZ5YCg1V6gaQKsQVYOYGZisMiljWQS7HSinpUD/KAdgzmsmxMg3xGycgA1MQfcVdxJAZhZcROXgC2ybNUmUjOJue6kAJL4X4BtE9g2JNviy+Vi2rGJzbO0Q0RW3aNNIeoA2wdZkg+3BB2g4lWysHJAUWQdIjWvmxMgWwrrf+MAZrbqIG8KyRwwT9PE0gF5yDDjujkBsgIs8iy1EkAXRURoXCFE0zy3E4DZuKTIqoW+KeRyAMw4zzOr+r4o8kgXudU12qaQbIvPdFFY3foao0NjzNu6OQGiu4AeaZ3bOqAPwKp5sinEBNBaj7TWVgJoXTgASl+T/teQrARfF3m2axNotN4H8LpmPgBkBZgUOvdtAo0xbQDNqgMADHWR3/oA8p0DU7N2AQAjmzZXEs87AE9Z6EQkeRaYAMBiPqkshuaz8QMi+kOGlXxD5PfJ+GK/KiCO5wNjTDN/jDDzq+ViWvnwIV3FfQBDIUriDjiLl7PKW98sXd2H0BYIbGEJpGlSWQvkedpoAc7yPBtUBWhdPEKTBdBFcVAVwMxHzPxKipB0EnzBbD4yxpRefA7Pfj4F8EKS0zbuBX56c/5raUk8+uvPEwAvJclsRYDLi2Hpc/hVErcB/CJJZhsCvFzOp6UvwbNsdQThJUDSv8eJ6Avc/Hn6EwDPmflMjM/7/n3+bwHdc7UzTA29AAAAAElFTkSuQmCC",mirrorConcave:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAEK0lEQVR4nOWbS27jRhCG/6omKYp+ymMjBjw2Zj23yCZnyA1ysCzmDNlklxNMlhlkMMjDGAVRLFmSKTa7Z0EzfMsM0HQF9A8QsmyJ7P9jdbGqSZO1Fs8tIrJff/Ptd//hKwkA/eMP7753PRZ2vcM+8v3Jx9s/Pl73+GgK4AFA/PjqXCIAiOnTen33as9HDIAdqubjIcYiAoBZ/Xy/XLxp+ZNFFu4PaJofUQQQ/xTH24varzWahsvbIBHgDbHTp7TdrN5PJtOzx7cpMvMaj8luz6tziQCw1r5nVl9ZaxIiTtA02mZ+kGgVmQIAwMzzvz7/formXK9PgxSAD2AyyDiG2GmvA7P6sFotDtE+72NkVwGFzHi+OZfIFAAAa82vm/Uqj4B6yHvIDHu1zbnEAAD4FD9s3iA72+UkFyAL+br5QcYqNgW0Tn5JkniGLAISVMM9QDX0xzcFAPymk+QUAKE93POtHA3OJQlgYa05wH7zZQiDRKtoDjDGXKAfgLwpci7Bq4BdMqsDY9Ips2J0J70dBqwExZIgADDT59VycY5msvORGa73A+7HMMRO+8pa/Lm+v7tE1bxBYXiLgQFI5gAQ0UYnuxMAcxTG82IoafnZuUQBAFhqvYtQmGwzPV4AaapvtU4iFMVQFwCNEdYBAJDE8TbEfgCM4lLpXNIAljpJrlEAKJsHmj2Bc0kDuNd6R6gCSNFdEDmXNACTpjpf/d3XBo8WwMqkaYjsEtinJHYuaQAAEWH/GsCoAVgiytcB6q3v4OYx5I57amOMOUEz/MsgGMVKsXNJA9gqVlu0z/+8IYoxYgC+hY3QBABUjef1gXNJAwARlSu9PNzbbpCMMgIA/Asg7/81mmd+zAAAFOFeNtv23rn+BwCsQfXeQJd5M8TRpQEwbGUhpMt8XiI7lzSAYyJaoT3j11vhUVaCx6gCKK/8tFWFziUNIOsEihxg8MJ6gSNmb4sMQLkneEkA+B5FuD/VETqXNAAi5nqie9aOUBQAM898P/gb3c1Q2fj4egEimgVBeIvuua8w5krQWhwFwTRBO4AUzfrAuaRzwGwShhrNYqd8X2C87TAzB+H0aIcMQFsrXK8MnUt4CthoGh2myJ4R7tMROpcYACIKlOcdhGF0h+4maNTt8GtmtUB7K1w3n5fIziUJ4IxZ5U+F7jvz5btFziUJ4Nrz/H/QvRZQrxDHBUAp70Ypb47qtb7rrvD4ADDzKyJeogrgRTVDr30/+IAMQDncn7UZEntKzBhzNQmjWxT/C/DUc8LjWhMkopOz88s5+j8nTEOMQwQAEYXK807PL67WeHoVSA05FqkIuFHKW0FgCawuEQAHh8dvrbFLdAMYJNzbJBQB9Nbz/bbwf/akLAKAma8mYVReCht0nu8di8RBrcVNFB3eIQMgZh4QA2AuT2YXc4lj1/UFLgLT1a+cAccAAAAASUVORK5CYII=",mirrorConcaveMore:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAEj0lEQVR4nOWbTW/cRBjHf2NnvW9xmpdmA0maRJSgSqXqgQpx4VIQlTggwY0LfAC+C1+AWw9w4YpEL4gbiAuFlqbpG6uSJik0YZPNvtozw8FZ2bvr3YbD2JL3L1leJbub5/+b5xnPM3aE1hrTEkLod69/8sXUlOOf8SMe4J8e3g+3vvnWVGyWqS+OqlR2b27d/eX9M7xVAm2gc3ruvTamRABIKb+sHx282Wk38yPeooAu/eajEIwpEQDtVuM3ja7u7jx+Y+BXmiDdo6MddzamRAAASN//6vBg/2rkRz7xox0Hw5iSAyD979qtRvGf5zuLBKZGjfZg/QuTcSUGQGvd1Frd2t/78zLjR7t31kD+9DCmxAAAeF7365N6bYN+o4PmJZAjNJ8dAFrre77nHT+tbq0ynOpdwKbfeLYAAGgtf37x926vDKKzfJzx7AGQUn7faBxdITAvAYfx5rMFALitlTzZefpgndDgyyAYUwoloNta8/jwxd7b9Jt0iAdhm4wnjQxAKfljq3VyifjR7kHIEfYGxpQKAOCnTrt5hdEpr+lfJxhTWgB2Qew/36teZDjdB5ui7AHQWitg66h28BphuvsMrxCzCQBASn+r0Th6naAV7hltMSkAgIedVtNheEWYKIApk1/+Ev3e7bZXCQx6hNtg0deaoDyMKU0AVaVkhXgA/mlsDoZjTK0EtNZKCHH/r+r9V+lP92gb3FscGVOaGQDgN5v1EmGd5whiGjyMKVUASqntZrO+QHD9jzOebQBA1fe8NYJ0n0gAR0pJlwkGUFPSLzEegDIZQPoAtJ4hHgCEl0RjSh2AVmqwBCwi9wXJPACtXYJrfa8h6jBBAEAgCC6DUeNR85kGYKG1IFgIxRnPPABPCOuE+LSfCAC21qpICGDQvIfhfiVtALNCiGMCAIPmFUF8mW2HAWaFsOr0zwG9Vjh6aTSm1AFYtt0kLAGL0YsiI0odgBCiRnhHeLJ6ASHEomXZbSa1GbJs2805+WNSBJDmrjBo1otF95AJuzsckb7gzsz+y2jjAsMPSaVWAkIIy7Ks5bn5pRphMxTXCmd2JbghLKtZKs9IwjnAZngZ7JkMIk0A67lcvk5oXjK6IzSm1AA4TuGdYrG8SzDq0Rsjk9EOa/S1QtF9xvAyOK4pMqb0JkHE+XLZvcP4jZBszgFCCMeemtpYWFx5yPi9AMjirbFczrlmWfZhqezWiDffa4WzuRS2LPuGky9uE78RMtgKZw+Ahs1S2b1H/0bIqFY4W72AEKKgpH/5fGX1NqMfjk6sF0g8A/KF0lWl5HFl6cIzxu8BZLMEtFYf5fOlO4TpfhYIxpR8N6h5a26+8gdnf07Y6KOyiWbAzLmFi8D8ytpmlfgJL5oNRv9VpqdEASilPswXSk+KxWkYPeMbHfFBJVoCUnofnJtdeEBK6R6nxDKg8sraJWBpeXXzCcOjn0i6xykxAF63/Xk+X9orT8/4hABS3pJLKIDrNz7NdTqt9xYrK3cJZ/7UzUNCQTza/vVjIYS9tLyxRwp1Pk6JAKgfH3427c49cpxCN4m/93/0HzjmDpkgTDM6AAAAAElFTkSuQmCC",mirrorConvex:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAEYElEQVR4nN2au27jRhSGvxmKomXJtry2gUVuUIBUWyRF+jT7AinyDnmnvEDK1GnS5wkCBEhj72IdA7FsybpZ4pwtKIKUNKQkjDYc8wcGNGnS5PnmzOWfsRIRfJBS6scgaPz8w9ufftvnuT9+//UXl/c2XB4+sL47ah1f73F/DMxdX+oTgF67ffa4w30GWJAEv3B9qXb9AwfU9xdXnw9Lfi8kQU+XZbY8OsmLDFBKaaVU7/VnvZuCWxas1nr+6CQvAAA9rfW/lusx5cE7NwFfAHwbhlG+A0zT3RZwLTPgm7AZDZY/l9X2QYMHfwBctjtnTySd2raUX5A0jQYH+H4vAARB8HUUta5Jevai2k6PDSCiTgCAL1rHJ3+SZYANAkATCMmCf/kAlFJa6+D1WffyHfYMMKwG3GAVgpMqBwB0AY7bp302U3493W0gnOQDgHOt9YTV9NeUB16fJgB8qbS+I0l/YbON1x7AhVZ6RlLr+wb+7PryygForU+DRviAvYe3FU2dZoI6aHwVhtEDWZsvgzAnqfU5tfECIieNMJyz2umtQzCsdpL1yQCl9HkYRn3svb4iCzgfdI0AaN1pRke3bAIoC/pgACpfERJjrsIwEhIA0fLydMfivKJbeQaISDuKWnMgIOvgbDWdvwZZP+GkygEopc7DZjQmqdFtKZ+3wXWZCImQpXQZgCJf4KTKARhjoihq9SkGoCj3BU6qHAAgIsaWAXkbXDY5cpIHAARQqRsss8FFEJxUOQARaXdOuvfsboPzIJyH8coBgBqQ1Po+NjhcPjNzfbsHAKTD7osf6ffOyJbNnOQBAGA3ABr7gqmTfACwbZhrkASb3zOoFQAoBmDI0j1f83XaG1SKzdUgsO8N2M6d5AEAEDFHSumAxBDZ0rzs3EmV22Gt9XQ6GXeXp7O1MrVcS0tqoZ3kRwYgc1aHtm1tvj47Q4KImPiZVQC24G1bZM7fX3kTQHicjJ8alKd9OlTaipMqzwAUo8lkFLC5Mbqe7vU0QwjGmHh9olOU7jYITqoegGI4m45Dsj6gaOWnCISTKgcgRu5ns2lENqztaorSOYOTKgegFENj4lP2Cz4myxgnVQ5AhCcTLy7ZDQCsrhe+fADGxB+AN5QDsFnhegAAhsaYNsUA0pWfogmSk3wA0F8s5iGbjjBvhetsh3lvTHxBlgHpjnBR4LWzw/14sUjH/m3Brp+//HkAcGNM/MoYM9da7+oI88vnTqrcDInIUMQ8j0ePqR9IDdG6KZqSjP8hBzRDlQNYajAaDdLpcFEJ+ARu0AsAxph3w0H/DLsdTqfITWpphxPdDQf3J6w6QrC7v3r9s/RS/zxPJz2SGi+ywkUgnORFEwDez+ezU8pXftZLOnFyki8ZcBPH8Sv23yN0li8ArkXMObsBUId8sRdNQERuRaT7NHxI1wVsJeTAwYMnAJb66+72+gp7W/9k3+lLEwD4MHj8rwOMOXA7L5NPGfD3eDRok9T4/1YxHwEDBUDBRAJoyQAAAABJRU5ErkJggg==",mirrorConvexMore:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAFKElEQVR4nN1aXW/bVBh+jj+StMmatGs32nXaKK2GWrViE6KiqEJMSJO44AohdsF/4I7/wh/gGnHDpGkTSBNIKzA+ulXA2jL6sa7N2qRJHNvngwvXcuLYaaaTKid+pFeyU6fHz3Pe8/p9jkOEEFARb869s/T32s933//w0y/aXXfvztdfyYyjyXz5LLG3u/nlyOj4nbMeR0kB5hbeXaxUSosz127cP+VSLjuWIfsPzgIv9rY+z+Xyf2YGsvWYSwQACsCVHUu5DFi4vnzeqh0vXhy/8jDmEgqg3hBSUC4DigfPP+OcpyYmpzdCf2IIZt1FlzJAOQGqlaOPCsMXHjV8JNBKOpkCTE3PT1PqXhi/dPWHk4+iCIePpaCUANVK6RNdN6x8YewApxNPXgbU67XlbG7oL3jFrR1pCm9pmLJjKvMUuHnrds6yKrOvTUytIKjwdsSxA+++0ychBWUyYPW3Bx+bZvpZYXjsOeJnXwOQgjfzBrpw/8oIUKsdf5BOD2wgOv2BZtJGw7kUlFkClLpvZHNDT9Dc5DgAdATp3hipk5CCEgLcvHX7nGPX5ycmp39BQJ4gmng4pKDEEvj14b1lwzDXsrn8EQLiRochBSUEsO3avGGmNtA5aT+Y7NhKCMAYfTubza+jtcK3m3UHSXGDnLGZ4ZGL6wiKW9x6N5FEN8gYm568cm0LzWs/nAk+8XBvIIWeCzA6NjGr63pR1/W41BeIJp4MM2RZ1bfMVCY8+wa8p8FpRqj/M4AQcpkQcDQL0IkLTIYAQoirmcxgEZ4AHEErfJoAviGSQs8FYIxeygxkD+A91jrdAEmOGRKcD+m68RTtCx2F1/QkrxMUEAXdMI/QXgAD8e2xFHouAOds0DRTh/A2PKJscArRfUEyBBBc5MxUugjAQkCcI5pslAhS6LkAgBCccX+7i6J9ukeJIAUFBIDgnNnwOr5XscE6EtIHDGVzeRuvRp7Bqxn9LwAh5PjEB8St+3C6NxZKaQGUsMNWrXIe7be9THiz3rhF7ocUVMiAsuPUhwFUED3rFMEjkoai/90gABCimWjdDeII1nmj+wsfS6HnAhCiHVPXKQDYR2CD48gmUQBSptTJw1vrp5ENn/d/HyCEOHQc+xyCRiiObOOxb4X7XwBCtD3G3CHEr/dwwetqJ9jzx6Dr2mt23cqj+dEWFXGvyKTQ8wwA8K/r2CMIMiA8+43pnkQzhE3XtfNorQFANOFkmSEhxB+apr3OOXM1TXfQWUvctS2xntcAACCEbO9sPR1B52+E/VfjuuzYSggAkNXS4f4cOiPvh98pSkEJAQghjy2rOovOiBM0GyIp9LwGAABjdJVzeh3t9wSAVivc/63wCX53bHucc57RNE1HM3EN7RskKSixBIQQjzmnhcrx4Sia010gvjHqyutxJQQAAEK0R3u7mwvwqjtBNNnG867UAGUEAMhPVq06gWADJIpsOJLxCxEAoNS5X60cTaK9H2jMBL9nkIIyAgghVih1B8qll2lEp70f/vZ5V8yQMgIAANG0lf82n8wjPt1NdNkNKiUAo/RutVqeQuvM++ke9QMqKSglAOfse8euD5dLLw1Ep3uUCFJQSgAhxDMh+M7O1j8ziE73sBlKlgAAAEJ+LJeK76FzVygF5QSgrvOt69iT5VIx3BVGkZe+f+UEEEJsCiF2d7c3biCevPQ+gA/lBAAAEHxTOnqxhFbiXTdvSgrgOvZ3lNLBg/3tywhejpKzGEtJAYQQJY1oD3a31pdwxvf4P44Gn0Gz9/ckAAAAAElFTkSuQmCC",mirrorPlane:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAACTklEQVR4nOWaW26DMBBFDyGPdfWna+gOurB+dA396bqSJkA/CMI4flWZJsP4SgglUmLu8RhmxjTDMPBMNU0zvLy+vf/hJ2fg8v31+SEx/lbiTx6kjqv561lEawDQM5t2zyLSDGBgadiHICKtAEKGfRgi0gagI2/e5BIYSM+2/91GamAtAI6UmQfYIXjdWgCcSEdAx3it7iEiLQBiEXBmvMYDlQDwb3J75pA3DeDEbL7n1mwIgoi0AJgiIBbuIRAi0gJgIG3ch2DuMVhqfsv4RDhKDbwmAAA/GM0EUwA2LB+LVQE4M8+66VrAB9CzTI7MR8Ce8VoaZpMh02YBHCgzPZ3N5QFHygBsmJeLiDQDcM3DbTosIm0A/BkPlcHVAMjVBSLSCKChPDO8W5oAuGVwrAdgFkBo1lMQxKQFQGkPYIPRfYHcmt8xmp46R1UBgKVxk1tjIQBTuIf2CMxHwIVlp7gaAD3LDnHMvDkALfFQD33upQbWAsC9yeXMTymyiLQB8M36O8LuvUJEmgDEZh4q2hlyzYe2yMwC8BOdlnx2KCJtAGAO91xFKCItAKYGSKoQMg2gpBhyjVdRC/hHi+FMMAeg4/ZGKSLtAGDZJa6mHA6VwqEE6W5pBOB2flJ1gYg0AXBL4erK4VQp7H83pcgi0gKgdOanUtgsgJh5vxQ2ByDW/4PK3hR1j6qKIReAG+7VFEOn6zlkuIol0JIvhlwQjdTAWgCUvirbSg+8JgD/ojUAEAv3kDQDEHslPiWNAMTXeUraADxcDwmzAj1tIn4BkQlpHeHCNsQAAAAASUVORK5CYII=",screen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAABG0lEQVR4nO2bMQrCUBBEZ0XwRNolh9fSE1mthUkMaaz8b2HnNYEg/PEp2WXQyEx15kQHoLEAOgCNBdABaCyADkBzpg6OiKuki6RYbqWkV2Y+R+bABOjz5h+He7fRIUgB6yc/L1dkJSUFbGTm8ZswjPYPQQugA9BYAB1A2nYChAoC7uThFQTMv1/yPyoI0Oj1d08JASQWQAegKSHAYxCkggCPQY9BEAugA9C0F1CiE4yISQ1r8ZX9HtCqFl9xLe5aHMQC6AA0FkAHkNwHuA8gD68gwH0AiQXQAWhKCPAYBKkgwGPQYxDEAugANO0FlOgEl1pcAqpxUsDaAh/3gKHVOCngJWnS91fjElCNh/842RwLoAPQWAAdgKa9gDf69Tyvp96DuAAAAABJRU5ErkJggg==",mode:["#c73838","#3333cc"]},window.LaserCanvas.theme.line={block:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAEw0lEQVR4nO2bv4tVRxTHP7OKEEQxYJdiRRCssiuy2RSS+wyxExTrgJUJqbawDNGwRUCJmpA/QNJYJQqCTQLrjyZR8VeRFCExChaGQGwkKlEnxczT++6bH2dm7vO+t+sXHuidOXPne+acM+fM3FVaa3xQSr34d6hf27JtjxWSnxrFSyeFPHgUsFLIg0MBK4k8NBTQFoFJIQ+g+h3aXL0SvEry4HCBlUQeYHXJC9tEmxaYIr863uXVYhSxp69cV/vYKGBUFli3LBe8idByQFYesFyQlQf4BoqZURcIzSsrD4i9DOgB54Fut4uXUPjn4mtTWusBraW4wAxwW2s9VfoDdgIXgfczZN8DbgA9R9s8cMvT9ilwZ4iV1jr6szgJ/CDpHxlrB3ANqDJk54HvgB2Otgq4Ccx5ZM8BZ4aeJyjgOvBFIXkvAYHsLMas5z1tZ0NKBf4EDgcV4LMIi2c5E5cQEMhWluCsp1372mz7FPDIuoZbAT6XqPn/U+ANx8SGBk0lEJGdsz7vXV3BGJvtAk47FRCKCRb7gfsOUudjCighEPPrhHE+AR4E+LnJ1zqcAH6qPRMFshICEr9OGOuUXSy/AgLCAEvAN/b/okBWSoCIXyeOdcsu4nCbQBhrPh+SEMjaJFBIfhXwEPjSpYBgNWgzwGlgvSW0CGzTWt8MydkXjUv+vBtYC3zvbBWs/l7gMYWRuKPVnwd+xuwAzj6S84AKs/ofaa2vFqxEEZRSFSaXvyDsP4shfxr419dPUgvsA66MAfnPE/svAtuAtzBB0A2BC9wDPuvQjJNqBxp5B3AfWPBxjQ22AXgOvN0iIVH2WPNhce1AI+/ABL//7PM0BVj0gKctk49mj7ZvUu2AI+/AlN3eAChRwGEaKXABebEpk1E74Mg7gCOYKjZbASeBJc8ERWZs+4tNuenDhUr/EThTooAbwFEHeZEZa51myk0fbkEBt4FDyQqo4Tmwq/Y8NSKLTdnlw4Xk12D2f28AjCmgAp4A6+yz1IicZMouHy5UwBbMGcaGXAUsAH/VViclIrdqyhnkK+AY8EeIvNbhVHgTcMdmVQcRFkE2BT0ILOgOssdG1ng3KhCwgCVMHp0UkemwDKYWo4BfiQRApwvU8Axzjt6JGWeQH4hRwN/AnlwFvGMVsK9rYkLyAzEK2IhJgadjCvDFgL3AQ6316agPjQjS8tcTo3qY67G7Dasegq8cfgz8njDfViEtf5VSc8BXwDE9GKAr4JLoZR4XWAK+7cici0+cgQvAcRc/aQz4B/i4gERSrVCTa+XEGbP97c9VwCZMBrW5gLy4VmiQKj5xBt7EXIPN5CqgAh5kks+6+aXg6swx1gd2AZ0uLlHAIeCXjBdn3fzSYvlrx1skcgZQ/7m2wVngN0jaivonsO9qrS+H+jbkKuBr4IBuL23ejgmOIri2wRngcsJWVPHywiSF/Khqhq2EToGb87BmU5+YxpwD9L+zCWUSStjPhVX2PalyknF7wMUmNxdcLvDiSis0wLh8XO1Cf25Kqejcsj6XnwTykPi1eA6pSScPNgaM84pKkcth4Ap7pZEHYcAbZxT/kUWu4DigDdedmlTydZRwEH0svZyxbP9eQIrXCuh6Al3jtQK6nkDX+B+eWGPcbyXoFQAAAABJRU5ErkJggg==",blockFill:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAADIUlEQVR4nOVbS24bMQx9LHIgdxG4iwDjG7VHCHqernIBp0A3XRTNjdhFxsDUHkt8pCgJrYDZ2EOJj0/8GhZVxf+8Pow4VEQWETmNOPt6dTeAiCwAnnufe3epKvUAWACcWLlV9gnALwCLRz7joW5AhD0ROQL4AuCzqn737NFq/eWCPdgDcACgAI5RxhC4gRv582UPq9ARwDcAT84DXwAcGoE/ew2wR2IqewAeAfz23BqL8qT8Lolp7K2ybwAeG4B338AaiSnsrQe+NGI+FD9qJKawtyrcyufd8cNCYip7QfCh+GElMY29BsxHbqCZxGEgWyhf2MNMoqwC0ywRUQAfVfUtYe8FgKjq6+WzId1gaamqJIJ/3jvwn39QKKIeWlt6tnXVhP24+d4aA/b8Z4ZV0ktEDnhPpZ9U9eeevCkGZA4xItOhkl7rd1/xHlB3wQMwNUNpQwwEuruSXiCKqNohoSYky7AlvUAWUaVDmg0xWhq2pBccRVTpajYZYrQ0bE0vOMr4vU3oJgTGMVXEsB69aAOw/rORqQayCACPXrQBXP5jDGQRAB69vAag/McayKIAPH5tION0YwAHK6ZA1hpAA/DnkAEyM0Qy+F13ZTdJicQdwN8vnEjmUyIxCcaUcjfvF92V2WSGQSnVO1jc1Xrw8EBmTbmb903uOppNK5NU78C460jwpqvMpNzN+2Z3HQHefJU9KZcu6BowWWVx8775KvdKuVHwTERmqsduKdcLno3I5qvcO+V6wLMRmbrKvVMuC56NyEOrR0uMYjczR+TR1aM1Rlk384zJhlWPVKo1WnJ4E0SA52JUZbMpmiACPD1xrm04QxNkKrY8VWPVAKMfcyCLTJxHgyyASp84pxuA7RU2cl0mzqkGYHuFK1DdJs5Z4F2//HoD2VQGYPPwRm7IxJlh5mR4z/XL78hiy6qcJRX58nCHYqtEYE3Qmooiv/ymFls1AkuC1lQ0ba9gIfCeoMmXe1zfAHgbgXcYtY6vhvcKEQJvDDAqFTUGzw1urgSn9GUCPD+42VyZKX2ZZJ4m8CI8pS8T4N0ETveHCc+K/MniD0Ph+Fyz0REkAAAAAElFTkSuQmCC",grid:null,lensConcave:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAADBklEQVR4nOWbTU8UQRCGnxLiQRk+IpIoqGsUiURueMef6c1fYrybmAAeFL/WBQzGGGABYwxQHno36e2dGS5M1YZ+b/2R7MtDVXdPTY+oKjlr3PLHRGQVeAl0L5h6E1hT1T9NezIFABwB56r6omqCiMwCr4BTC0PXLH4k0hdARWShZs4z4EBV/1kYMgWgqqfAFrBSM20J+GDjyD4CAL4BqzXjTwiQTOQB4B2wXDO+Anw08uICYJ2Q50MSkQngBlccQJsKAMA8sK+qf63MmANQ1XOgLSKtkuFlAiAzeUQAhD+yVdJ/D/hhacQLwCbwvKR/EfhkacQLwBYwV9L/GNixNOIFoEMI91SzwFdLI14ADoCpuENECoKf35ZGPBfBNAKmgRNVPbM04gJAVTvAgohI1L0A/LT24hUBEGoCM1H7ESE1TOUJYBu4H7XvYnwIAl8Ah4S872uq12cq7xSId4JJMgOQRsAkF9cKL13eAOIIEODc2sQoASgIRVNTea8BRdQuyGwNgBD2fRVkdg44JCx8fQlg/prKE4AyGAETZLYLdBmMAMhsF0hVkFkEDKlXMDXVSAHw0CgBOBaRdE1oXKMEoMvgrmCiUQIwTmYAXJ7/U3kCSP/bJww+G5holCJAcfDjCSA9+GQXAWkKKDBmbcITwC3gOGorgyUyE3kCuA78itr7ZJYCaRV4l/B2yFTei2AMIK0Sm8g7Avaj9hGZpcAdwj2BvnYIl6RM5QJARMaBCVWNzwFDdwYs5BUBZZehtgkvSE3lBWCG4fJXVttgWQQcAFgXRbwATJM8CvfqgXsM3hloXF4A5gkHn1RnwG1LI54p8L2kf536m+SXLi8AS8D7kv4OVz0FRGSMkAKdkuGrD4CQ493kENTXBtVX6RuRB4Bl4HPFWJvyK7SNyQPAAyouRPe2wsOKbwkakQeAReo/inoNrNlY8QHwkPIFsK9N6r8qu1R5AJgj7PdVeku4NmsiUwAiMg1MqupezbQN4KmRJfNvh1vAmIi8uWBeISItVW03bUhy/3z+P7J+r1uTZpY+AAAAAElFTkSuQmCC",lensConvex:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAACr0lEQVR4nO2bzU8TQRjGf28TvSC0epCKtGpEeyBELt49cvO/9WzCP4DBzygIJRYwgmUxionx9TDb0Gx39rbvu3F4kiazM4d98ttnPnamK6pKymp53VhENkRkU0Re5r8HHj7cAACPgReq+gw4yK/N5QngEfAxL7/Pr83lCeAh8DYvfwAGHiY8AawAu3l5H7jjYcIFgIgMgF1Vvcir3gFrHl68ErAGfJpcqOoP4HMOxlReAPrAqFB3CJhPhV4AVoCvhbpDoGdtxAtAF9gp1I2AJWsjXgDuAsNC3TEOawEvAEuEqW9aO8CitRFzACKyDByp6p9C05CQDFN5JOAmkJXUnwLzxl5cAHSA82Klqv4FjvKEmMkDwDKza4CJMkJCzOQBYBH4HWkbYbwW8AAwR+jvZfpCWCWayQNAj9k1wERnhDHCTB4ABIhtRJ5jPBN4AGgTnnSZlADITB4AFogDuABuG3pxS8A40vYNuGHopXEJOMvbzdS0QTD5MeCUBABAPAEt4JqlkaYlICOBQRCNn8gmMQY0Sk0D0CKFLlCheeC75Q2bBsBcVwC8DXjLA0AmIu1IW5vyHePa5JWA2FxvugYApwQQnnSZqjZLatFVAqxvSHjCsQQskMAYUNUFOiTQBaq2vq8z+8eJWtW0BNwCfhl6aVwCqvYKalHTBsEu8NPQi1sXiO38zgEnhl5cAAyJnwBXnRvWIg8AY6pXgv/9fsABsFqsnHpBip0a1SIPACeUjwEdIKvYMK1F5gBUdQwgIsWp8B4hHabyehnaA+4X6pIH0CNxAH2Mp0DwA7BPiPy0kgKwx2wCVkkcQF9Vi3+hr11eh6NbwLqItABEZB3Y8vDieS7wmssUPAW2PUx4A3iSl7uEbwfN5Qlgm8tP5QYk2AVeARsisgk8B954mJDUP5//Bz4xl28o9LCEAAAAAElFTkSuQmCC",mirrorConcave:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAC4UlEQVR4nOXbvWsUQRjH8c8kKkG9SLQSTQohoCAYG7VQon+BRUALwb9AiCj2wV6x8Z+wUSxFUDGFIqKFglqIGBGC4Ft8KQTHYvfCed5LCm8Gbh5Ybmfmudv5PTsv352bFWOU+kCsP2dxEzN9/NVf+v91yRSAJzhVf86uRfygAhDaL5LCQgi3MI0TMcZHPfxWzwdVz5GB/GoPq0UtY7GP+MPN80HepOQBqO0GNnQrrMVfY7DiyRCAWtArTHYqDyHMYl7VPdJUKNNA+BkjbXmzuIOjyeqRMQDPMd2SPozH+swK//vINQbAS+yEEMJBnMV8jPFeykqsS3mxNnuHqRDCDB7gUIzxYepK5A7AEcxhf4zxaTfHJg8MYlDM2QWWcByX1iJ+UJYlALWod3jWq88PMwnCJ3RVNewkCG+xvVPB0JNgfXzFeAhhtLU8NQnmbAHwHtuaiVr8Aq7GGBdTVCB3AJaxg9VmfxkLMca7qSqQkwPgG7a0kWCSO9+03AFYwT5cUSAJUk2Fp5VIgrWoX7ifkwSztIAWUV/xfQ1+Q0mCVIPg5i5+w02Ctajf+KeNpyTB5F2gTdAKGq0ZNQydUQgJ/mU5SDD3NBjVXaCFBM+lXBbLHYAfmCiZBH+qWkCRa4KwHnsVTILwptQ1waZ9WovfsJJgL78iSLCjlUSCI9pWhksjwXHVEyHKJMFx1fNAsSQYEEsmwYZqPaBYEmzgmIJJMOB2ySQ4odoW089vaElwE7508SuCBBs6BKAkEpzQAkKUR4IBH1cTBZLgJtWGyfJIMISwARtjjCulkuBOLJe8T3ArRnFRRhLMGYBJ7MFcqSS4G9dL3ic4hhc9/IabBFVjwFKngiJIMIQwpdou+5eVRIKb8bo1IwcJ5npbZAyP2/KyvDGSaxqcwodmokQSnFTtElUqCe7Ch7rPn9eHBAdpuQKwTfWP0BWczSWefAGYwQGcjD1en01hyQNQk+ARXMgtHv4ARxzm0RPP27YAAAAASUVORK5CYII=",mirrorConcaveMore:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAADlElEQVR4nOXbvYsdVRjH8c+jrq6CZokEFaMuKUSDWTfBoMXiBauAgmBhIRZC7HxJYv6BpA0qgtj5F1iICJLKQklQUZMQYYOKEhViIUhWVATFY3Fm1vF65251zwl3fjCwd+ZZ5nmeOXOe75wXKSWzPpBwXfP3CO9idYv/GWHvrH27ShmdwJGI2I/X8EpK6VyfcUSs4ShumrlnhVrAbpxvjv1b2K7hEtZK+HbNzDOctY7f8E5K6dM+o+bJP4snU0qnSjhW6hWAl7Gr72IT/Ft4s1TwFEpA07RPYjki7hm/HhEjHFLwybcq1gJSSr/jQzzaPd8EfwxvlA6+dazYIXeGb491eJ9jVNKPGp1gm+z1iEgRsQ8LOIxDVZ58o6IJaHQGT+MIHkopfVLBh02VrAKt3scTMuX1Bh8Ro4jYO2tniiYgIuAcvsKvU+yKkWCxBDTBwx8yGI167FoeOJFS+mDWfhVJQCf4tvc/jQcm2BUnwVLl7z/3wk5cGLMp+g3QHsVIsJuIJtAfI2I3dUmwRhmUUvo7Ir7ESkTskEnweA0eqJKARt/icdyNl0p0eJNUgwNafY09MglWCZ5KCWiqwnks1MRgKiSgUxIv4pYpdnNLgsgdIdYjYs8Eu2IkWKwTnABD8Bd2jNm1JFikJNYiwVbf4M6OXXESLD0eMH7qIpYp/+Rb1SLBVhvYNogxwR5dlkeKj6k0JliTBMkJWMEzgyPBpmO8jJ+GSoLkBCzU8KFVTRLcym7uSbC9//98GBIJ/imXwq7doEjwatzYsRscCS7JHWE1EiySgB4KpElAQ4LPGyAJLmHRgElwCfvkJz9IErwNJ4dMgov4rIYPrWqT4K34rsduECR4hwkJmLt1guNlsIPB32NbzTnCmiS4jI2U0kbHblAkeBd+aH8MkQRX8AWbs8ODI8FVeWKk6jrBmiS4HdfjVRVnh6skICKuxX3Nz8GtEyTz/y48lSqvE4wpn6qzuWEuia/jhpTSwSl2I/ySUjo7S39qkeB2vDfFbq7HBBdlCPq4x26+xwRxL35OKV2aYDf/JBgRB/DR+LUhzQ7fL2+c2NRgZocjYqc8DHamc25QJPgwzqa8faZt9lVJsPS3wCM4BRHxoH93jFQbEyxZBm+XF0SdjohVuQxW3zFS8hV4DBfkTvCovGOkd/tsKZV8BQ7Iq8K23DtcUkVaQNPkb8YLOJimbJ8trVKvwIsy/z93JQUP/wDTGOt5g1aRMQAAAABJRU5ErkJggg==",mirrorConvex:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAC2UlEQVR4nOWbS2sUQRCAv1oEPeya9YU5+Ag+wIP4JEQhmL+gB8+e1KNB/0COgg/0nL/gMSdvggfFS0RBEARxSbLoIcuO5Jjy0DPr7riTrOzMbDFVsMx0Vc/OdHX31NfT3aKqWBARuQncUdVbGfbeeZ7PXMvtn8aXi8DHYQYRWUjO864wSw6YAb6nlXHhlyD/woMtB1wFVvsVIjIPPAeWCuuqqjrxH6EiOindHPAKmC/y3nuKcet/ywzQShIicgl4B1xT1fdF3tiKAy4An6HX5x8Bl1V1NeuCJCqM2zWsOOAMsC4is8ALYHGUwuchVhxwOD4uA3dV9UNWxrx5wIoDTgCngAdlFh7shMHzwFNVfZOVobIkKCI1Qkt8vUOeSpNgE0BVu8OMRZOghXfAASAaZugjwYdFkaAFBxwH1tNKEZkDFgkvxrdF3dyCAw4BW/0KbyRYB9pJwiMJTgMbAJMgQQtRoAFEcc0vA/fK5AErDmgSmn3pJGihC+wDHjNin4eKkSBwFLixS+ErTYINoJNl9ECCDZyTIMB2WuGJBOvAwEDIGwkOiEcSFOIuMAkStDAnsBYfFwgTI7O75M/12S2EwU7c5ydCglJUeBn5AURawDEckyCqKp5JcEfxQIKZ4okE/xFPJIiI1FR1uy/tigQjYD/xiNAjCfbE8+xwLa75lzicHY6A68B9nH4T/A2s4JgEFbjimQQjYCrL6IEEu2Q4wAsJdgkcMCCeSHCLv4ukAH8k+AvYmyTKJkErL8E6DJDgM0+zw5vAlOfZ4TXgNI5nhzeBs8BtryTYIoTCT1kZKk2CqhoRcLg5zO5lx0gEHEwry9gxYsUBbcJ6wZ6kSDAzKowrVhzwk7BaHBggwSdFYjDYiAIA34Aj4JMEIbDA9CRI0EoLaBE2TZS+Y8RKC/hBGBG63THSJgyIXJJgUqAvwLlh9kqTYJ9sACfTSg/fBBP5Slgo0ZMyvgn+AWIYCr3NpIIQAAAAAElFTkSuQmCC",mirrorConvexMore:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAADgUlEQVR4nOXbv4tcVRTA8c8Jsjbij7gQQjRYqIEUMVFjFlkc0c5C1MK/wIBFIGI6sQhik8KghZ3Cgl0INopiFZWw6EpiUKOIRNcfmMLCwWhj4bV4b5a3k52dhX1v5jL3wIN5717mcn7e75x3R0pJjhd2od+4X8TvWGxznRvkKy/gFERED8fwbErpfKurTNvTI7w/j+9xM3o4h0e7WCvXCHgGH+AATuPFlNInXSy0o4sv3Y5ExBwew9eqNDjelfLIMgIexm68jYWU0uddLpZdBOAobsGhzZSPiF5EHNruYlkZICL24Am8mlK6tMm8RZxQFcntybQrfqPywxLeHTOvVR7IIgIiYvBxDu9tMm8Rz2mTB6bt+Yb353ABuyfh+awioFbwIVxOKV0dHq9J8LgOSDALA9TyOC4PP6yVP4k321aevAywDxebD+qcP42TKaWPO1l12vnfyPHfcFPj/gjOajnnh68sSDAiFnAxpfR3fX8Qn5kACWZhANyH71jL+RMqEtwMhnr4K6X05XYWzqUGPIgrEXEYr+O1McrPFgnivOo3wCUcHjO3VR6YuvK1UtdUBNjbgvJLbSmfhQGwFwkHJ+n5wZVDETyAM2l8weukJ5hDEdyFf0cNdk2COUTAHbiy0UCDBGe6J3gXVocfRsQRhfQEb0W/+aA0ElxngBJJcM0ARZIgflLVgZ4pkGAOKQD78byq4H0xatJM9gRVEVA0Cd6GnSmlP0dNmHUS7OO/UYMl9ASTKgquk0n0BHNIgb5qK1wnQyTYuucHkoMBrpPSSHBdBJRIgmsGmAYJ5hAB1zBfe/QNHN0CDJ3R0paYgwGu4h48qVASPKZwEvxZ4T3BVdw5arBrEpx6CtTh3ceOEWF/wZj3Bdu5cogA+FXVE1iTknqC8I3qBemPTJYEc4mAb3E/azn/isLOCf6ggqHyeoJ1sduPFQW/HVYr9dQWlF9qS/mU8gChgXyKG0cNtv0bYCBZ1IDau8u4d6PxUs4JLqtOhq2TIkiwkeMrmB/K+SJIcCArquPyxZHgQJaxEBFfmRAJRmMbmrpExF68g3/wUiqkJ9iUX1TNkY/GKD9TPUGs+9PEWezZZF6rPJBFBDSUh/exLyJ2bjCv9Z5gFgYYSL01reIPPNIca3j+rZkkwaFi/CGeHtyUQoJNOYfbI+Lurkkwq22wKRHxsuoY7QM6PCf4P+YrwG7bs8azAAAAAElFTkSuQmCC",mirrorPlane:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAABLUlEQVR4nO3WsU0DQRBG4TeImF7IQe6CCgiJoAGacBN0gURMS0OytixLZ+Pg/r3gvcjB6m5n7+T7qruZUVUdfnZ316W1a3Y346Ynw19bt6uqxzX3Ej+A0+EvvX1V9QR8AA9r7ud+zYufd+PwX8BLd/+suafYG3Dj8K8EhofwGwDbefKHYgdw7WtTVTvgjeDwMOkrcN4Y/hPYJ4cHqFkOOG6gqoFf4L27v+P3n3kA44+xgef0kz/uQQlOSAmOlODyOiWIElSCkZSgElSCSjCeEhwpweV1ShAlqAQjKUElqASVYDwlOFKCy+uUIEpQCUZSgkpQCSrBeEpwpASX1ylBlKASjKQElaASVILxlOBICS6vU4IoQSUYSQkqQSWoBOP9V4KJNivBVNED2NrwAH+gn5InJVoetgAAAABJRU5ErkJggg==",screen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTIvMjEvMTXu5QccAAAAwUlEQVR4nO3b0Q2DQAzAUK7q/iunv9ABeB+xF8BYOl0UwZmZazMfLaApgBbQFEALaAqgBTTrA3zlw885jylsZs7bDjTAdZmXvrP+CBRAC2gKoAU0BdAC/7PA2/AAzQGYAmgBTQG0gIYH6BrsGrQUQAtoCqAFNOsD8K3wfQ5oLQ5YfwQKoAU0BdACmgJogfYBzQGWAmgBTQG0gIYH6BrsGrQUQAtoCqAFNOsD8K2w/mL89N/gcgqgBTQF0AKaAmgBzQ8DMSh/3VpjewAAAABJRU5ErkJggg==",mode:["#c73838","#3333cc"],drawMethod:"wireframe"},window.LaserCanvas.theme.set=function(){"use strict";var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),function(t,a){var n=window.LaserCanvas.theme[t],i=function(e){var t,a=n[e],i=document.querySelectorAll('[data-theme-image="'+e+'"]');for(t=i.length-1;t>=0;t-=1)i[t].innerHTML='<img src="image_url" />'.replace("image_url",window.LaserCanvas.theme.baseUrl+a)};n.grid&&e.sheet.insertRule(`[data-theme="${t}"] .laserCanvasFrame { background-image: url(${window.LaserCanvas.theme.baseUrl+n.grid}); }`,0),document.body.setAttribute("data-theme",t),function(){var e,t,r=n,o=1,s=function(){(o-=1)>0||a&&a()};for(e in delete window.LaserCanvas.theme.current.drawMethod,r)r.hasOwnProperty(e)&&"grid"!==e&&"drawMethod"!==e&&"string"==typeof r[e]?(o+=1,(t=new Image).onload=s,t.src=window.LaserCanvas.theme.baseUrl+r[e],i(e),window.LaserCanvas.theme.current[e]=t):window.LaserCanvas.theme.current[e]=r[e];s()}()}}(),window.LaserCanvas.localize=function(){"use strict";var e={buttondark:"Dark",buttoninspect:"Inspect",buttonlayout:"Layout",buttonlight:"Light",buttonline:"Line",symboldielectric:"D",symboldispersion:"DC",symbollens:"L",symbolmirror:"M",symbolprism:"Pr",symbolscreen:"I",elementdistancetonext:"Distance To Next",abcdsag:"Sagittal ABCD",abcdtan:"Tangential ABCD"},t=function(e,t){window.LaserCanvas.Utilities.foreach(e.querySelectorAll("[data-"+t+"]"),function(){"localize"===t?this.innerHTML=a(this.getAttribute("data-"+t)):this.setAttribute(t,a(this.getAttribute("data-"+t)))})},a=function(t){var a;return e&&t&&(a=e[t.toLowerCase()]),a||t},n=function(e){return"string"==typeof e?a(e):(t(n=e,"localize"),t(n,"placeholder"),n);var n};return n.set=function(t){e=n[t]},n.elements=function(){var e,t,a,i=document.querySelectorAll("[data-localize]");for(e=i.length-1;e>=0;e-=1)t=i[e],a=n(t.getAttribute("data-localize")),t.innerHTML=a},n}(),window.LaserCanvas.localize.de={buttondark:"Dunkel",buttonlayout:"Arrangieren",buttoninspect:"Untersuchen",buttonlight:"Hell",buttonline:"Liniert",symboldielectric:"D",symboldispersion:"DK",symbollens:"Li",symbolmirror:"Sp",symbolscreen:"i","linear resonator":"Standwellenresonator","end coated resonator":"Resonator mit Endkristall","ring resonator":"Ringresonator","propagation system":"Lichtausbreitung",system:"Optisches System","angle of incidence":"Einfallswinkel",brewster:"Brewsterwinkel",crystal:"Kristall",curvature:"Kr&uuml;mmungsradius","curvature face 1":"Kr&uuml;mmungsradius 1","curvature face 2":"Kr&uuml;mmungsradius 2",delete:"L&ouml;schen","distance to next":"Abstand","face angle":"Schnittwinkel",flip:"Wenden","focal length":"Brennweite",plate:"Blockelement","radius of curvature":"Kr&uuml;mmungsradius","refractive index":"Brechungsindex","thermal lens":"Thermische Linse",thickness:"L&auml;nge",type:"Schnittart","abcd sagittal":"ABCD Senkrecht","abcd tangential":"ABCD Waagrecht",annotations:"Anmerkungen anzeigen","calculated values":"Berechnete Werte anzeigen",distance:"Distanz","element properties":"Elementeigenschaften anzeigen","extended data":"Erweiterte Daten",mode:"Modenradius","mode size":"Modenradius","mode spacing":"Modenabstand","optical length":"Optische L&auml;nge","physical length":"Physikalische L&auml;nge",property:"Eigenschaft",rayleigh:"Rayleigh",sagittal:"Senkrecht",separations:"Entfernungen anzeigen",stability:"Stabilit&auml;t",symbol:"Symbol",tangential:"Waagrecht",unit:"Einheit",waist:"Taille",wavelength:"Wellenl&auml;nge"},lang=navigator.language,la=/^(de)/.exec(lang),la&&window.LaserCanvas.localize.set(la[1]),window.LaserCanvas.Math={},function(){"use strict";var e,t;(e=function(t){var a;if(!t.length)return new e(Array.prototype.slice.call(arguments,0));for(this.length=t.length,a=0;a<this.length;a+=1)this[a]=t[a]}).fn=e.prototype={constructor:e,length:0,push:[].push,splice:[].splice,foreach:function(e,t){var a,n;for(a=0;a<this.length;a+=1)void 0!==(n=e(a,this[a],t?t[a]:void 0))&&(this[a]=n)},norm2:function(){var e=0;return this.foreach(function(t,a){e+=a*a}),e},norm:function(){return Math.sqrt(this.norm2())},normalize:function(){var t=this.norm(),a=new e(this);return 0!==t&&a.foreach(function(e,a){return a/t}),a},atan2:function(){return Math.atan2(this[1],this[0])},add:function(t){var a=new e(this);return a.foreach(function(e,t,a){return t+a},t),a},subtract:function(t){var a=new e(this);return a.foreach(function(e,t,a){return t-a},t),a},scale:function(t){var a=new e(this);return a.foreach(function(e,a){return t*a}),a},negate:function(){return this.scale(-1)},dot:function(e){var t=0;return this.foreach(function(e,a,n){t+=a*n},e),t},normalizeDot:function(e){var t=this.dot(e)/Math.sqrt(this.norm2()*e.norm2());return t<-1?-1:t>1?1:t},cross:function(t){if(2===this.length)return this[0]*t[1]-this[1]*t[0];if(3===this.length)return new e([this[1]*t[2]-this[2]*t[1],this[2]*t[0]-this[0]*t[2],this[0]*t[1]-this[1]*t[0]]);throw"Cannot calculate cross product for "+this.length+"-vectors."},rotate:function(t){var a=Math.cos(t),n=Math.sin(t);return new e([this[0]*a+this[1]*n,-this[0]*n+this[1]*a])},matrixMultiply:function(t){var a=this,n=this.length,i=new e(this);return i.foreach(function(e,i){var r,o=0;for(r=0;r<n;r+=1)o+=t[e][r]*a[r];return o}),i}},(t=function(e,t,a,n){this[0]=[e,t],this[1]=[a,n],this.length=2}).fn=t.prototype={constructor:t,length:0,push:[].push,splice:[].push,multiply:function(e){return new t(this[0][0]*e[0][0]+this[0][1]*e[1][0],this[0][0]*e[0][1]+this[0][1]*e[1][1],this[1][0]*e[0][0]+this[1][1]*e[1][0],this[1][0]*e[0][1]+this[1][1]*e[1][1])},trace:function(){return this[0][0]+this[1][1]},toString:function(){var e=this,t=function(t,a){return e[t][a].toFixed(3)};return"[["+t(0,0)+"  "+t(0,1)+"] ["+t(1,0)+"  "+t(1,1)+"]]"},isEqual:function(e,t){if(void 0===t&&(t=1e-15),this.length!==e.length)return!1;for(var a=0;a<this.length;a+=1){if(this[a].length!==e[a].length)return!1;for(var n=0;n<this[a].length;n+=1){if(isNaN(this[a][n])||isNaN(e[a][n]))return!1;if(t<1){if(t<1&&Math.abs(this[a][n]-e[a][n])>t)return!1}else if(t>=1&&this[a][n].toPrecision(t)!==e[a][n].toPrecision(t))return!1}}return!0}},t.eye=function(){return new t(1,0,0,1)},window.LaserCanvas.Math={Vector:e,Matrix2x2:t}}(),function(e){var t;e.Sellmeier=function(e,t){this.search="",this.eq=null,this.applyAction={fn:null,thisArg:null},this.panel=this.init(),this.activate(),this.load(e,t)},e.Sellmeier.refractiveIndexUrl="js/refractiveIndex.js",e.Sellmeier.formula=(t={1:function(e){return function(t){var a,n=t*t,i=e[0];for(a=1;a<e.length-1;a+=2)i+=e[a]*n/(n-e[a+1]*e[a+1]);return Math.sqrt(i+1)}},2:function(e){return function(t){var a,n=t*t,i=e[0];for(a=1;a<e.length-1;a+=2)i+=e[a]*n/(n-e[a+1]);return Math.sqrt(i+1)}},4:function(e){return function(t){var a,n=t*t,i=e[0]+e[1]*Math.pow(t,e[2])/(n-Math.pow(e[3],e[4]))+e[5]*Math.pow(t,e[6])/(n-Math.pow(e[7],e[8]));for(a=9;a<e.length-1;a+=2)i+=e[a]*Math.pow(t,e[a+1]);return Math.sqrt(i)}},notSupported:function(e){return e}},function(a,n){return t.hasOwnProperty(a)||(alert(e.Utilities.stringFormat("Sellmeier type `{0}` not supported",a)),t.notSupported),t[a](n)}),e.Sellmeier.prototype={init:function(){var t=document.createElement("div");return t.innerHTML=e.Sellmeier.panelHtml,t.className="sellmeierPanel",e.localize(t),t.querySelector(".toggleReferences").onclick=function(){var e="data-show-references";t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,"true")},document.body.appendChild(t),e.Utilities.draggable(t,{handle:t.querySelector(".dragbar")}),t},activate:function(){var e=this;this.panel.querySelector('[data-action="close"]').onclick=function(){e.hide()},this.panel.querySelector(".materials input").onkeyup=function(){e.search=this.value,e.updateBooks()},this.panel.querySelector('input[data-field="wavelength"]').onkeyup=function(){e.updateCalculation()},this.panel.querySelector('button[data-action="apply"]').onclick=function(){e.applyAction.fn&&e.applyAction.fn.call(e.applyAction.thisArg,e.updateCalculation())}},load:function(t,a){var n=function(){this.ready(),t&&t.call(a)};e.Sellmeier.refractiveIndex?n.call(this):e.getScript(e.Sellmeier.refractiveIndexUrl,n,this)},ready:function(){this.updateBooks()},show:function(){this.panel.setAttribute("data-visible","true")},hide:function(){this.panel.setAttribute("data-visible","false")},destroy:function(){this.panel.parentNode.removeChild(this.panel)},setPanelTitle:function(t){this.panel.querySelector("h1 label").innerHTML=t||e.localize("Refractive index")},setPanelElement:function(e,t){this.panel.querySelector(e).innerHTML=t},clearList:function(e){var t,a=this.panel.querySelectorAll('ul[data-field="'+e+'"] > li');for(t=a.length-1;t>=0;t-=1)a[t].parentNode.removeChild(a[t])},activateList:function(t,a,n){var i=function(){a.call(n,this.getAttribute("data-value"))};e.Utilities.foreach(this.panel.querySelectorAll('ul[data-field="'+t+'"] > li[data-value]'),function(){this.onclick=i})},selectListItem:function(t,a){e.Utilities.foreach(this.panel.querySelectorAll('ul[data-field="'+t+'"] > li[data-value]'),function(){this.getAttribute("data-value")===a.toString()?this.setAttribute("data-selected","true"):this.removeAttribute("data-selected")})},updateBooks:function(){var t=null,a=this.panel.querySelector('ul[data-field="book"]'),n={};if(this.clearList("book"),this.search&&this.search.length>1)try{t=new RegExp(this.search,"i")}catch(e){t=null}e.Utilities.foreach(e.Sellmeier.refractiveIndex,function(e,i){var r,o=i.book;n.hasOwnProperty(o)||t&&!t.test(o)&&!t.test(i.comments)||(n[o]=!0,(r=document.createElement("li")).innerHTML=o,r.setAttribute("data-value",i.book),a.appendChild(r))}),this.activateList("book",this.selectBook,this),t||this.selectBook(e.Sellmeier.refractiveIndex[0].book)},selectBook:function(t){var a=null,n=this.panel.querySelector('ul[data-field="source"]');this.selectListItem("book",t),this.clearList("source"),e.Utilities.foreach(e.Sellmeier.refractiveIndex,function(e,i){var r;i.book===t&&((r=document.createElement("li")).innerHTML=i.source,r.setAttribute("data-value",e),n.appendChild(r),null===a&&(a=e))}),this.activateList("source",this.selectSource,this),null!==a&&(n.value=a,this.selectSource(a))},selectSource:function(t){var a=e.Sellmeier.refractiveIndex[+t];a&&(this.selectListItem("source",t),this.setPanelTitle(e.Utilities.stringFormat("{0} - {1}",a.book,a.source)),this.setPanelElement('[data-field="comments"]',a.comments||""),this.setPanelElement('[data-field="references"]',a.references||""),this.setPanelElement('[data-field="rangeMin"]',a.range?a.range[0]:""),this.setPanelElement('[data-field="rangeMax"]',a.range?a.range[1]:""),a.hasOwnProperty("eq")||(a.eq=e.Sellmeier.formula(a.formula,a.coefficients)),this.eq=a.eq,this.updateCalculation())},setApplyAction:function(e,t){this.applyAction.fn=e,this.applyAction.thisArg=t,this.panel.setAttribute("data-has-apply-action",e?"true":"false")},updateCalculation:function(t){var a={},n=e.Utilities,i=n.numberFormat,r=this.panel.querySelector('input[data-field="wavelength"]'),o=+r.value,s=.001,l=this.eq;return"number"==typeof t&&(o=t,r.value=i(o)),l&&(a.refractiveIndex=l(o),a.indexDispersion=(l(o+5e-4)-l(o-5e-4))/s,a.groupVelocityDispersion=(l(o+s)-2*l(o)+l(o-s))/1e-6,n.foreach(a,function(e,t,a){a.setPanelElement('[data-value="'+e+'"]',t.toPrecision(6))},this)),a}},e.Sellmeier.panelHtml=['<div class="dragbar"></div>',"<h1>",'<label data-localize="Sellmeier"></label>','<button data-action="close">X</button>',"</h1>",'<div class="materials">','<input type="text" class="laserCanvasInput" data-placeholder="Search..." />','<ul data-field="book"><li data-localize="Loading..."></li></ul>','<ul data-field="source"><li>&larr;</li></ul>',"</div>",'<div class="scroller">','<div class="parameters">',"<table>","<tbody>","<tr>",'<td><label data-localize="Wavelength"></label></td>',"<td><i>&lambda;</i></td>",'<td><input type="text" class="laserCanvasInput" data-field="wavelength" value="1.064" /></td>',"<td>&micro;m</td>","</tr>","<tr>",'<td><label data-localize="Refractive index"></label></td>',"<td><i>n</i></td>",'<td><span data-value="refractiveIndex"></span></td>',"<td></td>","</tr>","<tr>",'<td><label data-localize="Dispersion"></label></td>','<td><span class="infrac"><span><i>dn</i></span><span><i>d&lambda;</i></span></span></td>','<td><span data-value="indexDispersion"></span></td>',"<td>&micro;m&#8315;&#185;</td>","</tr>","<tr>",'<td><label data-localize="GVD"></label></td>','<td><span class="infrac"><span><i>d</i>&#178;<i>n</i></span><span><i>d&lambda;</i>&#178;</span></span></td>','<td><span data-value="groupVelocityDispersion"></span></td>',"<td>&micro;m&#8315;&#178;</td>","</tr>","</tbody>","</table>","</div>",'<div class="comments">','<span data-field="comments"></span> ','<span class="wavelengthRange"><span data-field="rangeMin"></span>-<span data-field="rangeMax"></span> &micro;m</span>',' <span class="toggleReferences">ⓘ</span>',"</div>",'<div data-field="references"></div>','<a class="attribution" href="https://refractiveindex.info" target="_blank">Data from RefractiveIndex.INFO</a>',"</div>",'<button class="lcbutton" data-action="apply" data-localize="Apply"></button>'].join("")}(window.LaserCanvas),window.LaserCanvas.Utilities={foreach:function(e,t,a){"use strict";var n,i=e.length;if(e.hasOwnProperty("length"))for(n=0;n<i&&!1!==t.call(e[n],n,e[n],a);n+=1);else for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n],a))break;return e},first:function(e,t){var a=LaserCanvas.Utilities.firstIndex(e,t);return a>=0?e[a]:null},firstIndex:function(e,t){var a,n,i=e.length;for(a=0;a<i;a+=1)if(n=e[a],t.call(n,a,n,e))return a;return-1},elementOffset:function(e){"use strict";var t={left:0,top:0};do{t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent}while(e);return t},closest:function(e,t){"use strict";if(e)do{e=e.parentNode}while(e&&!e.matches(t));return e},extend:function(e,t){"use strict";var a=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(Array.isArray(t)?(e[n]=[],a(e[n],t[n])):null===t[n]||void 0===t[n]||"string"==typeof t[n]||"number"==typeof t[n]||"boolean"==typeof t[n]||t[n]instanceof Element||t[n].prototype?e[n]=t[n]:(e[n]={},a(e[n],t[n])));return e};return window.LaserCanvas.Utilities.foreach(Array.prototype.slice.call(arguments,1),function(t,n){a(e,n)}),e},stringFormat:function(e,t){"use strict";return t=Array.prototype.slice.call(arguments,1),e.replace(/\{(\d+)\}/g,function(e,a){return+a<t.length?t[+a]:e})},stringFormatPrecision:function(e,t,a){"use strict";var n;for(a=Array.prototype.slice.call(arguments,2),n=0;n<a.length;n+=1)"number"==typeof a[n]&&(a[n]=e>=0?a[n].toFixed(e):a[n].toPrecision(-e));return this.stringFormat.apply(this,[t].concat(a))},prettify:function(e){"use strict";var t=window.LaserCanvas.localize(e);return t!==e?t:e[0].toUpperCase()+e.slice(1).replace(/([a-z])([A-Z0-9])/g,"$1 $2")},numberFormat:function(e,t){"use strict";var a,n,i;if(isNaN(e))a="-";else if("number"!=typeof e)a=e;else if(Math.abs(e)===1/0)a=(e<0?"−":"")+"∞";else if(Math.abs(e)>1e4)a=e.toPrecision(2);else if(Math.abs(e)>=100)a=Math.round(e).toString();else if((i=(a=t?e.toFixed(3):e.toPrecision(3)).indexOf("."))>-1)for(;a.length>i&&("0"===(n=a[a.length-1])||"."===n);)a=a.slice(0,a.length-1);return a},draggable:function(e,t,a){"use strict";var n=null,i=LaserCanvas.Utilities.extend({axis:void 0,handle:e,onDrag:void 0,onEnd:void 0},t),r=function(){document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",r,!1),i.onEnd&&i.onEnd.call(a)},o=function(t){var r={x:"y"===i.axis?n.x:t.clientX-n.dx+n.x,y:"x"===i.axis?n.y:t.clientY-n.dy+n.y};i.onDrag&&i.onDrag.call(a,t,r),e.style.left=r.x+"px",e.style.top=r.y+"px",t.preventDefault&&t.preventDefault()},s=function(t){var a,s,l;t.target===i.handle&&(a=window.getComputedStyle(e),s=parseFloat(a.getPropertyValue("left")),l=parseFloat(a.getPropertyValue("top")),isNaN(s)&&(s=0),isNaN(l)&&(l=0),n={x:s,y:l,dx:t.clientX,dy:t.clientY},document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",r,!1),t.preventDefault&&t.preventDefault())},l=function(e){0===e.touches.length&&(r(),document.removeEventListener("touchmove",c,!1),document.removeEventListener("touchend",l,!1))},c=function(e){o(e.touches.item(0))};i.handle.hasAttribute("data-draggable")||(i.handle.addEventListener("mousedown",s,!1),i.handle.addEventListener("touchstart",function(e){1===e.touches.length&&(s(e.touches.item(0)),document.addEventListener("touchmove",c,!1),document.addEventListener("touchend",l,!1),e.preventDefault())},!1),i.handle.setAttribute("data-draggable",i.axis||"true"))},Debounce:(Debounce=function(e){this.timeout=null,this.defaultDelay=e||0},Debounce.prototype.delay=function(e,t,a){var n=Array.prototype.slice.call(arguments,2);this.cancel(),this.timeout=setTimeout(function(){e.apply(t,n)},this.defaultDelay)},Debounce.prototype.execute=function(e,t,a){var n=Array.prototype.slice.call(arguments,2);this.cancel(),e.apply(t,n)},Debounce.prototype.cancel=function(){this.timeout&&clearTimeout(this.timeout),this.timeout=null},Debounce)},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),function(e){var t=function(){this.names=["x","y"],this.byName={x:.5,y:.5},this.eventListeners={change:[]}};t.prototype.forEach=function(e,t){for(var a of this.names)e.call(t,a,this.byName[a])},t.prototype.set=function(e,t,a){this.byName[e]=t,a||this.fireEvent("change")},t.prototype.value=function(){return e.Utilities.extend({},this.byName)},t.prototype.scan=function(e,t,a,n){for(var i=(t.max-t.min)/a||1,r=this.byName[e],o=t.min;o<=t.max;o+=i)this.byName[e]=o,n(o);this.byName[e]=r},t.prototype.addEventListener=function(e,t){this.eventListeners[e].push(t)},t.prototype.fireEvent=function(e,t){for(handler of this.eventListeners[e])handler.apply(this,Array.prototype.slice.call(arguments,1))},e.Variables=t}(window.LaserCanvas),window.LaserCanvas.Sellmeier.refractiveIndex=[{book:"Al2O3",coefficients:[0,1.503976,.0740288,.5506914,.1216529,6.592738,20.07225],comments:"Synthetic sapphire, Extraordinary ray (e), 20 °C",formula:1,range:[.2,5],references:'1) I. H. Malitson and M. J. Dodge. Refractive Index and Birefringence of Synthetic Sapphire, <a href="http://www.opticsinfobase.org/josa/abstract.cfm?uri=josa-62-11-1336"><i>J. Opt. Soc. Am.</i> <b>62</b>, 1405 (1972)</a><br>2) M. J. Dodge, "Refractive Index" in Handbook of Laser Science and Technology, Volume IV, Optical Materials: Part 2, CRC Press, Boca Raton, 1986, p. 30<br>* Ref. 1 is a talk abstract in a conference program; Ref. 2 provides Sellmeier equation',source:"Malitson-e"},{book:"Al2O3",coefficients:[0,1.431349,.0726631,.6505471,.1193242,5.341402,18.02825],comments:"Synthetic sapphire, Ordinary ray (o), 20 °C",formula:1,range:[.2,5],references:'1) I. H. Malitson and M. J. Dodge. Refractive Index and Birefringence of Synthetic Sapphire, <a href="http://www.opticsinfobase.org/josa/abstract.cfm?uri=josa-62-11-1336"><i>J. Opt. Soc. Am.</i> <b>62</b>, 1405 (1972)</a><br>2) M. J. Dodge, "Refractive Index" in Handbook of Laser Science and Technology, Volume IV, Optical Materials: Part 2, CRC Press, Boca Raton, 1986, p. 30<br>* Ref. 1 is a talk abstract in a conference program; Ref. 2 provides Sellmeier equation',source:"Malitson-o"},{book:"Al2O3",coefficients:[0,1.023798,.06144821,1.058264,.1106997,5.280792,17.92656],comments:"Synthetic sapphire, Ordinary ray (o), 24 °C",formula:1,range:[.2652,5.577],references:'I. H. Malitson. Refraction and dispersion of synthetic sapphire, <a href="https://doi.org/10.1364/JOSA.52.001377"><i>J. Opt. Soc. Am.</i> <b>52</b>, 1377-1379 (1962)</a>',source:"Malitson"},{book:"BaB2O4",coefficients:[2.373,.0128,0,.0156,1,0,0,0,1],comments:"Beta barium borate (β-BaB<sub>2</sub>O<sub>4</sub>, BBO). Extraordinary ray (e).",formula:4,range:[.22,1.06],references:'D. Eimerl, L. Davis, S. Velsko, E. K. Graham and A. Zalkin. Optical, mechanical, and thermal properties of barium borate , <a href="https://doi.org/10.1063/1.339536"><i>J. Appl. Phys.</i>, <b>62</b>, 1968-1983 (1987)</a>',source:"Eimerl-e"},{book:"BaB2O4",coefficients:[2.7405,.0184,0,.0179,1,0,0,0,1],comments:"Beta barium borate (β-BaB<sub>2</sub>O<sub>4</sub>, BBO). Ordinary ray (o).",formula:4,range:[.22,1.06],references:'D. Eimerl, L. Davis, S. Velsko, E. K. Graham and A. Zalkin. Optical, mechanical, and thermal properties of barium borate , <a href="https://doi.org/10.1063/1.339536"><i>J. Appl. Phys.</i>, <b>62</b>, 1968-1983 (1987)</a>',source:"Eimerl-o"},{book:"BaB2O4",coefficients:[2.3753,.01224,0,.01667,1,0,0,0,1],comments:"Beta barium borate (β-BaB<sub>2</sub>O<sub>4</sub>, BBO). Extraordinary ray (e). Near infrared.",formula:4,range:[.64,3.18],references:'D. Zhang, Y. Kong, J.-Y. Zhang. Optical parametric properties of 532-nm-pumped beta-barium-borate near the infrared absorption edge, <a href="https://doi.org/10.1016/S0030-4018(00)00968-8"><i>Optics Communications</i>, <b>184</b>, 485-491 (2000)</a>',source:"Zhang-e"},{book:"BaB2O4",coefficients:[2.7359,.01878,0,.01822,1,0,0,0,1],comments:"Beta barium borate (β-BaB<sub>2</sub>O<sub>4</sub>, BBO). Ordinary ray (o). Near infrared.",formula:4,range:[.64,3.18],references:'D. Zhang, Y. Kong, J.-Y. Zhang. Optical parametric properties of 532-nm-pumped beta-barium-borate near the infrared absorption edge, <a href="https://doi.org/10.1016/S0030-4018(00)00968-8"><i>Optics Communications</i>, <b>184</b>, 485-491 (2000)</a>',source:"Zhang-o"},{book:"BaF2",coefficients:[.33973,.8107,.10065,.19652,29.87,4.52469,53.82],comments:"293 K (20 °C).",formula:1,range:[.15,15],references:'H. H. Li. Refractive index of alkaline earth halides and its wavelength and temperature derivatives. <a href="https://doi.org/10.1063/1.555616"><i>J. Phys. Chem. Ref. Data</i> <b>9</b>, 161-289 (1980)</a> and references therein.<br> <sup>*</sup> Sellmeier formula is derived by critical analysis of experimental data from several sources.',source:"Li"},{book:"BaF2",coefficients:[0,.643356,.057789,.506762,.10968,3.8261,46.3864],comments:"25 °C",formula:1,range:[.2652,10.346],references:'I. H. Malitson. Refractive properties of barium fluoride, <a href="https://doi.org/10.1364/JOSA.54.000628"><i>J. Opt. Soc. Am.</i> <b>54</b>, 628-630 (1964)</a>',source:"Malitson"},{book:"BaTiO3",coefficients:[0,4.064,.211],comments:"Extraordinary ray (e). Room temperature",formula:1,range:[.4,.7],references:'S.H. Wemple, M. Didomenico Jr., and I. Camlibel. Dielectric and optical properties of melt-grown BaTiO<sub>3</sub>, <a href="https://doi.org/10.1016/0022-3697(68)90164-9"><i>J. Phys. Chem. Solids</i> <b>29</b>, 1797-1803 (1968)</a>',source:"Wemple-e"},{book:"BaTiO3",coefficients:[0,4.187,.223],comments:"Ordinary ray (o). Room temperature.",formula:1,range:[.4,.7],references:'S.H. Wemple, M. Didomenico Jr., and I. Camlibel. Dielectric and optical properties of melt-grown BaTiO<sub>3</sub>, <a href="https://doi.org/10.1016/0022-3697(68)90164-9"><i>J. Phys. Chem. Solids</i> <b>29</b>, 1797-1803 (1968)</a>',source:"Wemple-o"},{book:"BiB3O6",coefficients:[3.07403,.03231,0,.03163,1,0,0,0,1],comments:"n<sub>α</sub>; 20 °C.",formula:4,range:[.48,3.1],references:'N. Umemura, K. Miyata, and K. Kato. New data on the optical properties of BiB<sub>3</sub>O<sub>6</sub>, <a href="https://doi.org/10.1016/j.optmat.2006.12.014"><i>Opt. Mat.</i> <b>30</b>, 532-534 (2007)</a>',source:"Umemura-alpha"},{book:"BiB3O6",coefficients:[3.1694,.03717,0,.03483,1,0,0,0,1],comments:"n<sub>β</sub>; 20 °C.",formula:4,range:[.48,3.1],references:'N. Umemura, K. Miyata, and K. Kato. New data on the optical properties of BiB<sub>3</sub>O<sub>6</sub>, <a href="https://doi.org/10.1016/j.optmat.2006.12.014"><i>Opt. Mat.</i> <b>30</b>, 532-534 (2007)</a>',source:"Umemura-beta"},{book:"BiB3O6",coefficients:[3.6545,.05112,0,.03713,1,0,0,0,1],comments:"n<sub>γ</sub>; 20 °C.",formula:4,range:[.48,3.1],references:'N. Umemura, K. Miyata, and K. Kato. New data on the optical properties of BiB<sub>3</sub>O<sub>6</sub>, <a href="https://doi.org/10.1016/j.optmat.2006.12.014"><i>Opt. Mat.</i> <b>30</b>, 532-534 (2007)</a>',source:"Umemura-gamma"},{book:"CaF2",coefficients:[0,.44375,.001780279,.4449301,.00788536,.150134,.01241195,8.853199,2752.282],comments:"20 °C, Nitrogen atmosphere",formula:2,range:[.138,2.326],references:'M. Daimon and A. Masumura. High-accuracy measurements of the refractive index and its temperature coefficient of calcium fluoride in a wide wavelength range from 138 to 2326 nm, <a href="https://doi.org/10.1364/AO.41.005275"><i>Appl. Opt.</i> <b>41</b>, 5275-5281 (2002)</a>',source:"Daimon-20"},{book:"CaF2",coefficients:[0,.4373876,.001737993,.4492114,.007827186,.1520687,.01240861,13.00204,4039.765],comments:"25 °C, Nitrogen atmosphere",formula:2,range:[.138,2.326],references:'M. Daimon and A. Masumura. High-accuracy measurements of the refractive index and its temperature coefficient of calcium fluoride in a wide wavelength range from 138 to 2326 nm, <a href="https://doi.org/10.1364/AO.41.005275"><i>Appl. Opt.</i> <b>41</b>, 5275-5281 (2002)</a>',source:"Daimon-25"},{book:"CaF2",coefficients:[.33973,.69913,.09374,.11994,21.18,4.35181,38.46],comments:"293 K (20 °C).",formula:1,range:[.15,12],references:'H. H. Li. Refractive index of alkaline earth halides and its wavelength and temperature derivatives. <a href="https://doi.org/10.1063/1.555616"><i>J. Phys. Chem. Ref. Data</i> <b>9</b>, 161-289 (1980)</a> and references therein.<br> <sup>*</sup> Sellmeier formula is derived by critical analysis of experimental data from several sources.',source:"Li"},{book:"CaF2",coefficients:[0,.5675888,.05026361,.4710914,.1003909,3.848472,34.64904],comments:"24 °C",formula:1,range:[.23,9.7],references:'I. H. Malitson. A redetermination of some optical properties of calcium fluoride, <a href="https://doi.org/doi:10.1364/AO.2.001103"><i>Appl. Opt.</i> <b>2</b>, 1103-1107 (1963)</a>',source:"Malitson"},{book:"KNbO3",coefficients:[4.4222,.09972,0,.05496,1,0,0,0,1],comments:"n<sub>α</sub>; 22 °C.",formula:4,range:[.4,5.3],references:'N. Umemura, K. Yoshida, and K. Kato. Phase-matching properties of KNbO<sub>3</sub> in the mid-infrared, <a href="https://doi.org/10.1364/AO.38.000991"><i>Appl Opt.</i> <b>38</b>, 991-994 (1999)</a>',source:"Umemura-alpha"},{book:"KNbO3",coefficients:[4.8353,.12808,0,.05674,1,0,0,0,1],comments:"n<sub>β</sub>; 22 °C.",formula:4,range:[.4,5.3],references:'N. Umemura, K. Yoshida, and K. Kato. Phase-matching properties of KNbO<sub>3</sub> in the mid-infrared, <a href="https://doi.org/10.1364/AO.38.000991"><i>Appl Opt.</i> <b>38</b>, 991-994 (1999)</a>',source:"Umemura-beta"},{book:"KNbO3",coefficients:[4.9856,.15266,0,.06331,1,0,0,0,1],comments:"n<sub>γ</sub>; 22 °C.",formula:4,range:[.4,5.3],references:'N. Umemura, K. Yoshida, and K. Kato. Phase-matching properties of KNbO<sub>3</sub> in the mid-infrared, <a href="https://doi.org/10.1364/AO.38.000991"><i>Appl Opt.</i> <b>38</b>, 991-994 (1999)</a>',source:"Umemura-gamma"},{book:"KTiOPO4",coefficients:[3.291,.0414,0,.03978,1,9.35522,0,31.45571,1],comments:"n<sub>α</sub>; 20 °C.",formula:4,range:[.43,3.54],references:'K. Kato and E. Takaoka. Sellmeier and thermo-optic dispersion formulas for KTP, <a href="https://doi.org/10.1364/AO.41.005040"><i>Appl. Opt.</i> <b>41</b>, 5040-5044 (2002)</a>.',source:"Kato-alpha"},{book:"KTiOPO4",coefficients:[3.45018,.04341,0,.04597,1,16.98825,0,39.43799,1],comments:"n<sub>β</sub>; 20 °C.",formula:4,range:[.43,3.54],references:'K. Kato and E. Takaoka. Sellmeier and thermo-optic dispersion formulas for KTP, <a href="https://doi.org/10.1364/AO.41.005040"><i>Appl. Opt.</i> <b>41</b>, 5040-5044 (2002)</a>.',source:"Kato-beta"},{book:"KTiOPO4",coefficients:[4.59423,.06206,0,.04763,1,110.8067,0,86.12171,1],comments:"n<sub>γ</sub>; 20 °C.",formula:4,range:[.43,3.54],references:'K. Kato and E. Takaoka. Sellmeier and thermo-optic dispersion formulas for KTP, <a href="https://doi.org/10.1364/AO.41.005040"><i>Appl. Opt.</i> <b>41</b>, 5040-5044 (2002)</a>.',source:"Kato-gamma"},{book:"LaF3",coefficients:[0,1.5149,.0878],comments:"Extraordinary ray (e)",formula:1,range:[.35,.7],references:'R. Laihoa and M. Lakkistoa. Investigation of the refractive indices of LaF<sub>3</sub>, CeF<sub>3</sub>, PrF<sub>3</sub> and NdF<sub>3</sub>, <a href="https://doi.org/10.1080/13642818308226470"><i>Phil. Mag. B</i> <b>48</b>, 203-207 (1983)</a> (As cited in Handbook of Optics, 2nd edition, Vol. 2. McGraw-Hill 1994).',source:"Laihoa-e"},{book:"LaF3",coefficients:[0,1.5376,.0881],comments:"Ordinary ray (o)",formula:1,range:[.35,.7],references:'R. Laihoa and M. Lakkistoa. Investigation of the refractive indices of LaF<sub>3</sub>, CeF<sub>3</sub>, PrF<sub>3</sub> and NdF<sub>3</sub>, <a href="https://doi.org/10.1080/13642818308226470"><i>Phil. Mag. B</i> <b>48</b>, 203-207 (1983)</a> (As cited in Handbook of Optics, 2nd edition, Vol. 2. McGraw-Hill 1994).',source:"Laihoa-o"},{book:"LiNbO3",coefficients:[0,2.9804,.02047,.5981,.0666,8.9543,416.08],comments:"21 °C. Extraordinary ray (e). Congruently grown lithium niobate.",formula:2,range:[.4,5],references:'D. E. Zelmon, D. L. Small, and D. Jundt. Infrared corrected Sellmeier coefficients for congruently grown lithium niobate and 5 mol.% magnesium oxide-doped lithium niobate, <a href="https://doi.org/10.1364/JOSAB.14.003319"><i>J. Opt. Soc. Am. B</i> <b>14</b>, 3319-3322 (1997)</a>',source:"Zelmon-e"},{book:"LiNbO3",coefficients:[0,2.6734,.01764,1.229,.05914,12.614,474.6],comments:"21 °C. Ordinary ray (o). Congruently grown lithium niobate.",formula:2,range:[.4,5],references:'D. E. Zelmon, D. L. Small, and D. Jundt. Infrared corrected Sellmeier coefficients for congruently grown lithium niobate and 5 mol.% magnesium oxide-doped lithium niobate, <a href="https://doi.org/10.1364/JOSAB.14.003319"><i>J. Opt. Soc. Am. B</i> <b>14</b>, 3319-3322 (1997)</a>',source:"Zelmon-o"},{book:"MgF2",coefficients:[0,.4134402,.03684262,.504975,.09076162,2.490486,23.772],comments:"19 °C. Extraordinary ray (e).",formula:1,range:[.2,7],references:'M. J. Dodge. Refractive properties of magnesium fluoride, <a href="https://doi.org/10.1364/AO.23.001980"><i>Appl. Opt.</i> <b>23</b>, 1980-1985 (1984)</a>',source:"Dodge-e"},{book:"MgF2",coefficients:[0,.4875511,.04338408,.3987503,.09461442,2.312035,23.7936],comments:"19 °C. Ordinary ray (o).",formula:1,range:[.2,7],references:'M. J. Dodge. Refractive properties of magnesium fluoride, <a href="https://doi.org/10.1364/AO.23.001980"><i>Appl. Opt.</i> <b>23</b>, 1980-1985 (1984)</a>',source:"Dodge-o"},{book:"MgF2",coefficients:[.25385,.66405,.08504,1.0899,22.2,.1816,24.4,2.1227,40.6],comments:"293 K (20 °C). Extraordinary ray (e).",formula:1,range:[.14,7.5],references:'H. H. Li. Refractive index of alkaline earth halides and its wavelength and temperature derivatives. <a href="https://doi.org/10.1063/1.555616"><i>J. Phys. Chem. Ref. Data</i> <b>9</b>, 161-289 (1980)</a> and references therein.<br> <sup>*</sup> Sellmeier formula is derived by critical analysis of experimental data from several sources.',source:"Li-e"},{book:"MgF2",coefficients:[.2762,.60967,.08636,.008,18,2.14973,25],comments:"293 K (20 °C). Ordinary ray (o).",formula:1,range:[.14,7.5],references:'H. H. Li. Refractive index of alkaline earth halides and its wavelength and temperature derivatives. <a href="https://doi.org/10.1063/1.555616"><i>J. Phys. Chem. Ref. Data</i> <b>9</b>, 161-289 (1980)</a> and references therein.<br> <sup>*</sup> Sellmeier formula is derived by critical analysis of experimental data from several sources.',source:"Li-o"},{book:"NaF",coefficients:[.41572,.32785,.117,3.18248,40.57],comments:"297 K (24 °C).",formula:1,range:[.15,17],references:'H. H. Li. Refractive index of alkali halides and its wavelength and temperature derivatives. <a href="https://doi.org/10.1063/1.555536"><i>J. Phys. Chem. Ref. Data</i> <b>5</b>, 329-528 (1976)</a> and references therein.<br> <sup>*</sup> Sellmeier formula is derived by critical analysis of experimental data from several sources.',source:"Li"},{book:"RbTiOPO4",coefficients:[1.6795,1.4281,2,.0325,1,0,0,0,1],comments:"n<sub>α</sub>; 293 K (20 °C).",formula:4,range:[.4,1.5],references:'J. J. Carvajal, P. Segonds, A. Peña, J. Zaccaro, B. Boulanger, F. Díaz and M. Aguiló. Structural and optical properties of RbTiOPO<sub>4</sub>:Nb crystals , <a href="https://doi.org/10.1088/0953-8984/19/11/116214"><i>J. Phys.: Condens. Matter</i> <b>19</b>, 116214, 2007</a>',source:"Carvajal-alpha"},{book:"RbTiOPO4",coefficients:[2.036,1.0883,2,.0437,1,0,0,0,1],comments:"n<sub>β</sub>; 293 K (20 °C).",formula:4,range:[.4,1.5],references:'J. J. Carvajal, P. Segonds, A. Peña, J. Zaccaro, B. Boulanger, F. Díaz and M. Aguiló. Structural and optical properties of RbTiOPO<sub>4</sub>:Nb crystals , <a href="https://doi.org/10.1088/0953-8984/19/11/116214"><i>J. Phys.: Condens. Matter</i> <b>19</b>, 116214, 2007</a>',source:"Carvajal-beta"},{book:"RbTiOPO4",coefficients:[2.2864,1.128,2,.0562,1,0,0,0,1],comments:"n<sub>γ</sub>; 293 K (20 °C).",formula:4,range:[.4,1.5],references:'J. J. Carvajal, P. Segonds, A. Peña, J. Zaccaro, B. Boulanger, F. Díaz and M. Aguiló. Structural and optical properties of RbTiOPO<sub>4</sub>:Nb crystals , <a href="https://doi.org/10.1088/0953-8984/19/11/116214"><i>J. Phys.: Condens. Matter</i> <b>19</b>, 116214, 2007</a>',source:"Carvajal-gamma"},{book:"N-BK7",coefficients:[0,1.039612,.006000699,.2317923,.02001791,1.010469,103.5607],comments:"step 0.5 available",formula:2,range:[.3,2.5],references:'1) <a href="https://refractiveindex.info/download/data/2015/schott-optical-glass-collection-datasheets-july-2015-us.pdf">SCHOTT optical glass data sheets 2015-07-22</a><br>2) <a href="https://refractiveindex.info/download/data/2015/schottzemax-20150722.agf">SCHOTT Zemax catalog 2015-07-22</a>',source:"Schott",tabulated:[[.3,2.8607],[.31,1.3679],[.32,6.6608],[.334,2.6415],[.35,9.2894],[.365,3.4191],[.37,2.7405],[.38,2.074],[.39,1.3731],[.4,1.0227],[.405,9.0558],[.42,9.3912],[.436,1.1147],[.46,1.0286],[.5,9.5781],[.546,6.9658],[.58,9.2541],[.62,1.1877],[.66,1.2643],[.7,8.9305],[1.06,1.0137],[1.53,9.839],[1.97,1.0933],[2.325,4.2911],[2.5,8.13],[6,1.31]]},{book:"N-LAF2",coefficients:[0,1.809842,.01017116,.1572956,.04424318,1.093004,100.6878],formula:2,range:[.35,2.5],references:'1) <a href="https://refractiveindex.info/download/data/2015/schott-optical-glass-collection-datasheets-july-2015-us.pdf">SCHOTT optical glass data sheets 2015-07-22</a><br>2) <a href="https://refractiveindex.info/download/data/2015/schottzemax-20150722.agf">SCHOTT Zemax catalog 2015-07-22</a>',source:"Schott",tabulated:[[.35,4.1097],[.365,1.3607],[.37,9.9398],[.38,5.5887],[.39,3.4069],[.4,2.2199],[.405,1.8696],[.42,1.1876],[.436,8.5873],[.46,5.6725],[.5,2.7289],[.546,1.0459],[.58,1.2969],[.62,1.5852],[.66,1.4758],[.7,8.9305],[1.06,1.0137],[1.53,4.8947],[1.97,4.5507],[2.325,2.7461],[2.5,7.2916],[6,9.2]]},{book:"N-LAK8",coefficients:[0,1.331832,.006200239,.5466232,.02164654,1.19084,82.58277],formula:2,range:[.31,2.5],references:'1) <a href="https://refractiveindex.info/download/data/2015/schott-optical-glass-collection-datasheets-july-2015-us.pdf">SCHOTT optical glass data sheets 2015-07-22</a><br>2) <a href="https://refractiveindex.info/download/data/2015/schottzemax-20150722.agf">SCHOTT Zemax catalog 2015-07-22</a>',source:"Schott",tabulated:[[.31,4.5442],[.32,3.2787],[.334,1.794],[.35,8.4116],[.365,3.8167],[.37,2.9262],[.38,1.6845],[.39,1.1028],[.4,7.4725],[.405,6.3414],[.42,4.0721],[.436,2.9455],[.46,1.916],[.5,9.5781],[.546,8.7117],[.58,1.1111],[.62,1.1877],[.66,1.0531],[.7,8.9305],[1.06,2.0305],[1.53,1.0336],[1.97,8.0161],[2.325,6.4201],[2.5,1.8323],[6,1.25]]},{book:"N-SF10",coefficients:[0,1.621539,.01222415,.2562878,.05957368,1.644476,147.4688],formula:2,range:[.38,2.5],references:'1) <a href="https://refractiveindex.info/download/data/2015/schott-optical-glass-collection-datasheets-july-2015-us.pdf">SCHOTT optical glass data sheets 2015-07-22</a><br>2) <a href="https://refractiveindex.info/download/data/2015/schottzemax-20150722.agf">SCHOTT Zemax catalog 2015-07-22</a>',source:"Schott",tabulated:[[.38,1.9467],[.39,9.9127],[.4,5.6823],[.405,4.5981],[.42,2.6531],[.436,1.9327],[.46,1.3809],[.5,9.0035],[.546,4.757],[.58,4.107],[.62,4.5921],[.66,5.1035],[.7,3.8205],[1.06,3.3911],[1.53,7.3606],[1.97,4.5507],[2.325,2.031],[2.5,3.3066],[6,7.41]]},{book:"P-BK7",coefficients:[0,1.183185,.007221419,.08717564,.02682168,1.031337,101.7024],comments:"suitable for precision molding",formula:2,range:[.31,2.5],references:'1) <a href="https://refractiveindex.info/download/data/2015/schott-optical-glass-collection-datasheets-july-2015-us.pdf">SCHOTT optical glass data sheets 2015-07-22</a><br>2) <a href="https://refractiveindex.info/download/data/2015/schottzemax-20150722.agf">SCHOTT Zemax catalog 2015-07-22</a>',source:"Schott",tabulated:[[.31,3.8602],[.32,1.4536],[.334,3.3459],[.35,8.085],[.365,3.1801],[.37,2.4996],[.38,1.7054],[.39,1.2477],[.4,1.0227],[.405,9.0558],[.42,8.0456],[.436,8.3521],[.46,7.3395],[.5,6.379],[.546,5.2218],[.58,5.5469],[.62,5.9295],[.66,6.312],[.7,6.6946],[1.06,3.3758],[1.53,1.0336],[1.97,5.2286],[2.325,2.6396],[2.5,6.1794]]},{book:"SF10",coefficients:[0,1.61626,.01275346,.2592293,.0581984,1.077623,116.6077],comments:"lead containing glass type",formula:2,range:[.38,2.5],references:'1) <a href="https://refractiveindex.info/download/data/2015/schott-optical-glass-collection-datasheets-july-2015-us.pdf">SCHOTT optical glass data sheets 2015-07-22</a><br>2) <a href="https://refractiveindex.info/download/data/2015/schottzemax-20150722.agf">SCHOTT Zemax catalog 2015-07-22</a>',source:"Schott",tabulated:[[.38,3.403],[.39,1.2343],[.4,4.7245],[.405,3.0388],[.42,1.1147],[.436,5.5209],[.46,3.2573],[.5,1.7604],[.546,8.7117],[.58,9.2541],[.62,1.3863],[.66,1.4758],[.7,1.1169],[1.06,1.0137],[1.53,6.3727],[1.97,5.2286],[2.325,2.031],[2.5,2.9528],[6,1.59]]},{book:"Y3Al5O12",coefficients:[0,2.282,.01185,3.27644,282.734],formula:2,range:[.4,5],references:'D. E. Zelmon, D. L. Small and R. Page. Refractive-index measurements of undoped yttrium aluminum garnet from 0.4 to 5.0 µm, <a href="https://doi.org/10.1364/AO.37.004933"><i>Appl. Opt.</i> <b>37</b>, 4933-4935 (1998)</a>',source:"Zelmon"},{book:"YLiF4",coefficients:[.31021,.84903,.00876,.53607,134.9566],comments:"Room temperature. Extraordinary ray (e).",formula:2,range:[.225,2.6],references:'N. P. Barnes and D. J. Gettemy. Temperature variation of the refractive indices of yttrium lithium fluoride, <a href="https://doi.org/10.1364/JOSA.70.001244"><i>J. Opt. Soc. Am.</i> <b>70</b>, 1244-1247 (1980)</a>',source:"Barnes-e"},{book:"YLiF4",coefficients:[.38757,.70757,.00931,.18849,50.99741],comments:"Room temperature. Ordinary ray (o).",formula:2,range:[.225,2.6],references:'N. P. Barnes and D. J. Gettemy. Temperature variation of the refractive indices of yttrium lithium fluoride, <a href="https://doi.org/10.1364/JOSA.70.001244"><i>J. Opt. Soc. Am.</i> <b>70</b>, 1244-1247 (1980)</a>',source:"Barnes-o"},{book:"YVO4",coefficients:[4.6072,.108087,0,.052495,1,0,0,0,1],comments:"Extraordinary ray (e)",formula:4,range:[.48,1.34],references:'H. S. Shi, G. Zhang and H. Y. Shen. Measurement of principal refractive indices and the thermal refractive index coefficients of yttrium vanadate, <a href="http://caod.oriprobe.com/articles/3152847/Measurement_of_Principal_Refractive_Indices_and_the_Thermal_Refractive.htm"><i>J. Synthetic Cryst.</i> <b>30</b>, 85-88 (2001)</a>, as cited in Handbook of Optics, 3rd edition, Vol. 4. McGraw-Hill 2009',source:"Shi-e"},{book:"YVO4",coefficients:[3.77879,.07479,0,.045731,1,0,0,0,1],comments:"Ordinary ray (o)",formula:4,range:[.48,1.34],references:'H. S. Shi, G. Zhang and H. Y. Shen. Measurement of principal refractive indices and the thermal refractive index coefficients of yttrium vanadate, <a href="http://caod.oriprobe.com/articles/3152847/Measurement_of_Principal_Refractive_Indices_and_the_Thermal_Refractive.htm"><i>J. Synthetic Cryst.</i> <b>30</b>, 85-88 (2001)</a>, as cited in Handbook of Optics, 3rd edition, Vol. 4. McGraw-Hill 2009',source:"Shi-o"},{book:"ZnS",coefficients:[8.393,.14383,0,.2421,2,4430.99,0,36.71,2],comments:"Cubic ZnS, 20 °C",formula:4,range:[.405,13],references:'1) M. Debenham. Refractive indices of zinc sulfide in the 0.405-13-µm wavelength range, <a href="https://doi.org/10.1364/AO.23.002238"><i>Appl. Opt.</i>, <b>23</b>, 2238-2239 (1984)</a><br>2) C. A. Klein. Room-temperature dispersion equations for cubic zinc sulfide, <a href="https://doi.org/10.1364/AO.25.001873"><i>Appl. Opt.</i> <b>25</b>, 1873-1875 (1986)</a><br>*Ref. 2 provides a modified Sellmeier equation based on the data from Ref. 1',source:"Debenham"},{book:"ZnSe",coefficients:[0,4.458138,.2008599,.4672163,.3913712,2.895663,47.13621],comments:"CVD ZnSe, 23 °C",formula:1,range:[.54,18.2],references:'1) J. Connolly, B. diBenedetto, and R. Donadio. Specifications of Raytran material, <a href="https://doi.org/10.1117/12.957359"><i>Proc. SPIE</i>, <b>181</b>, 141-144 (1979)</a><br>2) B. Tatian. Fitting refractive-index data with the Sellmeier dispersion formula, <a href="https://doi.org/10.1364/AO.23.004477"><i>Appl. Opt.</i> <b>23</b>, 4477-4485 (1984)</a><br>*Ref. 2 provides Sellmeier equation based on the data from Ref. 1',source:"Connolly"},{book:"ZnSe",coefficients:[3,1.9,.113],comments:"Room temperature",formula:2,range:[.48,2.5],references:'D. T. F. Marple. Refractive index of ZnSe, ZnTe, and CdTe, <a href="https://doi.org/10.1063/1.1713411"><i>J. Appl. Phys.</i> <b>35</b>, 539-542 (1964)</a>',source:"Marple"}],window.LaserCanvas.render=function(e){e.innerHTML=["\t\x3c!-- Canvas --\x3e",'\t<div id="LaserCanvasFrame" class="laserCanvasFrame">','\t\t<div class="laserCanvasHighlight">','\t\t\t<div class="highlight"></div>',"\t\t</div>",'\t\t<canvas id="LaserCanvas" class="hidden"></canvas>','\t\t<div class="laserCanvasInspect"><span data-dimension="sag" color-theme-plane="sag"></span> <span class="ellipse"></span> <span data-dimension="tan" color-theme-plane="tan"></span> &micro;m</div>',"\t</div>","\t","\t\x3c!-- Toolbar --\x3e",'\t<div id="LaserCanvasToolbar" class="laserCanvasToolbar">',"",'\t\t<div class="generalSelector themeSelector">','\t\t\t<div class="slider" data-set-theme="toggle"></div>','\t\t\t<div class="buttons">','\t\t\t\t<button data-set-theme="line"  data-localize="buttonLine">Line</button>','\t\t\t\t<button data-set-theme="light" data-localize="buttonLight">Light</button>','\t\t\t\t<button data-set-theme="dark"  data-localize="buttonDark">Dark</button>',"\t\t\t</div>","\t\t</div>","\t\t",'\t\t<div class="generalSelector interactionSelector">','\t\t\t<div class="slider" data-render-interaction="toggle"></div>','\t\t\t<div class="buttons">','\t\t\t\t<button data-render-interaction="layout"  data-localize="buttonLayout">Layout</button>','\t\t\t\t<button data-render-interaction="inspect" data-localize="buttonInspect">Inspect</button>',"\t\t\t</div>","\t\t</div>","\t\t",'\t\t<button data-insert-element="Mirror"     data-theme-image="mirrorPlane" >Mirror</button>','\t\t<button data-insert-element="Lens"       data-theme-image="lensConvex"  >Lens</button>','\t\t<button data-insert-element="Dielectric" data-theme-image="block"       >Dielectric</button>','\t\t<button data-insert-element="Screen"     data-theme-image="screen"      >Screen</button>',"",'\t\t<a href="mailto:lasercanvas@outlook.com" class="feedbackLink"><span>F</span><span>e</span><span>e</span><span>d</span><span>b</span><span>a</span><span>c</span><span>k</span></a>',"\t</div>","","\t\x3c!-- Graphs and variables --\x3e",'\t<div id="LaserCanvasVariablesPanel" class="laserCanvasVariablesPanel">','\t\t<div class="content">','\t\t\t<div class="variables"><div class="heading">Variables</div></div>','\t\t\t<div class="graphs"></div>',"\t\t</div>","\t</div>","","\t\x3c!-- New system panel --\x3e",'\t<div id="LaserCanvasNewPanel" class="laserCanvasNewPanel">','\t\t<button data-create-system="linear"     ><span data-localize="Linear resonator"></span></button>','\t\t<button data-create-system="endcap"     ><span data-localize="End coated resonator"></span></button>','\t\t<button data-create-system="ultrafast"  ><span data-localize="Ultrafast resonator"></span></button>','\t\t<button data-create-system="ring"       ><span data-localize="Ring resonator"></span></button>','\t\t<button data-create-system="propagation"><span data-localize="Propagation system"></span></button>','\t\t<button data-action="saveFile"><span data-localize="Download"></span></button>','\t\t<button data-action="openFile">','\t\t\t<input type="file" />','\t\t\t<span data-localize="Open file..."></span>',"\t\t</button>","\t</div>","\t","\t\x3c!-- Info panel --\x3e",'\t<div id="LaserCanvasInfo" class="laserCanvasInfo" ','\t\tdata-show-advanced="false">','\t\t<div class="systems">',"\t\t</div>",'\t\t<div class="elements">','\t\t\t<div class="template" data-index="" data-element-type="">',"\t\t\t\t<h1></h1>","\t\t\t\t<table>","\t\t\t\t\t<tbody>","\t\t\t\t\t</tbody>","\t\t\t\t</table>","\t\t\t</div>","\t\t</div>",'\t\t<ul class="infoPanelOptions">','\t\t\t<li><label><input type="checkbox" data-action="toggleInfopanel" data-attribute="show-advanced" class="laserCanvasInput" /> &nbsp; <span data-localize="Extended data"></span></label></li>','\t\t\t<li><button class="lcbutton padded" data-action="download-svg" data-localize="Download SVG"></button></li>','\t\t\t<li><span class="versionInfo"></span></li>',"\t\t</ul>","\t</div>",'\t<button id="LaserCanvasToggleInfo" data-action="toggleInfo"></button>','\t<button id="LaserCanvasToggleVariables" data-action="toggleVariables"></button>'].join("\n"),LaserCanvas.localize.elements(),LaserCanvas.theme.set("light",function(){var e=document.getElementById("LaserCanvas"),t=document.getElementById("LaserCanvasInfo");e.className="render2d",LaserCanvas.app=new LaserCanvas.Application(e,t),LaserCanvas.app.init()})}}();